(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Dfyc:function(t,e,c){"use strict";c.d(e,"a",function(){return n});class n{constructor(t,e="asc",c="",n=1,a=10){this.filter=t,this.sortOrder=e,this.sortField=c,this.pageNumber=n,this.pageSize=a}}},F9KZ:function(t,e,c){"use strict";c.d(e,"a",function(){return r});var n=c("2Vo4"),a=c("LRne"),o=c("/uUt"),i=c("zP0r");class r{constructor(){this.entitySubject=new n.a([]),this.hasItems=!1,this.loading$=Object(a.a)(!1),this.isPreloadTextViewed$=Object(a.a)(!0),this.paginatorTotalSubject=new n.a(0),this.loadingSubject=new n.a(!1),this.subscriptions=[],this.paginatorTotal$=this.paginatorTotalSubject.asObservable(),this.loading$=this.loadingSubject.asObservable();const t=this.paginatorTotal$.pipe(Object(o.a)(),Object(i.a)(1)).subscribe(t=>this.hasItems=t>0);this.subscriptions.push(t)}connect(){return this.entitySubject.asObservable()}disconnect(){this.entitySubject.complete(),this.paginatorTotalSubject.complete(),this.subscriptions.forEach(t=>t.unsubscribe())}}},Owrn:function(t,e,c){"use strict";c.d(e,"a",function(){return d});var n=c("fXoL"),a=c("jhN1");let o=(()=>{class t{constructor(t,e){this.sanitizer=t,this.ngZone=e,this.type="danger",this.timeout=1e4,this.alertId=0,this.alerts=[]}clear(){this.alerts=[]}get(){return this.alerts}addAlert(t,e){var c,a,o,i;return t.id=this.alertId++,t.message=null!==(a=this.sanitizer.sanitize(n.K.HTML,null!==(c=t.message)&&void 0!==c?c:""))&&void 0!==a?a:"",t.timeout=null!==(o=t.timeout)&&void 0!==o?o:this.timeout,t.type=null!==(i=t.type)&&void 0!==i?i:this.type,t.close=e=>this.closeAlert(t.id,e),(null!=e?e:this.alerts).push(t),t.timeout>0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>{this.closeAlert(t.id,null!=e?e:this.alerts)})},t.timeout)}),t}closeAlert(t,e){const c=null!=e?e:this.alerts,n=c.map(t=>t.id).indexOf(t);n>=0&&c.splice(n,1)}}return t.\u0275fac=function(e){return new(e||t)(n.cc(a.b),n.cc(n.B))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var i=c("ksCG"),r=c("ofXK"),s=c("znSr"),l=c("bTqV"),b=c("XiUz"),m=c("NFeN");function u(t,e){if(1&t){const t=n.Wb();n.Vb(0,"div"),n.Oc(1,"\n  "),n.Vb(2,"div",1),n.Oc(3,"\n    "),n.Vb(4,"button",2),n.gc("click",function(){n.Ec(t);const c=e.$implicit;return n.kc().close(c)}),n.Oc(5,"\n      "),n.Vb(6,"span",3),n.Oc(7,"\n        "),n.Vb(8,"mat-icon",4),n.Oc(9,"clear"),n.Ub(),n.Oc(10,"\n      "),n.Ub(),n.Oc(11,"\n    "),n.Ub(),n.Oc(12,"\n    "),n.Vb(13,"span",5),n.Oc(14,"\n      "),n.Vb(15,"strong"),n.Oc(16),n.Ub(),n.Oc(17,"\n    "),n.Ub(),n.Oc(18,"\n  "),n.Ub(),n.Oc(19,"\n"),n.Ub()}if(2&t){const t=e.$implicit,c=n.kc();n.Cb(2),n.sc("ngClass",c.setClasses(t)),n.Cb(14),n.Qc("",t.message," ")}}let d=(()=>{class t{constructor(t,e){this.alertService=t,this.eventManager=e,this.alerts=[],this.errorListener=e.subscribe("erpSepApp.error",t=>{const e=t.content;this.addErrorAlert(e.message,e.type)}),this.httpErrorListener=e.subscribe("erpSepApp.httpError",t=>{const e=t.content;switch(e.status){case 0:this.addErrorAlert("Servidor inactivo");break;case 400:{const t=e.headers.keys();let c=null;for(const n of t)n.toLowerCase().endsWith("messageerp")&&(c=e.headers.get(n));c?this.addErrorAlert(c):this.addErrorAlert(e.message?e.message:e.error.message,"warning");break}case 404:this.addErrorAlert("Recurso no encontrado.","warning");break;default:{const t=e.headers.keys();let c=null;for(const n of t)n.toLowerCase().endsWith("messageerp")&&(c=e.headers.get(n));c&&this.addErrorAlert(c)}}})}setClasses(t){const e={alert:!0};switch(t.type){case"warning":return Object.assign(Object.assign({},e),{"bg-warning":!0});case"info":return Object.assign(Object.assign({},e),{"bg-info":!0});case"success":return Object.assign(Object.assign({},e),{"bg-success":!0});default:return Object.assign(Object.assign({},e),{"bg-danger":!0})}}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(t){var e;null===(e=t.close)||void 0===e||e.call(t,this.alerts)}addErrorAlert(t,e){this.alertService.addAlert({type:e,message:t},this.alerts)}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(o),n.Pb(i.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["jhi-alert-error"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],["mat-icon-button","",3,"click"],["fxFlex",""],[2,"align-self","center"],[2,"word-wrap","break-word"]],template:function(t,e){1&t&&(n.Oc(0,"\n\n"),n.Mc(1,u,20,2,"div",0),n.Oc(2,"\n")),2&t&&(n.Cb(1),n.sc("ngForOf",e.alerts))},directives:[r.p,r.o,s.a,l.a,b.a,m.a],encapsulation:2}),t})()},poNo:function(t,e,c){"use strict";c.r(e),c.d(e,"BalanceAjustmentModule",function(){return me});var n=c("tyNb"),a=c("hbEq"),o=c("elZ2"),i=c("B/XX"),r=c("ksCG"),s=c("lJxs"),l=c("fXoL"),b=c("3Pt+"),m=c("M9IT"),u=c("Dfyc"),d=c("OTai"),O=c("hGNd"),p=c("VRyK"),h=c("vkgz"),f=c("Kj3r"),g=c("/uUt"),V=c("pLZG"),C=c("eIep"),S=c("nYR2"),U=c("azDq"),v=c("CKGL"),y=c("XiUz"),w=c("kmnG"),I=c("qFsG"),M=c("/1cH"),D=c("ofXK"),A=c("+0xr"),T=c("Dh3D"),E=c("QibW"),x=c("FKr1"),j=c("Xa2L");const F=["sort1"];function R(t,e){if(1&t&&(l.Vb(0,"mat-error"),l.Oc(1),l.Ub()),2&t){const t=l.kc();l.Cb(1),l.Pc(t.mensajeErrorEnte())}}function P(t,e){1&t&&(l.Vb(0,"mat-option",34),l.Oc(1,"\n          "),l.Qb(2,"mat-spinner",35),l.Oc(3,"\n        "),l.Ub())}function k(t,e){if(1&t&&(l.Vb(0,"mat-option",37),l.Oc(1,"\n            "),l.Vb(2,"span"),l.Vb(3,"small"),l.Oc(4),l.Ub(),l.Ub(),l.Oc(5,"\n          "),l.Ub()),2&t){const t=e.$implicit;l.sc("value",t),l.Cb(4),l.Pc(t.persona?t.persona.apellido:t.personaJuridica?t.personaJuridica.nombreFantasia:"")}}function $(t,e){if(1&t&&(l.Tb(0),l.Oc(1,"\n          "),l.Mc(2,k,6,2,"mat-option",36),l.Oc(3,"\n        "),l.Sb()),2&t){const t=l.kc();l.Cb(2),l.sc("ngForOf",t.resultEnte)}}function Q(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1," "),l.Ub())}function L(t,e){if(1&t&&(l.Vb(0,"mat-cell",38),l.Oc(1,"\n            "),l.Qb(2,"mat-radio-button",39),l.Oc(3,"\n          "),l.Ub()),2&t){const t=e.$implicit;l.Cb(2),l.sc("value",t)}}function N(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Cbte"),l.Ub())}function z(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Cbte:"),l.Ub(),l.Oc(4,"\n          "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n        "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.tipoComprobante.nombre)}}function q(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Nro"),l.Ub())}function B(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Nro:"),l.Ub(),l.Oc(4),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n          ",t.nroComprobante,"\n        ")}}function H(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"F.Emision"),l.Ub())}function J(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"F.Emision:"),l.Ub(),l.Oc(4,"\n          "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n        "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.fechaComprobanteString)}}function G(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"F.Vencimiento"),l.Ub())}function W(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"F.Vto:"),l.Ub(),l.Oc(4,"\n          "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n        "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.fechaVtoString)}}function X(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Periodo"),l.Ub())}function _(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Periodo:"),l.Ub(),l.Oc(4,"\n          "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n        "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.periodo)}}function K(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Total"),l.Ub())}function Z(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Total:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n          ",l.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n        ")}}function Y(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Saldo"),l.Ub())}function tt(t,e){if(1&t&&(l.Vb(0,"mat-cell",42),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Saldo:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n          ",l.pc(5,1,t.saldo,"ARS","symbol","1.0-0"),"\n        ")}}function et(t,e){1&t&&(l.Vb(0,"mat-header-cell",40),l.Oc(1,"Estado"),l.Ub())}function ct(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n          "),l.Vb(2,"span",41),l.Oc(3,"Estado:"),l.Ub(),l.Oc(4,"\n          "),l.Vb(5,"span"),l.Oc(6),l.Ub(),l.Oc(7,"\n        "),l.Ub()),2&t){const t=e.$implicit,c=l.kc();l.Cb(5),l.Fb("badge badge--",c.comprobanteService.getItemCssClassByStatus(t.estadoComprobante.nombre),""),l.Cb(1),l.Qc("\n            ",t.estadoComprobante.nombre,"\n          ")}}function nt(t,e){1&t&&l.Qb(0,"mat-header-row")}function at(t,e){1&t&&l.Qb(0,"mat-row")}function ot(t,e){1&t&&(l.Vb(0,"div"),l.Oc(1,"\n      No se encontraron registros\n      "),l.Vb(2,"strong"),l.Oc(3,"Verifique que haya Seleccionado un Ente. "),l.Ub(),l.Oc(4,"\n    "),l.Ub())}function it(t,e){1&t&&(l.Vb(0,"div"),l.Oc(1,"Cargando..."),l.Ub())}function rt(t,e){1&t&&l.Qb(0,"mat-spinner",43),2&t&&l.sc("diameter",20)}const st=function(){return[3,5,10]};let lt=(()=>{class t{constructor(t,e,c,n,a){this.fb=t,this.route=e,this.enteService=c,this.comprobanteService=n,this.cdk=a,this.creditForm=this.fb.group({ente:["",[b.v.required,d.a.RequireMatch]],selectedOptions:["",b.v.required]}),this.displayedColumns=["select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.isSaving=!1,this.resultEnte=[],this.loadingAutocomplete=!1,this.subscriptions=[],this.creditSeleccionInfo=new l.o}ngOnInit(){var t;this.route.data.subscribe(t=>this.dataUrl=t);const e=null===(t=this.sort)||void 0===t?void 0:t.sortChange.subscribe(()=>this.paginator.pageIndex=0);e&&this.subscriptions.push(e);const c=Object(p.a)(this.sort.sortChange,this.paginator.page).pipe(Object(h.a)(()=>this.loadCreditoEnteList())).subscribe();this.subscriptions.push(c),this.dataSource=new O.a(this.comprobanteService)}ngAfterViewInit(){const t=this.ente.valueChanges.pipe(Object(s.a)(t=>"string"==typeof t?this.noWhiteSpace(t):t),Object(f.a)(150),Object(g.a)(),Object(V.a)(t=>!!t),Object(h.a)(()=>this.loadingAutocomplete=!0),Object(C.a)(t=>this.enteService.findAutocompleteEnte(t).pipe(Object(S.a)(()=>this.loadingAutocomplete=!1)))).subscribe(t=>{this.resultEnte=t,this.cdk.markForCheck()});this.subscriptions.push(t);const e=this.selectedOptions.valueChanges.subscribe(t=>{this.creditSeleccionInfo.emit(null!=t?t:null)});this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}selectedEnte(t){t&&(this.enteSelected=t,this.loadCreditoEnteList())}loadCreditoEnteList(){this.limpiarOptions();const t=new u.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(t,this.dataUrl.queryOperationStep1)}filterConfiguration(){const t={};return t.id=this.enteSelected.id?this.enteSelected.id:0,t}limpiarOptions(){var t;null===(t=this.creditForm.get("selectedOptions"))||void 0===t||t.reset(),this.dataSource.entitySubject.next([])}get ente(){return this.creditForm.get("ente")}mensajeErrorEnte(){return this.ente.hasError("required")?"El Ente es requerido":this.ente.hasError("incorrect")?"Seleccione un Ente v\xe1lido":""}get selectedOptions(){return this.creditForm.get("selectedOptions")}displayFn(t){if(null!=t)return t.persona?t.persona.apellido:t.personaJuridica?t.personaJuridica.nombreFantasia:void 0}noWhiteSpace(t){return t.trimLeft()}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.e),l.Pb(n.a),l.Pb(U.a),l.Pb(v.a),l.Pb(l.h))},t.\u0275cmp=l.Jb({type:t,selectors:[["jhi-credito-ente"]],viewQuery:function(t,e){if(1&t&&(l.Tc(m.a,3),l.Tc(F,3)),2&t){let t;l.Bc(t=l.hc())&&(e.paginator=t.first),l.Bc(t=l.hc())&&(e.sort=t.first)}},outputs:{creditSeleccionInfo:"creditSeleccionInfo"},decls:128,vars:24,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","outline"],["matInput","","id","ente",3,"formControl","matAutocomplete"],["align","start"],[4,"ngIf"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","select"],[4,"matHeaderCellDef"],["formControlName","selectedOptions"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: red","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"is-loading"],["diameter","20"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-column-checkbox"],["color","primary",3,"value"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","red"],[3,"diameter"]],template:function(t,e){if(1&t&&(l.Vb(0,"form",0),l.Oc(1,"\n  "),l.Vb(2,"div",1),l.Oc(3,"\n    "),l.Vb(4,"div",2),l.Oc(5,"\n      "),l.Vb(6,"mat-form-field",3),l.Oc(7,"\n        "),l.Vb(8,"mat-label"),l.Oc(9,"Ente:"),l.Ub(),l.Oc(10,"\n        "),l.Qb(11,"input",4),l.Oc(12,"\n        "),l.Vb(13,"mat-hint",5),l.Oc(14,"Escribir para buscar.."),l.Ub(),l.Oc(15,"\n        "),l.Mc(16,R,2,1,"mat-error",6),l.Oc(17,"\n      "),l.Ub(),l.Oc(18,"\n      "),l.Vb(19,"mat-autocomplete",7,8),l.gc("optionSelected",function(t){return e.selectedEnte(t.option.value)}),l.Oc(21,"\n        "),l.Mc(22,P,4,0,"mat-option",9),l.Oc(23,"\n        "),l.Mc(24,$,4,1,"ng-container",6),l.Oc(25,"\n      "),l.Ub(),l.Oc(26,"\n    "),l.Ub(),l.Oc(27,"\n  "),l.Ub(),l.Oc(28,"\n\n  "),l.Oc(29,"\n  "),l.Vb(30,"div",10),l.Oc(31,"\n    "),l.Vb(32,"mat-table",11,12),l.Oc(35,"\n      "),l.Tb(36,13),l.Oc(37,"\n        "),l.Mc(38,Q,2,0,"mat-header-cell",14),l.Oc(39,"\n        "),l.Vb(40,"mat-radio-group",15),l.Oc(41,"\n          "),l.Mc(42,L,4,1,"mat-cell",16),l.Oc(43,"\n        "),l.Ub(),l.Oc(44,"\n      "),l.Sb(),l.Oc(45,"\n\n      "),l.Tb(46,17),l.Oc(47,"\n        "),l.Mc(48,N,2,0,"mat-header-cell",18),l.Oc(49,"\n        "),l.Mc(50,z,8,1,"mat-cell",19),l.Oc(51,"\n      "),l.Sb(),l.Oc(52,"\n\n      "),l.Tb(53,20),l.Oc(54,"\n        "),l.Mc(55,q,2,0,"mat-header-cell",18),l.Oc(56,"\n        "),l.Mc(57,B,5,1,"mat-cell",19),l.Oc(58,"\n      "),l.Sb(),l.Oc(59,"\n\n      "),l.Tb(60,21),l.Oc(61,"\n        "),l.Mc(62,H,2,0,"mat-header-cell",18),l.Oc(63,"\n        "),l.Mc(64,J,8,1,"mat-cell",19),l.Oc(65,"\n      "),l.Sb(),l.Oc(66,"\n\n      "),l.Tb(67,22),l.Oc(68,"\n        "),l.Mc(69,G,2,0,"mat-header-cell",18),l.Oc(70,"\n        "),l.Mc(71,W,8,1,"mat-cell",19),l.Oc(72,"\n      "),l.Sb(),l.Oc(73,"\n\n      "),l.Tb(74,23),l.Oc(75,"\n        "),l.Mc(76,X,2,0,"mat-header-cell",18),l.Oc(77,"\n        "),l.Mc(78,_,8,1,"mat-cell",19),l.Oc(79,"\n      "),l.Sb(),l.Oc(80,"\n\n      "),l.Tb(81,24),l.Oc(82,"\n        "),l.Mc(83,K,2,0,"mat-header-cell",18),l.Oc(84,"\n        "),l.Mc(85,Z,6,6,"mat-cell",19),l.Oc(86,"\n      "),l.Sb(),l.Oc(87,"\n\n      "),l.Tb(88,25),l.Oc(89,"\n        "),l.Mc(90,Y,2,0,"mat-header-cell",18),l.Oc(91,"\n        "),l.Mc(92,tt,6,6,"mat-cell",26),l.Oc(93,"\n      "),l.Sb(),l.Oc(94,"\n\n      "),l.Tb(95,27),l.Oc(96,"\n        "),l.Mc(97,et,2,0,"mat-header-cell",18),l.Oc(98,"\n        "),l.Mc(99,ct,8,4,"mat-cell",19),l.Oc(100,"\n      "),l.Sb(),l.Oc(101,"\n\n      "),l.Mc(102,nt,1,0,"mat-header-row",28),l.Oc(103,"\n      "),l.Mc(104,at,1,0,"mat-row",29),l.Oc(105,"\n    "),l.Ub(),l.Oc(106,"\n  "),l.Ub(),l.Oc(107,"\n\n  "),l.Oc(108,"\n  "),l.Vb(109,"div",30),l.Oc(110,"\n    "),l.Mc(111,ot,5,0,"div",6),l.Oc(112,"\n    "),l.Mc(113,it,2,0,"div",6),l.lc(114,"async"),l.Oc(115,"\n  "),l.Ub(),l.Oc(116,"\n\n  "),l.Vb(117,"div",31),l.Oc(118,"\n    "),l.Mc(119,rt,1,1,"mat-spinner",32),l.lc(120,"async"),l.Oc(121,"\n    "),l.Vb(122,"mat-paginator",33),l.lc(123,"async"),l.Oc(124,"\n    "),l.Ub(),l.Oc(125,"\n  "),l.Ub(),l.Oc(126,"\n"),l.Ub(),l.Oc(127,"\n")),2&t){const t=l.Cc(20);l.sc("formGroup",e.creditForm),l.Cb(11),l.sc("formControl",e.ente)("matAutocomplete",t),l.Cb(5),l.sc("ngIf",e.ente.invalid),l.Cb(3),l.sc("displayWith",e.displayFn.bind(e)),l.Cb(3),l.sc("ngIf",e.loadingAutocomplete),l.Cb(2),l.sc("ngIf",!e.loadingAutocomplete),l.Cb(8),l.sc("dataSource",e.dataSource),l.Cb(70),l.sc("matHeaderRowDef",e.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",e.displayedColumns),l.Cb(7),l.sc("ngIf",!e.dataSource.hasItems),l.Cb(2),l.sc("ngIf",l.mc(114,17,e.dataSource.isPreloadTextViewed$)),l.Cb(6),l.sc("ngIf",l.mc(120,19,e.dataSource.loading$)),l.Cb(3),l.sc("pageSize",10)("pageSizeOptions",l.wc(23,st))("length",l.mc(123,21,e.dataSource.paginatorTotal$))("showFirstLastButtons",!0)}},directives:[b.w,b.o,b.h,y.d,y.c,y.a,w.c,w.g,I.b,b.c,M.c,b.n,b.f,w.f,D.q,M.a,A.j,T.a,A.c,A.e,E.b,b.g,A.b,A.g,A.i,m.a,w.b,x.n,j.b,D.p,A.d,A.a,E.a,T.b,A.f,A.h],pipes:[D.b,D.d],styles:[""]}),t})();var bt=c("0EQZ"),mt=c("Wp6s"),ut=c("bSwM");const dt=["sort1"];function Ot(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1," "),l.Ub())}function pt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"mat-cell",33),l.Oc(1,"\n        "),l.Vb(2,"mat-checkbox",34),l.gc("click",function(t){return t.stopPropagation()})("change",function(c){l.Ec(t);const n=e.$implicit,a=l.kc();return c?a.selection.toggle(n):null}),l.Oc(3,"\n        "),l.Ub(),l.Oc(4,"\n      "),l.Ub()}if(2&t){const t=e.$implicit,c=l.kc();l.Cb(2),l.sc("checked",c.selection.isSelected(t))}}function ht(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Cbte"),l.Ub())}function ft(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Cbte:"),l.Ub(),l.Oc(4,"\n        "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n      "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.tipoComprobante.nombre)}}function gt(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Nro"),l.Ub())}function Vt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Nro:"),l.Ub(),l.Oc(4),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n        ",t.nroComprobante,"\n      ")}}function Ct(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"F.Emision"),l.Ub())}function St(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"F.Emision:"),l.Ub(),l.Oc(4,"\n        "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n      "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.fechaComprobanteString)}}function Ut(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"F.Vencimiento"),l.Ub())}function vt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"F.Vto:"),l.Ub(),l.Oc(4,"\n        "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n      "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.fechaVtoString)}}function yt(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Periodo"),l.Ub())}function wt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Periodo:"),l.Ub(),l.Oc(4,"\n        "),l.Vb(5,"small"),l.Oc(6),l.Ub(),l.Oc(7,"\n      "),l.Ub()),2&t){const t=e.$implicit;l.Cb(6),l.Pc(t.periodo)}}function It(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Total"),l.Ub())}function Mt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Total:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n        ",l.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n      ")}}function Dt(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Saldo"),l.Ub())}function At(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Saldo:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n        ",l.pc(5,1,t.saldo,"ARS","symbol","1.0-0"),"\n      ")}}function Tt(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Imputado"),l.Ub())}function Et(t,e){if(1&t&&(l.Vb(0,"mat-cell",38),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Imputado:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n        ",l.pc(5,1,t.imputado,"ARS","symbol","1.0-0"),"\n      ")}}function xt(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"A imputar"),l.Ub())}function jt(t,e){if(1&t&&(l.Vb(0,"mat-cell",39),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"A imputar:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n        ",l.pc(5,1,t.aImputar,"ARS","symbol","1.0-0"),"\n      ")}}function Ft(t,e){1&t&&(l.Vb(0,"mat-header-cell",35),l.Oc(1,"Estado"),l.Ub())}function Rt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n        "),l.Vb(2,"span",36),l.Oc(3,"Estado:"),l.Ub(),l.Oc(4,"\n        "),l.Vb(5,"span"),l.Oc(6),l.Ub(),l.Oc(7,"\n      "),l.Ub()),2&t){const t=e.$implicit,c=l.kc();l.Cb(5),l.Fb("badge badge--",c.comprobanteService.getItemCssClassByStatus(t.estadoComprobante.nombre),""),l.Cb(1),l.Qc("\n          ",t.estadoComprobante.nombre,"\n        ")}}function Pt(t,e){1&t&&l.Qb(0,"mat-header-row")}function kt(t,e){1&t&&l.Qb(0,"mat-row")}function $t(t,e){1&t&&(l.Vb(0,"div"),l.Oc(1,"\n    "),l.Vb(2,"strong"),l.Oc(3,"No se encontraron registros"),l.Ub(),l.Oc(4,"\n  "),l.Ub())}function Qt(t,e){1&t&&(l.Vb(0,"div"),l.Oc(1,"Cargando..."),l.Ub())}function Lt(t,e){1&t&&l.Qb(0,"mat-spinner",40),2&t&&l.sc("diameter",20)}const Nt=function(){return[3,5,10]};let zt=(()=>{class t{constructor(t,e,c,n){this.route=t,this.comprobanteService=e,this.fb=c,this.eventManager=n,this.selection=new bt.c(!0,[],!0),this.dataSource=new O.a(this.comprobanteService),this.displayedColumns=["Select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Imputado","Imputar","Saldo","Estado"],this.subscriptions=[],this.itemsDeudaOriginales=[],this.creditoResult=[],this.descontarForm=this.fb.group({deudas:["",b.v.required]}),this.deudaSeleccionInfo=new l.o}get comprobanteIn(){return this._comprobanteIn}set comprobanteIn(t){this._comprobanteIn=t,this.creditoAcum=0,this.selection.clear(),this.loadDeudaEnteList()}ngOnInit(){var t;const e=this.selection.changed.subscribe(t=>{t.removed.length>0&&this.calculoXBorrarItems(t.removed[0]),t.added.length>0&&this.creditoAcum>0&&this.calculoxRegistro(t.added[0]),this.conservarCambios(),this.creditoAcum>0||this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Ya consumio el Total de la Nota de Credito!, Puede cambiar su seleccion si lo desea.",type:"warning"}))});this.subscriptions.push(e);const c=null===(t=this.sort)||void 0===t?void 0:t.sortChange.subscribe(()=>this.paginator.pageIndex=0);c&&this.subscriptions.push(c);const n=Object(p.a)(this.sort.sortChange,this.paginator.page).pipe(Object(h.a)(()=>this.loadDeudaEnteList())).subscribe();this.subscriptions.push(n),this.subscriptions.push(this.route.data.subscribe(t=>this.dataUrl=t))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadDeudaEnteList(){var t;if(!this.comprobanteIn)return;this.dataSource.entitySubject.next([]),this.creditoAcum=this.comprobanteIn.saldo,this.selection.clear(),null===(t=this.descontarForm.get("deudas"))||void 0===t||t.reset();const e=new u.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(e,this.dataUrl.queryOperationStep2),this.dataSource.entitySubject.subscribe(t=>this.creditoResult=t)}filterConfiguration(){const t={};return t.id=this.comprobanteIn.ente.id?this.comprobanteIn.ente.id:0,t}calculoxRegistro(t){let e;switch(this.totalDeudaAcum+=t.saldo,this.creditoAcum-=t.saldo,this.creditoAcum>=0){case!0:e=t.saldo;break;case!1:e=t.saldo- -1*this.creditoAcum,this.creditoAcum=0}t.saldo-=e,t.aImputar=e}calculoXBorrarItems(t){this.totalDeudaAcum-=t.aImputar,this.creditoAcum+=t.aImputar,t.saldo+=t.aImputar,t.aImputar=0}conservarCambios(){var t,e;const c=this.creditoResult.filter(t=>t.aImputar>0),n=Object.assign(Object.assign({},this.comprobanteIn),{saldo:this.creditoAcum,comprobanteRef:c});c.length>0?null===(t=this.descontarForm.get("deudas"))||void 0===t||t.patchValue(n):null===(e=this.descontarForm.get("deudas"))||void 0===e||e.patchValue(""),this.deudaSeleccionInfo.emit(n)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(n.a),l.Pb(v.a),l.Pb(b.e),l.Pb(r.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["jhi-descontar-deuda"]],viewQuery:function(t,e){if(1&t&&(l.Tc(m.a,3),l.Tc(dt,3)),2&t){let t;l.Bc(t=l.hc())&&(e.paginator=t.first),l.Bc(t=l.hc())&&(e.sort=t.first)}},inputs:{comprobanteIn:"comprobanteIn"},outputs:{deudaSeleccionInfo:"deudaSeleccionInfo"},decls:130,vars:23,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","33.33","fxFlex","100"],[1,"bg-purple","fijo"],[1,"stats","text-center"],[1,"text-white","m-0"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],[4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Imputado"],["style","color: teal",4,"matCellDef"],["matColumnDef","Imputar"],["style","color: red",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],[4,"ngIf"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"mat-column-checkbox"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[2,"color","teal"],[2,"color","red"],[3,"diameter"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Oc(1,"\n  "),l.Vb(2,"div",1),l.Oc(3,"\n    "),l.Vb(4,"mat-card",2),l.Oc(5,"\n      "),l.Vb(6,"mat-card-content"),l.Oc(7,"\n        "),l.Vb(8,"div",3),l.Oc(9,"\n          "),l.Vb(10,"h5",4),l.Oc(11,"Saldo"),l.Ub(),l.Oc(12,"\n          "),l.Vb(13,"h2",4),l.Oc(14),l.lc(15,"currency"),l.Ub(),l.Oc(16,"\n        "),l.Ub(),l.Oc(17,"\n      "),l.Ub(),l.Oc(18,"\n    "),l.Ub(),l.Oc(19,"\n  "),l.Ub(),l.Oc(20,"\n"),l.Ub(),l.Oc(21,"\n\n"),l.Vb(22,"div",5),l.Oc(23,"\n  "),l.Vb(24,"mat-table",6,7),l.Oc(27,"\n    "),l.Tb(28,8),l.Oc(29,"\n      "),l.Mc(30,Ot,2,0,"mat-header-cell",9),l.Oc(31,"\n      "),l.Mc(32,pt,5,1,"mat-cell",10),l.Oc(33,"\n    "),l.Sb(),l.Oc(34,"\n\n    "),l.Tb(35,11),l.Oc(36,"\n      "),l.Mc(37,ht,2,0,"mat-header-cell",12),l.Oc(38,"\n      "),l.Mc(39,ft,8,1,"mat-cell",13),l.Oc(40,"\n    "),l.Sb(),l.Oc(41,"\n\n    "),l.Tb(42,14),l.Oc(43,"\n      "),l.Mc(44,gt,2,0,"mat-header-cell",12),l.Oc(45,"\n      "),l.Mc(46,Vt,5,1,"mat-cell",13),l.Oc(47,"\n    "),l.Sb(),l.Oc(48,"\n\n    "),l.Tb(49,15),l.Oc(50,"\n      "),l.Mc(51,Ct,2,0,"mat-header-cell",12),l.Oc(52,"\n      "),l.Mc(53,St,8,1,"mat-cell",13),l.Oc(54,"\n    "),l.Sb(),l.Oc(55,"\n\n    "),l.Tb(56,16),l.Oc(57,"\n      "),l.Mc(58,Ut,2,0,"mat-header-cell",12),l.Oc(59,"\n      "),l.Mc(60,vt,8,1,"mat-cell",13),l.Oc(61,"\n    "),l.Sb(),l.Oc(62,"\n\n    "),l.Tb(63,17),l.Oc(64,"\n      "),l.Mc(65,yt,2,0,"mat-header-cell",12),l.Oc(66,"\n      "),l.Mc(67,wt,8,1,"mat-cell",13),l.Oc(68,"\n    "),l.Sb(),l.Oc(69,"\n\n    "),l.Tb(70,18),l.Oc(71,"\n      "),l.Mc(72,It,2,0,"mat-header-cell",12),l.Oc(73,"\n      "),l.Mc(74,Mt,6,6,"mat-cell",13),l.Oc(75,"\n    "),l.Sb(),l.Oc(76,"\n\n    "),l.Tb(77,19),l.Oc(78,"\n      "),l.Mc(79,Dt,2,0,"mat-header-cell",12),l.Oc(80,"\n      "),l.Mc(81,At,6,6,"mat-cell",20),l.Oc(82,"\n    "),l.Sb(),l.Oc(83,"\n\n    "),l.Tb(84,21),l.Oc(85,"\n      "),l.Mc(86,Tt,2,0,"mat-header-cell",12),l.Oc(87,"\n      "),l.Mc(88,Et,6,6,"mat-cell",22),l.Oc(89,"\n    "),l.Sb(),l.Oc(90,"\n\n    "),l.Tb(91,23),l.Oc(92,"\n      "),l.Mc(93,xt,2,0,"mat-header-cell",12),l.Oc(94,"\n      "),l.Mc(95,jt,6,6,"mat-cell",24),l.Oc(96,"\n    "),l.Sb(),l.Oc(97,"\n\n    "),l.Tb(98,25),l.Oc(99,"\n      "),l.Mc(100,Ft,2,0,"mat-header-cell",12),l.Oc(101,"\n      "),l.Mc(102,Rt,8,4,"mat-cell",13),l.Oc(103,"\n    "),l.Sb(),l.Oc(104,"\n\n    "),l.Mc(105,Pt,1,0,"mat-header-row",26),l.Oc(106,"\n    "),l.Mc(107,kt,1,0,"mat-row",27),l.Oc(108,"\n  "),l.Ub(),l.Oc(109,"\n"),l.Ub(),l.Oc(110,"\n\n"),l.Oc(111,"\n"),l.Vb(112,"div",28),l.Oc(113,"\n  "),l.Mc(114,$t,5,0,"div",29),l.Oc(115,"\n  "),l.Mc(116,Qt,2,0,"div",29),l.lc(117,"async"),l.Oc(118,"\n"),l.Ub(),l.Oc(119,"\n\n"),l.Vb(120,"div",30),l.Oc(121,"\n  "),l.Mc(122,Lt,1,1,"mat-spinner",31),l.lc(123,"async"),l.Oc(124,"\n  "),l.Vb(125,"mat-paginator",32),l.lc(126,"async"),l.Oc(127,"\n  "),l.Ub(),l.Oc(128,"\n"),l.Ub(),l.Oc(129,"\n")),2&t&&(l.Cb(14),l.Pc(l.pc(15,11,e.creditoAcum,"ARS","symbol","1.0-0")),l.Cb(10),l.sc("dataSource",e.dataSource),l.Cb(81),l.sc("matHeaderRowDef",e.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",e.displayedColumns),l.Cb(7),l.sc("ngIf",!e.dataSource.hasItems),l.Cb(2),l.sc("ngIf",l.mc(117,16,e.dataSource.isPreloadTextViewed$)),l.Cb(6),l.sc("ngIf",l.mc(123,18,e.dataSource.loading$)),l.Cb(3),l.sc("pageSize",10)("pageSizeOptions",l.wc(22,Nt))("length",l.mc(126,20,e.dataSource.paginatorTotal$))("showFirstLastButtons",!0))},directives:[y.d,y.c,y.a,mt.a,mt.c,A.j,T.a,A.c,A.e,A.b,A.g,A.i,D.q,m.a,A.d,A.a,ut.a,T.b,A.f,A.h,j.b],pipes:[D.d,D.b],styles:[""]}),t})();function qt(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"Cbte"),l.Ub())}function Bt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Cbte:"),l.Ub(),l.Oc(4),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",t.tipoComprobante.nombre,"\n          ")}}function Ht(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"Nro"),l.Ub())}function Jt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Nro:"),l.Ub(),l.Oc(4),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",t.nroComprobante,"\n          ")}}function Gt(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"Total"),l.Ub())}function Wt(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Total:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",l.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n          ")}}function Xt(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"Imputado"),l.Ub())}function _t(t,e){if(1&t&&(l.Vb(0,"mat-cell",31),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Imputado:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",l.pc(5,1,t.imputado,"ARS","symbol","1.0-0"),"\n          ")}}function Kt(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"a Imputar"),l.Ub())}function Zt(t,e){if(1&t&&(l.Vb(0,"mat-cell",32),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Imputar:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",l.pc(5,1,t.aImputar,"ARS","symbol","1.0-0"),"\n          ")}}function Yt(t,e){1&t&&(l.Vb(0,"mat-header-cell"),l.Oc(1,"Saldo"),l.Ub())}function te(t,e){if(1&t&&(l.Vb(0,"mat-cell",33),l.Oc(1,"\n            "),l.Vb(2,"span",30),l.Oc(3,"Saldo:"),l.Ub(),l.Oc(4),l.lc(5,"currency"),l.Ub()),2&t){const t=e.$implicit;l.Cb(4),l.Qc("\n            ",l.pc(5,1,t.saldo,"ARS","symbol","1.0-0"),"\n          ")}}function ee(t,e){1&t&&l.Qb(0,"mat-header-row")}function ce(t,e){1&t&&l.Qb(0,"mat-row")}let ne=(()=>{class t{constructor(){this.displayedColumns=["Cbte","Nro","Total","Imputado","Imputar","Saldo"]}set confirmVoucher(t){this._confirmVoucher=Object.assign({},t),this.dataSource=this.confirmVoucher.comprobanteRef}get confirmVoucher(){return this._confirmVoucher}getImputado(){var t,e;return null!==(e=null===(t=this.confirmVoucher.comprobanteRef)||void 0===t?void 0:t.reduce((t,e)=>"number"==typeof e.aImputar?t+e.aImputar:t,0))&&void 0!==e?e:0}getSaldoActual(){return this.confirmVoucher.totalComprobante-this.confirmVoucher.imputado}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Jb({type:t,selectors:[["jhi-confirmar-ajuste"]],inputs:{confirmVoucher:"confirmVoucher"},decls:132,vars:31,consts:[["fxLayout","row wrap"],["fxFlex.gt-xs","50","fxFlex","100"],[1,"font-bold"],["fxLayout","column"],["fxFlex.gt-xs","50","fxFlex","100",1,"text-right"],[1,"mat-elevation-z6"],[1,"responsive-table","m-t-15"],[1,"table-items-list",3,"dataSource"],["table",""],["matColumnDef","Cbte"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","Total"],["matColumnDef","Imputado"],["style","color: teal",4,"matCellDef"],["matColumnDef","Imputar"],["style","color: red",4,"matCellDef"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"bg-light","mat-elevation-z6"],[1,"d-flex","align-items-center"],[1,"text-right","ml-auto"],[1,"text-uppercase","text-md","ma-0","text-bold"],[1,"text-uppercase","text-sm","ma-0","text-danger","text-bold"],[1,"m-l-10"],[1,"font-medium"],[1,"text-danger","font-medium"],[1,"header-label"],[2,"color","teal"],[2,"color","red"],[1,"font-medium",2,"color","blue"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card"),l.Oc(1,"\n  "),l.Vb(2,"mat-card-content"),l.Oc(3,"\n    "),l.Oc(4,"\n\n    "),l.Vb(5,"div",0),l.Oc(6,"\n      "),l.Vb(7,"div",1),l.Oc(8,"\n        "),l.Vb(9,"h4",2),l.Oc(10),l.Ub(),l.Oc(11,"\n        "),l.Vb(12,"div",3),l.Oc(13,"\n          "),l.Oc(14,"\n        "),l.Ub(),l.Oc(15,"\n      "),l.Ub(),l.Oc(16,"\n      "),l.Vb(17,"div",4),l.Oc(18,"\n        "),l.Vb(19,"h4",2),l.Oc(20),l.Ub(),l.Oc(21,"\n        "),l.Vb(22,"div",3),l.Oc(23,"\n          "),l.Vb(24,"span"),l.Oc(25),l.Ub(),l.Oc(26,"\n          "),l.Vb(27,"span"),l.Oc(28),l.Ub(),l.Oc(29,"\n          "),l.Oc(30,"\n        "),l.Ub(),l.Oc(31,"\n      "),l.Ub(),l.Oc(32,"\n    "),l.Ub(),l.Oc(33,"\n  "),l.Ub(),l.Oc(34,"\n\n  "),l.Vb(35,"mat-card-content",5),l.Oc(36,"\n    "),l.Vb(37,"div",6),l.Oc(38,"\n      "),l.Vb(39,"mat-table",7,8),l.Oc(41,"\n        "),l.Tb(42,9),l.Oc(43,"\n          "),l.Mc(44,qt,2,0,"mat-header-cell",10),l.Oc(45,"\n          "),l.Mc(46,Bt,5,1,"mat-cell",11),l.Oc(47,"\n        "),l.Sb(),l.Oc(48,"\n\n        "),l.Tb(49,12),l.Oc(50,"\n          "),l.Mc(51,Ht,2,0,"mat-header-cell",10),l.Oc(52,"\n          "),l.Mc(53,Jt,5,1,"mat-cell",11),l.Oc(54,"\n        "),l.Sb(),l.Oc(55,"\n\n        "),l.Tb(56,13),l.Oc(57,"\n          "),l.Mc(58,Gt,2,0,"mat-header-cell",10),l.Oc(59,"\n          "),l.Mc(60,Wt,6,6,"mat-cell",11),l.Oc(61,"\n        "),l.Sb(),l.Oc(62,"\n\n        "),l.Tb(63,14),l.Oc(64,"\n          "),l.Mc(65,Xt,2,0,"mat-header-cell",10),l.Oc(66,"\n          "),l.Mc(67,_t,6,6,"mat-cell",15),l.Oc(68,"\n        "),l.Sb(),l.Oc(69,"\n\n        "),l.Tb(70,16),l.Oc(71,"\n          "),l.Mc(72,Kt,2,0,"mat-header-cell",10),l.Oc(73,"\n          "),l.Mc(74,Zt,6,6,"mat-cell",17),l.Oc(75,"\n        "),l.Sb(),l.Oc(76,"\n\n        "),l.Tb(77,18),l.Oc(78,"\n          "),l.Mc(79,Yt,2,0,"mat-header-cell",10),l.Oc(80,"\n          "),l.Mc(81,te,6,6,"mat-cell",19),l.Oc(82,"\n        "),l.Sb(),l.Oc(83,"\n\n        "),l.Mc(84,ee,1,0,"mat-header-row",20),l.Oc(85,"\n        "),l.Mc(86,ce,1,0,"mat-row",21),l.Oc(87,"\n      "),l.Ub(),l.Oc(88,"\n    "),l.Ub(),l.Oc(89,"\n  "),l.Ub(),l.Oc(90,"\n\n  "),l.Vb(91,"mat-card-content",22),l.Oc(92,"\n    "),l.Vb(93,"div",23),l.Oc(94,"\n      "),l.Vb(95,"div",24),l.Oc(96,"\n        "),l.Vb(97,"h6",25),l.Oc(98,"Total Nota Cr\xe9dito :"),l.Ub(),l.Oc(99,"\n        "),l.Vb(100,"h6",25),l.Oc(101,"Saldo Actual Nota Cr\xe9dito :"),l.Ub(),l.Oc(102,"\n        "),l.Vb(103,"h6",25),l.Oc(104,"Total a Imputar :"),l.Ub(),l.Oc(105,"\n        "),l.Vb(106,"h6",26),l.Oc(107,"Nuevo Saldo de Cr\xe9dito :"),l.Ub(),l.Oc(108,"\n      "),l.Ub(),l.Oc(109,"\n      "),l.Vb(110,"div",27),l.Oc(111,"\n        "),l.Vb(112,"h4",28),l.Oc(113),l.lc(114,"currency"),l.Ub(),l.Oc(115,"\n        "),l.Vb(116,"h4",28),l.Oc(117),l.lc(118,"currency"),l.Ub(),l.Oc(119,"\n        "),l.Vb(120,"h4",28),l.Oc(121),l.lc(122,"currency"),l.Ub(),l.Oc(123,"\n        "),l.Vb(124,"h4",29),l.Oc(125),l.lc(126,"currency"),l.Ub(),l.Oc(127,"\n      "),l.Ub(),l.Oc(128,"\n    "),l.Ub(),l.Oc(129,"\n  "),l.Ub(),l.Oc(130,"\n"),l.Ub(),l.Oc(131,"\n")),2&t&&(l.Cb(10),l.Qc("\n          ",null!=e.confirmVoucher.ente&&e.confirmVoucher.ente.persona?null==e.confirmVoucher.ente?null:e.confirmVoucher.ente.persona.apellido:null==e.confirmVoucher.ente?null:e.confirmVoucher.ente.personaJuridica.nombreFantasia,"\n        "),l.Cb(10),l.Qc("Nota Credito # ",e.confirmVoucher.nroComprobante,""),l.Cb(5),l.Qc("Fecha : ",e.confirmVoucher.fechaComprobanteString,""),l.Cb(3),l.Qc("Estado : ",null==e.confirmVoucher.estadoComprobante?null:e.confirmVoucher.estadoComprobante.nombre,""),l.Cb(11),l.sc("dataSource",e.dataSource),l.Cb(45),l.sc("matHeaderRowDef",e.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",e.displayedColumns),l.Cb(27),l.Pc(l.pc(114,11,null==e.confirmVoucher?null:e.confirmVoucher.totalComprobante,"ARS","symbol","1.0-0")),l.Cb(4),l.Pc(l.pc(118,16,e.getSaldoActual(),"ARS","symbol","1.0-0")),l.Cb(4),l.Pc(l.pc(122,21,e.getImputado(),"ARS","symbol","1.0-0")),l.Cb(4),l.Pc(l.pc(126,26,null==e.confirmVoucher?null:e.confirmVoucher.saldo,"ARS","symbol","1.0-0")))},directives:[mt.a,mt.c,y.d,y.a,A.j,A.c,A.e,A.b,A.g,A.i,A.d,A.a,A.f,A.h],pipes:[D.d],styles:[""]}),t})();var ae=c("0MNC"),oe=c("Owrn"),ie=c("xHqg"),re=c("bTqV");function se(t,e){1&t&&l.Oc(0,"Seleccionar Cr\xe9dito")}function le(t,e){if(1&t&&l.Qb(0,"jhi-confirmar-ajuste",16),2&t){const t=l.kc();l.sc("confirmVoucher",t.saveVoucher)}}const be=[{path:"",component:(()=>{class t{constructor(t,e,c,n){this.route=t,this.breakpointObserver=e,this.comprobanteService=c,this.eventManager=n,this.titleForm="",this.isSaving=!1,this.stepperOrientation=e.observe("(min-width: 800px)").pipe(Object(s.a)(({matches:t})=>t?"horizontal":"vertical"))}ngOnInit(){this.route.data.subscribe(t=>{this.titleForm=t.pageTitle,this.urlData=t})}save(){this.saveVoucher.comprobanteRef.length>0?(this.isSaving=!0,this.subscribeToSaveResponse(this.comprobanteService.create(this.saveVoucher,this.urlData.createOperation))):this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Algo no va bien, por favor verifica los campos",type:"warning"}))}creditSelection(t){this.creditVoucherSelected=t}deudaSelection(t){this.saveVoucher=Object.assign({},t)}subscribeToSaveResponse(t){t.subscribe({next:()=>this.onSaveSuccess(),error:()=>this.onSaveError()}),this.step1Credit.limpiarOptions()}onSaveSuccess(){this.isSaving=!1}onSaveError(){this.isSaving=!1,this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Algo salio mal!",type:"danger"}))}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(n.a),l.Pb(ae.a),l.Pb(v.a),l.Pb(r.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["jhi-stepper-ajustment"]],viewQuery:function(t,e){if(1&t&&(l.Tc(lt,1),l.Tc(zt,1),l.Tc(ne,1)),2&t){let t;l.Bc(t=l.hc())&&(e.step1Credit=t.first),l.Bc(t=l.hc())&&(e.step2Disconunt=t.first),l.Bc(t=l.hc())&&(e.step3Confirm=t.first)}},features:[l.Bb([{provide:i.h,useValue:{showError:!0}}])],decls:64,vars:7,consts:[["fxLayoutAlign","space-between start"],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"creditSeleccionInfo"],["form1",""],[1,"text-right","p-t-20"],["mat-stroked-button","","color","primary","matStepperNext",""],["label","Descontar Deuda",3,"stepControl"],[3,"comprobanteIn","deudaSeleccionInfo"],["form2",""],["mat-stroked-button","","color","warn","matStepperPrevious",""],["label","Confirmar"],[3,"confirmVoucher",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"confirmVoucher"]],template:function(t,e){if(1&t){const t=l.Wb();l.Vb(0,"mat-card"),l.Oc(1,"\n  "),l.Vb(2,"mat-card-header",0),l.Oc(3,"\n    "),l.Vb(4,"mat-card-title"),l.Oc(5),l.Ub(),l.Oc(6,"\n  "),l.Ub(),l.Oc(7,"\n  "),l.Qb(8,"hr"),l.Oc(9,"\n  "),l.Vb(10,"mat-card-content"),l.Oc(11,"\n    "),l.Qb(12,"jhi-alert-error"),l.Oc(13,"\n\n    "),l.Vb(14,"mat-horizontal-stepper",1,2),l.Oc(16,"\n      "),l.Vb(17,"mat-step",3),l.Oc(18,"\n        "),l.Mc(19,se,1,0,"ng-template",4),l.Oc(20,"\n        "),l.Vb(21,"jhi-credito-ente",5,6),l.gc("creditSeleccionInfo",function(t){return e.creditSelection(t)}),l.Ub(),l.Oc(23,"\n        "),l.Vb(24,"div",7),l.Oc(25,"\n          "),l.Vb(26,"button",8),l.Oc(27,"Siguiente"),l.Ub(),l.Oc(28,"\n        "),l.Ub(),l.Oc(29,"\n      "),l.Ub(),l.Oc(30,"\n\n      "),l.Vb(31,"mat-step",9),l.Oc(32,"\n        "),l.Vb(33,"jhi-descontar-deuda",10,11),l.gc("deudaSeleccionInfo",function(t){return e.deudaSelection(t)}),l.Oc(35,"\n        "),l.Ub(),l.Oc(36,"\n\n        "),l.Vb(37,"div",7),l.Oc(38,"\n          "),l.Vb(39,"button",12),l.Oc(40,"Atras"),l.Ub(),l.Oc(41,"\n          "),l.Vb(42,"button",8),l.Oc(43,"Siguiente"),l.Ub(),l.Oc(44,"\n        "),l.Ub(),l.Oc(45,"\n      "),l.Ub(),l.Oc(46,"\n\n      "),l.Vb(47,"mat-step",13),l.Oc(48,"\n        "),l.Mc(49,le,1,1,"jhi-confirmar-ajuste",14),l.Oc(50,"\n        "),l.Vb(51,"div",7),l.Oc(52,"\n          "),l.Vb(53,"button",12),l.Oc(54,"Atras"),l.Ub(),l.Oc(55,"\n          "),l.Vb(56,"button",15),l.gc("click",function(){l.Ec(t);const c=l.Cc(15);return e.save(),c.reset()}),l.Oc(57,"Confirmar"),l.Ub(),l.Oc(58,"\n        "),l.Ub(),l.Oc(59,"\n      "),l.Ub(),l.Oc(60,"\n    "),l.Ub(),l.Oc(61,"\n  "),l.Ub(),l.Oc(62,"\n"),l.Ub(),l.Oc(63,"\n")}if(2&t){const t=l.Cc(22),c=l.Cc(34);l.Cb(5),l.Pc(e.titleForm),l.Cb(9),l.sc("linear",!0),l.Cb(3),l.sc("stepControl",t.creditForm),l.Cb(14),l.sc("stepControl",c.descontarForm),l.Cb(2),l.sc("comprobanteIn",e.creditVoucherSelected),l.Cb(16),l.sc("ngIf",e.saveVoucher),l.Cb(7),l.sc("disabled",e.isSaving)}},directives:[mt.a,mt.e,y.c,mt.g,mt.c,oe.a,ie.a,ie.b,ie.c,lt,re.a,ie.e,zt,ie.f,D.q,ne],styles:[""]}),t})(),data:{pageTitle:"Ajuste de Saldos",queryOperationStep1:o.a.GET_ENTE_NOTA_CREDITO,queryOperationStep2:o.a.GET_ENTE_DEUDA,createOperation:o.a.CREAR_AJUSTE_SALDO}}];let me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[a.a,n.i.forChild(be)]]}),t})()}}]);