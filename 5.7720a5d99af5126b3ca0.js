(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{m2Db:function(n,t,e){"use strict";e.r(t),e.d(t,"AccountModule",function(){return j});var r=e("tyNb"),c=e("hbEq"),s=e("fXoL"),a=e("TXJZ"),o=e("Wp6s"),i=e("wZkO"),l=e("ofXK"),d=e("NFeN"),u=e("3Pt+"),b=e("tk/3"),h=e("PxL+");let m=(()=>{class n{constructor(n,t){this.http=n,this.applicationConfigService=t}save(n,t){return this.http.post(this.applicationConfigService.getEndpointFor("cambiarClave"),{currentPassword:t,newPassword:n})}}return n.\u0275fac=function(t){return new(t||n)(s.cc(b.b),s.cc(h.a))},n.\u0275prov=s.Lb({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=e("kmnG"),f=e("qFsG"),w=e("bTqV"),g=e("Qu3c");let L=(()=>{class n{constructor(n,t){this.renderer=n,this.elementRef=t,this.colors=["#F00","#F90","#FF0","#9F0","#0F0"]}measureStrength(n){let t=0;const e=[/[a-z]+/.test(n),/[A-Z]+/.test(n),/[0-9]+/.test(n),/[$-/:-?{-~!"^_`[\]]/g.test(n)].filter(n=>!0===n).length;return t+=2*n.length+(n.length>=10?1:0),t+=10*e,t=n.length<=6?Math.min(t,10):t,t=1===e?Math.min(t,10):t,t=2===e?Math.min(t,20):t,t=3===e?Math.min(t,40):t,t}getColor(n){let t=0;return n>10&&(t=n<=20?1:n<=30?2:n<=40?3:4),{idx:t+1,color:this.colors[t]}}set passwordToCheck(n){if(n){const t=this.getColor(this.measureStrength(n)),e=this.elementRef.nativeElement;e.className&&this.renderer.removeClass(e,e.className);const r=e.getElementsByTagName("li");for(let n=0;n<r.length;n++)this.renderer.setStyle(r[n],"backgroundColor",n<t.idx?t.color:"#DDD")}}}return n.\u0275fac=function(t){return new(t||n)(s.Pb(s.G),s.Pb(s.l))},n.\u0275cmp=s.Jb({type:n,selectors:[["jhi-password-strength-bar"]],inputs:{passwordToCheck:"passwordToCheck"},decls:19,vars:0,consts:[["id","strength"],["id","strengthBar"],[1,"point"]],template:function(n,t){1&n&&(s.Vb(0,"div",0),s.Lc(1,"\n  "),s.Vb(2,"small"),s.Lc(3,"Seguridad de Clave:"),s.Ub(),s.Lc(4,"\n  "),s.Vb(5,"ul",1),s.Lc(6,"\n    "),s.Qb(7,"li",2),s.Lc(8,"\n    "),s.Qb(9,"li",2),s.Lc(10,"\n    "),s.Qb(11,"li",2),s.Lc(12,"\n    "),s.Qb(13,"li",2),s.Lc(14,"\n    "),s.Qb(15,"li",2),s.Lc(16,"\n  "),s.Ub(),s.Lc(17,"\n"),s.Ub(),s.Lc(18,"\n"))},styles:["ul#strength[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0 0 0 15px;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:20px}.point[_ngcontent-%COMP%]:last-child{margin:0!important}"]}),n})();function P(n,t){if(1&n&&(s.Vb(0,"mat-error"),s.Lc(1),s.Ub()),2&n){const n=s.kc();s.Cb(1),s.Nc("\n          ",n.mensajeCurrentPassword(),"\n        ")}}function v(n,t){if(1&n&&(s.Vb(0,"mat-error"),s.Lc(1),s.Ub()),2&n){const n=s.kc();s.Cb(1),s.Mc(n.mensajeErrorPassword())}}function C(n,t){if(1&n&&s.Qb(0,"jhi-password-strength-bar",12),2&n){const n=s.kc();let t=null;s.rc("passwordToCheck",null==(t=n.changePasswordForm.get("newPsw"))?null:t.value)}}function U(n,t){if(1&n&&(s.Vb(0,"mat-error"),s.Lc(1),s.Ub()),2&n){const n=s.kc();s.Cb(1),s.Nc("\n          ",n.mensajeErrorConfirmPassword(),"\n        ")}}let V=(()=>{class n{constructor(n,t){this.passwordService=n,this.fb=t,this.user=null,this.hide=!1,this.doNotMatch=!1,this.error=!1,this.success=!1,this.changePasswordForm=this.fb.group({currentPsw:["",u.t.required],newPsw:["",[u.t.required,u.t.minLength(5)]],confirmPsw:["",[u.t.required]]},{})}save(){const n=this.changePasswordForm.controls;if(this.changePasswordForm.invalid)return void Object.keys(n).forEach(t=>n[t].markAsTouched());this.error=!1,this.success=!1,this.doNotMatch=!1;const t=this.changePasswordForm.get(["newPsw"]).value;t!==this.changePasswordForm.get(["confirmPsw"]).value?this.doNotMatch=!0:this.passwordService.save(t,this.changePasswordForm.get(["currentPsw"]).value).subscribe(()=>this.success=!0,()=>this.error=!0)}get newPsw(){return this.changePasswordForm.get("newPsw")}get confirmPsw(){return this.changePasswordForm.get("confirmPsw")}get currentPsw(){return this.changePasswordForm.get("currentPsw")}mensajeCurrentPassword(){var n;return(null===(n=this.currentPsw)||void 0===n?void 0:n.hasError("required"))?"La contrase\xf1a actual es requerida":""}mensajeErrorPassword(){var n,t;return(null===(n=this.newPsw)||void 0===n?void 0:n.hasError("required"))?"La nueva contrase\xf1a es requerida":(null===(t=this.newPsw)||void 0===t?void 0:t.hasError("minlength"))?"Debe tener al menos 5 caractees":""}mensajeErrorConfirmPassword(){var n;return(null===(n=this.confirmPsw)||void 0===n?void 0:n.hasError("MatchPassword"))?"Las contrase\xf1as no coinciden":""}}return n.\u0275fac=function(t){return new(t||n)(s.Pb(m),s.Pb(u.e))},n.\u0275cmp=s.Jb({type:n,selectors:[["jhi-password"]],inputs:{user:"user"},decls:52,vars:9,consts:[[3,"formGroup"],[1,"container"],[1,"full-width"],["matInput","","type","password","id","currentPassword","autocomplete","off","placeholder","Clave Actual","formControlName","currentPsw"],[4,"ngIf"],[1,"field"],["matInput","","type","password","id","password","autocomplete","off","placeholder","Nueva Clave","formControlName","newPsw",3,"type"],["mat-icon-button","","matSuffix","","matTooltip","ver",3,"click"],[3,"passwordToCheck",4,"ngIf"],["matInput","","type","password","id","confirmPassword","autocomplete","off","placeholder","Confirmar Clave","formControlName","confirmPsw"],[1,"btn"],["mat-raised-button","","color","primary",1,"btn-width",3,"click"],[3,"passwordToCheck"]],template:function(n,t){1&n&&(s.Lc(0,"\n\n"),s.Vb(1,"form",0),s.Lc(2,"\n  "),s.Vb(3,"div",1),s.Lc(4,"\n    "),s.Vb(5,"div"),s.Lc(6,"\n      "),s.Vb(7,"mat-form-field",2),s.Lc(8,"\n        "),s.Qb(9,"input",3),s.Lc(10,"\n        "),s.Jc(11,P,2,1,"mat-error",4),s.Lc(12,"\n      "),s.Ub(),s.Lc(13,"\n    "),s.Ub(),s.Lc(14,"\n\n    "),s.Vb(15,"div",5),s.Lc(16,"\n      "),s.Vb(17,"mat-form-field",2),s.Lc(18,"\n        "),s.Qb(19,"input",6),s.Lc(20,"\n        "),s.Vb(21,"button",7),s.gc("click",function(){return t.hide=!t.hide}),s.Lc(22,"\n          "),s.Vb(23,"mat-icon"),s.Lc(24),s.Ub(),s.Lc(25,"\n        "),s.Ub(),s.Lc(26,"\n        "),s.Jc(27,v,2,1,"mat-error",4),s.Lc(28,"\n      "),s.Ub(),s.Lc(29,"\n      "),s.Jc(30,C,1,1,"jhi-password-strength-bar",8),s.Lc(31,"\n    "),s.Ub(),s.Lc(32,"\n\n    "),s.Vb(33,"div"),s.Lc(34,"\n      "),s.Vb(35,"mat-form-field",2),s.Lc(36,"\n        "),s.Qb(37,"input",9),s.Lc(38,"\n        "),s.Jc(39,U,2,1,"mat-error",4),s.Lc(40,"\n      "),s.Ub(),s.Lc(41,"\n    "),s.Ub(),s.Lc(42,"\n\n    "),s.Lc(43,"\n\n    "),s.Vb(44,"div",10),s.Lc(45,"\n      "),s.Vb(46,"button",11),s.gc("click",function(){return t.save()}),s.Lc(47,"Actualizar"),s.Ub(),s.Lc(48,"\n    "),s.Ub(),s.Lc(49,"\n  "),s.Ub(),s.Lc(50,"\n"),s.Ub(),s.Lc(51,"\n")),2&n&&(s.Cb(1),s.rc("formGroup",t.changePasswordForm),s.Cb(10),s.rc("ngIf",null==t.currentPsw?null:t.currentPsw.invalid),s.Cb(8),s.rc("type",t.hide?"password":"text"),s.Cb(2),s.Db("aria-label","Hide password")("aria-pressed",t.hide),s.Cb(3),s.Mc(t.hide?"visibility_off":"visibility"),s.Cb(3),s.rc("ngIf",null==t.newPsw?null:t.newPsw.invalid),s.Cb(3),s.rc("ngIf",t.changePasswordForm.get("newPsw").dirty),s.Cb(9),s.rc("ngIf",null==t.confirmPsw?null:t.confirmPsw.invalid))},directives:[u.u,u.n,u.h,p.c,f.b,u.d,u.m,u.g,l.p,w.a,p.g,g.a,d.a,p.b,L],styles:[""]}),n})();function k(n,t){1&n&&(s.Lc(0,"\n          "),s.Vb(1,"mat-icon",4),s.Lc(2," assignment_ind "),s.Ub(),s.Lc(3,"\n          Info de Usuario\n        "))}function y(n,t){1&n&&(s.Lc(0,"\n          "),s.Qb(1,"app-user-info"),s.Lc(2,"\n        "))}function F(n,t){1&n&&(s.Vb(0,"mat-tab"),s.Lc(1,"\n        "),s.Jc(2,k,4,0,"ng-template",2),s.Lc(3,"\n        "),s.Jc(4,y,3,0,"ng-template",3),s.Lc(5,"\n      "),s.Ub())}function I(n,t){1&n&&(s.Lc(0,"\n          "),s.Vb(1,"mat-icon",4),s.Lc(2," compare_arrows "),s.Ub(),s.Lc(3,"\n          Cambiar Contrase\xf1a\n        "))}function J(n,t){if(1&n&&(s.Lc(0,"\n          "),s.Qb(1,"jhi-password",5),s.Lc(2,"\n        ")),2&n){const n=s.kc(2);s.Cb(1),s.rc("user",n.user)}}function N(n,t){1&n&&(s.Vb(0,"mat-tab"),s.Lc(1,"\n        "),s.Jc(2,I,4,0,"ng-template",2),s.Lc(3,"\n        "),s.Jc(4,J,3,1,"ng-template",3),s.Lc(5,"\n      "),s.Ub())}const T=[{path:"",children:[{path:"configuracion",component:(()=>{class n{constructor(n){this.accountService=n,this.selectedTab=0,this.user=null,this.user=this.accountService.getIdentity()}}return n.\u0275fac=function(t){return new(t||n)(s.Pb(a.a))},n.\u0275cmp=s.Jb({type:n,selectors:[["jhi-settings"]],decls:21,vars:3,consts:[["mat-align-tabs","rigth",3,"selectedIndex","selectedIndexChange"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],[2,"margin-right","0.5rem"],[3,"user"]],template:function(n,t){1&n&&(s.Lc(0,"\n\n"),s.Vb(1,"mat-card"),s.Lc(2,"\n  "),s.Vb(3,"mat-card-header"),s.Lc(4,"\n    "),s.Vb(5,"mat-card-title"),s.Lc(6,"Cuenta de Usuario"),s.Ub(),s.Lc(7,"\n  "),s.Ub(),s.Lc(8,"\n\n  "),s.Vb(9,"mat-card-content"),s.Lc(10,"\n    "),s.Vb(11,"mat-tab-group",0),s.gc("selectedIndexChange",function(n){return t.selectedTab=n}),s.Lc(12,"\n      "),s.Lc(13,"\n      "),s.Jc(14,F,6,0,"mat-tab",1),s.Lc(15,"\n\n      "),s.Jc(16,N,6,0,"mat-tab",1),s.Lc(17,"\n    "),s.Ub(),s.Lc(18,"\n  "),s.Ub(),s.Lc(19,"\n"),s.Ub(),s.Lc(20,"\n")),2&n&&(s.Cb(11),s.rc("selectedIndex",t.selectedTab),s.Cb(3),s.rc("ngIf",t.user),s.Cb(2),s.rc("ngIf",t.user))},directives:[o.a,o.c,o.e,o.b,i.c,l.p,i.a,i.d,i.b,d.a,V],encapsulation:2}),n})(),data:{pageTitle:"Settings"}}]}];let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.Nb({type:n}),n.\u0275inj=s.Mb({imports:[[c.a,r.j.forChild(T)]]}),n})()}}]);