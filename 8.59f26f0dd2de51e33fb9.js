(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Owrn:function(e,t,c){"use strict";c.d(t,"a",function(){return d});var n=c("fXoL"),a=c("jhN1");let o=(()=>{class e{constructor(e,t){this.sanitizer=e,this.ngZone=t,this.type="danger",this.timeout=1e4,this.alertId=0,this.alerts=[]}clear(){this.alerts=[]}get(){return this.alerts}addAlert(e,t){var c,a,o,i;return e.id=this.alertId++,e.message=null!==(a=this.sanitizer.sanitize(n.K.HTML,null!==(c=e.message)&&void 0!==c?c:""))&&void 0!==a?a:"",e.timeout=null!==(o=e.timeout)&&void 0!==o?o:this.timeout,e.type=null!==(i=e.type)&&void 0!==i?i:this.type,e.close=t=>this.closeAlert(e.id,t),(null!=t?t:this.alerts).push(e),e.timeout>0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>{this.closeAlert(e.id,null!=t?t:this.alerts)})},e.timeout)}),e}closeAlert(e,t){const c=null!=t?t:this.alerts,n=c.map(e=>e.id).indexOf(e);n>=0&&c.splice(n,1)}}return e.\u0275fac=function(t){return new(t||e)(n.cc(a.b),n.cc(n.B))},e.\u0275prov=n.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var i=c("A34J"),r=c("ofXK"),s=c("znSr"),l=c("bTqV"),b=c("XiUz"),m=c("NFeN");function u(e,t){if(1&e){const e=n.Wb();n.Vb(0,"div"),n.Pc(1,"\n  "),n.Vb(2,"div",1),n.Pc(3,"\n    "),n.Vb(4,"button",2),n.gc("click",function(){n.Ec(e);const c=t.$implicit;return n.kc().close(c)}),n.Pc(5,"\n      "),n.Vb(6,"span",3),n.Pc(7,"\n        "),n.Vb(8,"mat-icon",4),n.Pc(9,"clear"),n.Ub(),n.Pc(10,"\n      "),n.Ub(),n.Pc(11,"\n    "),n.Ub(),n.Pc(12,"\n    "),n.Vb(13,"span",5),n.Pc(14,"\n      "),n.Vb(15,"strong"),n.Pc(16),n.Ub(),n.Pc(17,"\n    "),n.Ub(),n.Pc(18,"\n  "),n.Ub(),n.Pc(19,"\n"),n.Ub()}if(2&e){const e=t.$implicit,c=n.kc();n.Cb(2),n.sc("ngClass",c.setClasses(e)),n.Cb(14),n.Rc("",e.message," ")}}let d=(()=>{class e{constructor(e,t){this.alertService=e,this.eventManager=t,this.alerts=[],this.errorListener=t.subscribe("erpSepApp.error",e=>{const t=e.content;this.addErrorAlert(t.message,t.type)}),this.httpErrorListener=t.subscribe("erpSepApp.httpError",e=>{const t=e.content;switch(t.status){case 0:this.addErrorAlert("Servidor inactivo");break;case 400:{const e=t.headers.keys();let c=null;for(const n of e)n.toLowerCase().endsWith("messageerp")&&(c=t.headers.get(n));c?this.addErrorAlert(c):this.addErrorAlert(t.message?t.message:t.error.message,"warning");break}case 404:this.addErrorAlert("Recurso no encontrado.","warning");break;default:{const e=t.headers.keys();let c=null;for(const n of e)n.toLowerCase().endsWith("messageerp")&&(c=t.headers.get(n));c&&this.addErrorAlert(c)}}})}setClasses(e){const t={alert:!0};switch(e.type){case"warning":return Object.assign(Object.assign({},t),{"bg-warning":!0});case"info":return Object.assign(Object.assign({},t),{"bg-info":!0});case"success":return Object.assign(Object.assign({},t),{"bg-success":!0});default:return Object.assign(Object.assign({},t),{"bg-danger":!0})}}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(e){var t;null===(t=e.close)||void 0===t||t.call(e,this.alerts)}addErrorAlert(e,t){this.alertService.addAlert({type:t,message:e},this.alerts)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(o),n.Pb(i.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["jhi-alert-error"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],["mat-icon-button","",3,"click"],["fxFlex",""],[2,"align-self","center"],[2,"word-wrap","break-word"]],template:function(e,t){1&e&&(n.Pc(0,"\n\n"),n.Nc(1,u,20,2,"div",0),n.Pc(2,"\n")),2&e&&(n.Cb(1),n.sc("ngForOf",t.alerts))},directives:[r.p,r.o,s.a,l.a,b.a,m.a],encapsulation:2}),e})()},poNo:function(e,t,c){"use strict";c.r(t),c.d(t,"BalanceAjustmentModule",function(){return dt});var n=c("tyNb"),a=c("hbEq"),o=c("elZ2"),i=c("B/XX"),r=c("A34J"),s=c("lJxs"),l=c("fXoL"),b=c("3Pt+"),m=c("M9IT"),u=c("Dfyc"),d=c("OTai"),p=c("YiAG"),P=c("VRyK"),h=c("vkgz"),f=c("Kj3r"),g=c("/uUt"),V=c("pLZG"),C=c("eIep"),S=c("nYR2"),U=c("8usy"),v=c("wd6h"),y=c("XiUz"),N=c("kmnG"),w=c("qFsG"),I=c("/1cH"),D=c("ofXK"),A=c("+0xr"),E=c("Dh3D"),R=c("QibW"),x=c("FKr1"),O=c("Xa2L");const T=["sort1"];function F(e,t){if(1&e&&(l.Vb(0,"mat-error"),l.Pc(1),l.Ub()),2&e){const e=l.kc();l.Cb(1),l.Qc(e.mensajeErrorEnte())}}function j(e,t){1&e&&(l.Vb(0,"mat-option",34),l.Pc(1,"\n          "),l.Qb(2,"mat-spinner",35),l.Pc(3,"\n        "),l.Ub())}function k(e,t){if(1&e&&(l.Vb(0,"mat-option",37),l.Pc(1,"\n            "),l.Vb(2,"span"),l.Vb(3,"small"),l.Pc(4),l.Ub(),l.Ub(),l.Pc(5,"\n          "),l.Ub()),2&e){const e=t.$implicit;l.sc("value",e),l.Cb(4),l.Qc(e.persona?e.persona.apellido:e.personaJuridica?e.personaJuridica.nombreFantasia:"")}}function Q(e,t){if(1&e&&(l.Tb(0),l.Pc(1,"\n          "),l.Nc(2,k,6,2,"mat-option",36),l.Pc(3,"\n        "),l.Sb()),2&e){const e=l.kc();l.Cb(2),l.sc("ngForOf",e.resultEnte)}}function $(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1," "),l.Ub())}function L(e,t){if(1&e&&(l.Vb(0,"mat-cell",38),l.Pc(1,"\n            "),l.Qb(2,"mat-radio-button",39),l.Pc(3,"\n          "),l.Ub()),2&e){const e=t.$implicit;l.Cb(2),l.sc("value",e)}}function z(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Cbte"),l.Ub())}function q(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Cbte:"),l.Ub(),l.Pc(4,"\n          "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n        "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.tipoComprobante.nombre)}}function B(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Nro"),l.Ub())}function J(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Nro:"),l.Ub(),l.Pc(4),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n          ",e.nroComprobante,"\n        ")}}function M(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"F.Emision"),l.Ub())}function H(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"F.Emision:"),l.Ub(),l.Pc(4,"\n          "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n        "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.fechaComprobanteString)}}function X(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"F.Vencimiento"),l.Ub())}function _(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"F.Vto:"),l.Ub(),l.Pc(4,"\n          "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n        "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.fechaVtoString)}}function W(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Periodo"),l.Ub())}function G(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Periodo:"),l.Ub(),l.Pc(4,"\n          "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n        "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.periodo)}}function K(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Total"),l.Ub())}function Z(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Total:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n          ",l.oc(5,1,e.totalComprobante,"ARS","symbol"),"\n        ")}}function Y(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Saldo"),l.Ub())}function ee(e,t){if(1&e&&(l.Vb(0,"mat-cell",42),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Saldo:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n          ",l.oc(5,1,e.saldo,"ARS","symbol"),"\n        ")}}function te(e,t){1&e&&(l.Vb(0,"mat-header-cell",40),l.Pc(1,"Estado"),l.Ub())}function ce(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n          "),l.Vb(2,"span",41),l.Pc(3,"Estado:"),l.Ub(),l.Pc(4,"\n          "),l.Vb(5,"span"),l.Pc(6),l.Ub(),l.Pc(7,"\n        "),l.Ub()),2&e){const e=t.$implicit,c=l.kc();l.Cb(5),l.Fb("badge badge--",c.comprobanteService.getItemCssClassByStatus(e.estadoComprobante.nombre),""),l.Cb(1),l.Rc("\n            ",e.estadoComprobante.nombre,"\n          ")}}function ne(e,t){1&e&&l.Qb(0,"mat-header-row")}function ae(e,t){1&e&&l.Qb(0,"mat-row")}function oe(e,t){1&e&&(l.Vb(0,"div"),l.Pc(1,"\n      No se encontraron registros\n      "),l.Vb(2,"strong"),l.Pc(3,"Verifique que haya Seleccionado un Ente. "),l.Ub(),l.Pc(4,"\n    "),l.Ub())}function ie(e,t){1&e&&(l.Vb(0,"div"),l.Pc(1,"Cargando..."),l.Ub())}function re(e,t){1&e&&l.Qb(0,"mat-spinner",43),2&e&&l.sc("diameter",20)}const se=function(){return[3,5,10]};let le=(()=>{class e{constructor(e,t,c,n,a){this.fb=e,this.route=t,this.enteService=c,this.comprobanteService=n,this.cdk=a,this.creditForm=this.fb.group({ente:["",[b.y.required,d.a.RequireMatch]],selectedOptions:["",b.y.required]}),this.displayedColumns=["select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.isSaving=!1,this.resultEnte=[],this.loadingAutocomplete=!1,this.subscriptions=[],this.creditSeleccionInfo=new l.o}ngOnInit(){var e;this.subscriptions.push(this.route.data.subscribe(e=>this.dataUrl=e));const t=null===(e=this.sort)||void 0===e?void 0:e.sortChange.subscribe(()=>this.paginator.pageIndex=0);t&&this.subscriptions.push(t);const c=Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(h.a)(()=>this.loadCreditoEnteList())).subscribe();this.subscriptions.push(c),this.dataSource=new p.a(this.comprobanteService)}ngAfterViewInit(){const e=this.ente.valueChanges.pipe(Object(s.a)(e=>"string"==typeof e?this.noWhiteSpace(e):e),Object(f.a)(150),Object(g.a)(),Object(V.a)(e=>!!e&&e.length>2),Object(h.a)(()=>this.loadingAutocomplete=!0),Object(C.a)(e=>this.enteService.findAutocompleteEnte(e).pipe(Object(S.a)(()=>this.loadingAutocomplete=!1)))).subscribe(e=>{this.resultEnte=e,this.cdk.markForCheck()});this.subscriptions.push(e);const t=this.selectedOptions.valueChanges.subscribe(e=>{this.creditSeleccionInfo.emit(null!=e?e:null)});this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}selectedEnte(e){e&&(this.enteSelected=e,this.loadCreditoEnteList())}loadCreditoEnteList(){this.limpiarOptions();const e=new u.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(e,this.dataUrl.queryOperationStep1)}filterConfiguration(){const e={};return e.id=this.enteSelected.id?this.enteSelected.id:0,e}limpiarOptions(){var e;null===(e=this.creditForm.get("selectedOptions"))||void 0===e||e.reset(),this.dataSource.entitySubject.next([])}get ente(){return this.creditForm.get("ente")}mensajeErrorEnte(){return this.ente.hasError("required")?"El Ente es requerido":this.ente.hasError("incorrect")?"Seleccione un Ente v\xe1lido":""}get selectedOptions(){return this.creditForm.get("selectedOptions")}displayFn(e){if(null!=e)return e.persona?e.persona.apellido:e.personaJuridica?e.personaJuridica.nombreFantasia:void 0}noWhiteSpace(e){return e.trimLeft()}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(b.f),l.Pb(n.a),l.Pb(U.a),l.Pb(v.a),l.Pb(l.h))},e.\u0275cmp=l.Jb({type:e,selectors:[["jhi-credito-ente"]],viewQuery:function(e,t){if(1&e&&(l.Uc(m.a,3),l.Uc(T,3)),2&e){let e;l.Bc(e=l.hc())&&(t.paginator=e.first),l.Bc(e=l.hc())&&(t.sort=e.first)}},outputs:{creditSeleccionInfo:"creditSeleccionInfo"},decls:128,vars:24,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","outline"],["matInput","","id","ente",3,"formControl","matAutocomplete"],["align","start"],[4,"ngIf"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","select"],[4,"matHeaderCellDef"],["formControlName","selectedOptions"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: red","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"is-loading"],["diameter","20"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-column-checkbox"],["color","primary",3,"value"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","red"],[3,"diameter"]],template:function(e,t){if(1&e&&(l.Vb(0,"form",0),l.Pc(1,"\n  "),l.Vb(2,"div",1),l.Pc(3,"\n    "),l.Vb(4,"div",2),l.Pc(5,"\n      "),l.Vb(6,"mat-form-field",3),l.Pc(7,"\n        "),l.Vb(8,"mat-label"),l.Pc(9,"Ente:"),l.Ub(),l.Pc(10,"\n        "),l.Qb(11,"input",4),l.Pc(12,"\n        "),l.Vb(13,"mat-hint",5),l.Pc(14,"Escribir para buscar.."),l.Ub(),l.Pc(15,"\n        "),l.Nc(16,F,2,1,"mat-error",6),l.Pc(17,"\n      "),l.Ub(),l.Pc(18,"\n      "),l.Vb(19,"mat-autocomplete",7,8),l.gc("optionSelected",function(e){return t.selectedEnte(e.option.value)}),l.Pc(21,"\n        "),l.Nc(22,j,4,0,"mat-option",9),l.Pc(23,"\n        "),l.Nc(24,Q,4,1,"ng-container",6),l.Pc(25,"\n      "),l.Ub(),l.Pc(26,"\n    "),l.Ub(),l.Pc(27,"\n  "),l.Ub(),l.Pc(28,"\n\n  "),l.Pc(29,"\n  "),l.Vb(30,"div",10),l.Pc(31,"\n    "),l.Vb(32,"mat-table",11,12),l.Pc(35,"\n      "),l.Tb(36,13),l.Pc(37,"\n        "),l.Nc(38,$,2,0,"mat-header-cell",14),l.Pc(39,"\n        "),l.Vb(40,"mat-radio-group",15),l.Pc(41,"\n          "),l.Nc(42,L,4,1,"mat-cell",16),l.Pc(43,"\n        "),l.Ub(),l.Pc(44,"\n      "),l.Sb(),l.Pc(45,"\n\n      "),l.Tb(46,17),l.Pc(47,"\n        "),l.Nc(48,z,2,0,"mat-header-cell",18),l.Pc(49,"\n        "),l.Nc(50,q,8,1,"mat-cell",19),l.Pc(51,"\n      "),l.Sb(),l.Pc(52,"\n\n      "),l.Tb(53,20),l.Pc(54,"\n        "),l.Nc(55,B,2,0,"mat-header-cell",18),l.Pc(56,"\n        "),l.Nc(57,J,5,1,"mat-cell",19),l.Pc(58,"\n      "),l.Sb(),l.Pc(59,"\n\n      "),l.Tb(60,21),l.Pc(61,"\n        "),l.Nc(62,M,2,0,"mat-header-cell",18),l.Pc(63,"\n        "),l.Nc(64,H,8,1,"mat-cell",19),l.Pc(65,"\n      "),l.Sb(),l.Pc(66,"\n\n      "),l.Tb(67,22),l.Pc(68,"\n        "),l.Nc(69,X,2,0,"mat-header-cell",18),l.Pc(70,"\n        "),l.Nc(71,_,8,1,"mat-cell",19),l.Pc(72,"\n      "),l.Sb(),l.Pc(73,"\n\n      "),l.Tb(74,23),l.Pc(75,"\n        "),l.Nc(76,W,2,0,"mat-header-cell",18),l.Pc(77,"\n        "),l.Nc(78,G,8,1,"mat-cell",19),l.Pc(79,"\n      "),l.Sb(),l.Pc(80,"\n\n      "),l.Tb(81,24),l.Pc(82,"\n        "),l.Nc(83,K,2,0,"mat-header-cell",18),l.Pc(84,"\n        "),l.Nc(85,Z,6,5,"mat-cell",19),l.Pc(86,"\n      "),l.Sb(),l.Pc(87,"\n\n      "),l.Tb(88,25),l.Pc(89,"\n        "),l.Nc(90,Y,2,0,"mat-header-cell",18),l.Pc(91,"\n        "),l.Nc(92,ee,6,5,"mat-cell",26),l.Pc(93,"\n      "),l.Sb(),l.Pc(94,"\n\n      "),l.Tb(95,27),l.Pc(96,"\n        "),l.Nc(97,te,2,0,"mat-header-cell",18),l.Pc(98,"\n        "),l.Nc(99,ce,8,4,"mat-cell",19),l.Pc(100,"\n      "),l.Sb(),l.Pc(101,"\n\n      "),l.Nc(102,ne,1,0,"mat-header-row",28),l.Pc(103,"\n      "),l.Nc(104,ae,1,0,"mat-row",29),l.Pc(105,"\n    "),l.Ub(),l.Pc(106,"\n  "),l.Ub(),l.Pc(107,"\n\n  "),l.Pc(108,"\n  "),l.Vb(109,"div",30),l.Pc(110,"\n    "),l.Nc(111,oe,5,0,"div",6),l.Pc(112,"\n    "),l.Nc(113,ie,2,0,"div",6),l.lc(114,"async"),l.Pc(115,"\n  "),l.Ub(),l.Pc(116,"\n\n  "),l.Vb(117,"div",31),l.Pc(118,"\n    "),l.Nc(119,re,1,1,"mat-spinner",32),l.lc(120,"async"),l.Pc(121,"\n    "),l.Vb(122,"mat-paginator",33),l.lc(123,"async"),l.Pc(124,"\n    "),l.Ub(),l.Pc(125,"\n  "),l.Ub(),l.Pc(126,"\n"),l.Ub(),l.Pc(127,"\n")),2&e){const e=l.Cc(20);l.sc("formGroup",t.creditForm),l.Cb(11),l.sc("formControl",t.ente)("matAutocomplete",e),l.Cb(5),l.sc("ngIf",t.ente.invalid),l.Cb(3),l.sc("displayWith",t.displayFn.bind(t)),l.Cb(3),l.sc("ngIf",t.loadingAutocomplete),l.Cb(2),l.sc("ngIf",!t.loadingAutocomplete),l.Cb(8),l.sc("dataSource",t.dataSource),l.Cb(70),l.sc("matHeaderRowDef",t.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",t.displayedColumns),l.Cb(7),l.sc("ngIf",!t.dataSource.hasItems),l.Cb(2),l.sc("ngIf",l.mc(114,17,!t.dataSource.isPreloadTextViewed$)),l.Cb(6),l.sc("ngIf",l.mc(120,19,t.dataSource.loading$)),l.Cb(3),l.sc("pageSize",10)("pageSizeOptions",l.wc(23,se))("length",l.mc(123,21,t.dataSource.paginatorTotal$))("showFirstLastButtons",!0)}},directives:[b.z,b.r,b.k,y.d,y.c,y.a,N.c,N.g,w.b,b.c,I.c,b.q,b.h,N.f,D.q,I.a,A.j,E.a,A.c,A.e,R.b,b.i,A.b,A.g,A.i,m.a,N.b,x.n,O.b,D.p,A.d,A.a,R.a,E.b,A.f,A.h],pipes:[D.b,D.d],styles:[""]}),e})();var be=c("0EQZ"),me=c("Wp6s"),ue=c("bSwM");const de=["sort1"];function pe(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1," "),l.Ub())}function Pe(e,t){if(1&e){const e=l.Wb();l.Vb(0,"mat-cell",33),l.Pc(1,"\n        "),l.Vb(2,"mat-checkbox",34),l.gc("click",function(e){return e.stopPropagation()})("change",function(c){l.Ec(e);const n=t.$implicit,a=l.kc();return c?a.selection.toggle(n):null}),l.Pc(3,"\n        "),l.Ub(),l.Pc(4,"\n      "),l.Ub()}if(2&e){const e=t.$implicit,c=l.kc();l.Cb(2),l.sc("checked",c.selection.isSelected(e))}}function he(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Cbte"),l.Ub())}function fe(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Cbte:"),l.Ub(),l.Pc(4,"\n        "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n      "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.tipoComprobante.nombre)}}function ge(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Nro"),l.Ub())}function Ve(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Nro:"),l.Ub(),l.Pc(4),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n        ",e.nroComprobante,"\n      ")}}function Ce(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"F.Emision"),l.Ub())}function Se(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"F.Emision:"),l.Ub(),l.Pc(4,"\n        "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n      "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.fechaComprobanteString)}}function Ue(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"F.Vencimiento"),l.Ub())}function ve(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"F.Vto:"),l.Ub(),l.Pc(4,"\n        "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n      "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.fechaVtoString)}}function ye(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Periodo"),l.Ub())}function Ne(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Periodo:"),l.Ub(),l.Pc(4,"\n        "),l.Vb(5,"small"),l.Pc(6),l.Ub(),l.Pc(7,"\n      "),l.Ub()),2&e){const e=t.$implicit;l.Cb(6),l.Qc(e.periodo)}}function we(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Total"),l.Ub())}function Ie(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Total:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n        ",l.oc(5,1,e.totalComprobante,"ARS","symbol"),"\n      ")}}function De(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Saldo"),l.Ub())}function Ae(e,t){if(1&e&&(l.Vb(0,"mat-cell",37),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Saldo:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n        ",l.oc(5,1,e.saldo,"ARS","symbol"),"\n      ")}}function Ee(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Imputado"),l.Ub())}function Re(e,t){if(1&e&&(l.Vb(0,"mat-cell",38),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Imputado:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n        ",l.oc(5,1,e.imputado,"ARS","symbol"),"\n      ")}}function xe(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"A imputar"),l.Ub())}function Oe(e,t){if(1&e&&(l.Vb(0,"mat-cell",39),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"A imputar:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n        ",l.oc(5,1,e.aImputar,"ARS","symbol"),"\n      ")}}function Te(e,t){1&e&&(l.Vb(0,"mat-header-cell",35),l.Pc(1,"Estado"),l.Ub())}function Fe(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n        "),l.Vb(2,"span",36),l.Pc(3,"Estado:"),l.Ub(),l.Pc(4,"\n        "),l.Vb(5,"span"),l.Pc(6),l.Ub(),l.Pc(7,"\n      "),l.Ub()),2&e){const e=t.$implicit,c=l.kc();l.Cb(5),l.Fb("badge badge--",c.comprobanteService.getItemCssClassByStatus(e.estadoComprobante.nombre),""),l.Cb(1),l.Rc("\n          ",e.estadoComprobante.nombre,"\n        ")}}function je(e,t){1&e&&l.Qb(0,"mat-header-row")}function ke(e,t){1&e&&l.Qb(0,"mat-row")}function Qe(e,t){1&e&&(l.Vb(0,"div"),l.Pc(1,"\n    "),l.Vb(2,"strong"),l.Pc(3,"No se encontraron registros"),l.Ub(),l.Pc(4,"\n  "),l.Ub())}function $e(e,t){1&e&&(l.Vb(0,"div"),l.Pc(1,"Cargando..."),l.Ub())}function Le(e,t){1&e&&l.Qb(0,"mat-spinner",40),2&e&&l.sc("diameter",20)}const ze=function(){return[3,5,10]};let qe=(()=>{class e{constructor(e,t,c,n){this.route=e,this.comprobanteService=t,this.fb=c,this.eventManager=n,this.selection=new be.c(!0,[],!0),this.dataSource=new p.a(this.comprobanteService),this.displayedColumns=["Select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Imputado","Imputar","Saldo","Estado"],this.subscriptions=[],this.itemsDeudaOriginales=[],this.creditoResult=[],this.descontarForm=this.fb.group({deudas:["",b.y.required]}),this.deudaSeleccionInfo=new l.o}get comprobanteIn(){return this._comprobanteIn}set comprobanteIn(e){this._comprobanteIn=e,this.creditoAcum=0,this.selection.clear(),this.loadDeudaEnteList()}ngOnInit(){var e;const t=this.selection.changed.subscribe(e=>{e.removed.length>0&&this.calculoXBorrarItems(e.removed[0]),e.added.length>0&&this.creditoAcum>0&&this.calculoxRegistro(e.added[0]),this.conservarCambios(),this.creditoAcum>0||this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Ya consumio el Total de la Nota de Credito!, Puede cambiar su seleccion si lo desea.",type:"warning"}))});this.subscriptions.push(t);const c=null===(e=this.sort)||void 0===e?void 0:e.sortChange.subscribe(()=>this.paginator.pageIndex=0);c&&this.subscriptions.push(c);const n=Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(h.a)(()=>this.loadDeudaEnteList())).subscribe();this.subscriptions.push(n),this.subscriptions.push(this.route.data.subscribe(e=>this.dataUrl=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadDeudaEnteList(){var e;if(!this.comprobanteIn)return;this.dataSource.entitySubject.next([]),this.creditoAcum=this.comprobanteIn.saldo,this.selection.clear(),null===(e=this.descontarForm.get("deudas"))||void 0===e||e.reset();const t=new u.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(t,this.dataUrl.queryOperationStep2),this.subscriptions.push(this.dataSource.entitySubject.subscribe(e=>this.creditoResult=e))}filterConfiguration(){const e={};return e.id=this.comprobanteIn.ente.id?this.comprobanteIn.ente.id:0,e}calculoxRegistro(e){let t;switch(this.totalDeudaAcum+=e.saldo,this.creditoAcum-=e.saldo,this.creditoAcum>=0){case!0:t=e.saldo;break;case!1:t=e.saldo- -1*this.creditoAcum,this.creditoAcum=0}e.saldo-=t,e.aImputar=t}calculoXBorrarItems(e){this.totalDeudaAcum-=e.aImputar,this.creditoAcum+=e.aImputar,e.saldo+=e.aImputar,e.aImputar=0}conservarCambios(){var e,t;const c=this.creditoResult.filter(e=>e.aImputar>0),n=Object.assign(Object.assign({},this.comprobanteIn),{saldo:this.creditoAcum,comprobanteRef:c});c.length>0?null===(e=this.descontarForm.get("deudas"))||void 0===e||e.patchValue(n):null===(t=this.descontarForm.get("deudas"))||void 0===t||t.patchValue(""),this.deudaSeleccionInfo.emit(n)}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(n.a),l.Pb(v.a),l.Pb(b.f),l.Pb(r.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["jhi-descontar-deuda"]],viewQuery:function(e,t){if(1&e&&(l.Uc(m.a,3),l.Uc(de,3)),2&e){let e;l.Bc(e=l.hc())&&(t.paginator=e.first),l.Bc(e=l.hc())&&(t.sort=e.first)}},inputs:{comprobanteIn:"comprobanteIn"},outputs:{deudaSeleccionInfo:"deudaSeleccionInfo"},decls:130,vars:22,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","33.33","fxFlex","100"],[1,"bg-purple","fijo"],[1,"stats","text-center"],[1,"text-white","m-0"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],[4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Imputado"],["style","color: teal",4,"matCellDef"],["matColumnDef","Imputar"],["style","color: red",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],[4,"ngIf"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"mat-column-checkbox"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[2,"color","teal"],[2,"color","red"],[3,"diameter"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Pc(1,"\n  "),l.Vb(2,"div",1),l.Pc(3,"\n    "),l.Vb(4,"mat-card",2),l.Pc(5,"\n      "),l.Vb(6,"mat-card-content"),l.Pc(7,"\n        "),l.Vb(8,"div",3),l.Pc(9,"\n          "),l.Vb(10,"h5",4),l.Pc(11,"Saldo"),l.Ub(),l.Pc(12,"\n          "),l.Vb(13,"h2",4),l.Pc(14),l.lc(15,"currency"),l.Ub(),l.Pc(16,"\n        "),l.Ub(),l.Pc(17,"\n      "),l.Ub(),l.Pc(18,"\n    "),l.Ub(),l.Pc(19,"\n  "),l.Ub(),l.Pc(20,"\n"),l.Ub(),l.Pc(21,"\n\n"),l.Vb(22,"div",5),l.Pc(23,"\n  "),l.Vb(24,"mat-table",6,7),l.Pc(27,"\n    "),l.Tb(28,8),l.Pc(29,"\n      "),l.Nc(30,pe,2,0,"mat-header-cell",9),l.Pc(31,"\n      "),l.Nc(32,Pe,5,1,"mat-cell",10),l.Pc(33,"\n    "),l.Sb(),l.Pc(34,"\n\n    "),l.Tb(35,11),l.Pc(36,"\n      "),l.Nc(37,he,2,0,"mat-header-cell",12),l.Pc(38,"\n      "),l.Nc(39,fe,8,1,"mat-cell",13),l.Pc(40,"\n    "),l.Sb(),l.Pc(41,"\n\n    "),l.Tb(42,14),l.Pc(43,"\n      "),l.Nc(44,ge,2,0,"mat-header-cell",12),l.Pc(45,"\n      "),l.Nc(46,Ve,5,1,"mat-cell",13),l.Pc(47,"\n    "),l.Sb(),l.Pc(48,"\n\n    "),l.Tb(49,15),l.Pc(50,"\n      "),l.Nc(51,Ce,2,0,"mat-header-cell",12),l.Pc(52,"\n      "),l.Nc(53,Se,8,1,"mat-cell",13),l.Pc(54,"\n    "),l.Sb(),l.Pc(55,"\n\n    "),l.Tb(56,16),l.Pc(57,"\n      "),l.Nc(58,Ue,2,0,"mat-header-cell",12),l.Pc(59,"\n      "),l.Nc(60,ve,8,1,"mat-cell",13),l.Pc(61,"\n    "),l.Sb(),l.Pc(62,"\n\n    "),l.Tb(63,17),l.Pc(64,"\n      "),l.Nc(65,ye,2,0,"mat-header-cell",12),l.Pc(66,"\n      "),l.Nc(67,Ne,8,1,"mat-cell",13),l.Pc(68,"\n    "),l.Sb(),l.Pc(69,"\n\n    "),l.Tb(70,18),l.Pc(71,"\n      "),l.Nc(72,we,2,0,"mat-header-cell",12),l.Pc(73,"\n      "),l.Nc(74,Ie,6,5,"mat-cell",13),l.Pc(75,"\n    "),l.Sb(),l.Pc(76,"\n\n    "),l.Tb(77,19),l.Pc(78,"\n      "),l.Nc(79,De,2,0,"mat-header-cell",12),l.Pc(80,"\n      "),l.Nc(81,Ae,6,5,"mat-cell",20),l.Pc(82,"\n    "),l.Sb(),l.Pc(83,"\n\n    "),l.Tb(84,21),l.Pc(85,"\n      "),l.Nc(86,Ee,2,0,"mat-header-cell",12),l.Pc(87,"\n      "),l.Nc(88,Re,6,5,"mat-cell",22),l.Pc(89,"\n    "),l.Sb(),l.Pc(90,"\n\n    "),l.Tb(91,23),l.Pc(92,"\n      "),l.Nc(93,xe,2,0,"mat-header-cell",12),l.Pc(94,"\n      "),l.Nc(95,Oe,6,5,"mat-cell",24),l.Pc(96,"\n    "),l.Sb(),l.Pc(97,"\n\n    "),l.Tb(98,25),l.Pc(99,"\n      "),l.Nc(100,Te,2,0,"mat-header-cell",12),l.Pc(101,"\n      "),l.Nc(102,Fe,8,4,"mat-cell",13),l.Pc(103,"\n    "),l.Sb(),l.Pc(104,"\n\n    "),l.Nc(105,je,1,0,"mat-header-row",26),l.Pc(106,"\n    "),l.Nc(107,ke,1,0,"mat-row",27),l.Pc(108,"\n  "),l.Ub(),l.Pc(109,"\n"),l.Ub(),l.Pc(110,"\n\n"),l.Pc(111,"\n"),l.Vb(112,"div",28),l.Pc(113,"\n  "),l.Nc(114,Qe,5,0,"div",29),l.Pc(115,"\n  "),l.Nc(116,$e,2,0,"div",29),l.lc(117,"async"),l.Pc(118,"\n"),l.Ub(),l.Pc(119,"\n\n"),l.Vb(120,"div",30),l.Pc(121,"\n  "),l.Nc(122,Le,1,1,"mat-spinner",31),l.lc(123,"async"),l.Pc(124,"\n  "),l.Vb(125,"mat-paginator",32),l.lc(126,"async"),l.Pc(127,"\n  "),l.Ub(),l.Pc(128,"\n"),l.Ub(),l.Pc(129,"\n")),2&e&&(l.Cb(14),l.Qc(l.oc(15,11,t.creditoAcum,"ARS","symbol")),l.Cb(10),l.sc("dataSource",t.dataSource),l.Cb(81),l.sc("matHeaderRowDef",t.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",t.displayedColumns),l.Cb(7),l.sc("ngIf",!t.dataSource.hasItems),l.Cb(2),l.sc("ngIf",l.mc(117,15,t.dataSource.isPreloadTextViewed$)),l.Cb(6),l.sc("ngIf",l.mc(123,17,t.dataSource.loading$)),l.Cb(3),l.sc("pageSize",10)("pageSizeOptions",l.wc(21,ze))("length",l.mc(126,19,t.dataSource.paginatorTotal$))("showFirstLastButtons",!0))},directives:[y.d,y.c,y.a,me.a,me.c,A.j,E.a,A.c,A.e,A.b,A.g,A.i,D.q,m.a,A.d,A.a,ue.a,E.b,A.f,A.h,O.b],pipes:[D.d,D.b],styles:[""]}),e})();function Be(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"Cbte"),l.Ub())}function Je(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Cbte:"),l.Ub(),l.Pc(4),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",e.tipoComprobante.nombre,"\n          ")}}function Me(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"Nro"),l.Ub())}function He(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Nro:"),l.Ub(),l.Pc(4),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",e.nroComprobante,"\n          ")}}function Xe(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"Total"),l.Ub())}function _e(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Total:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",l.pc(5,1,e.totalComprobante,"ARS","symbol","1.0-0"),"\n          ")}}function We(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"Imputado"),l.Ub())}function Ge(e,t){if(1&e&&(l.Vb(0,"mat-cell",30),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Imputado:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",l.pc(5,1,e.imputado,"ARS","symbol","1.0-0"),"\n          ")}}function Ke(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"a Imputar"),l.Ub())}function Ze(e,t){if(1&e&&(l.Vb(0,"mat-cell",31),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Imputar:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",l.pc(5,1,e.aImputar,"ARS","symbol","1.0-0"),"\n          ")}}function Ye(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Pc(1,"Saldo"),l.Ub())}function et(e,t){if(1&e&&(l.Vb(0,"mat-cell",32),l.Pc(1,"\n            "),l.Vb(2,"span",29),l.Pc(3,"Saldo:"),l.Ub(),l.Pc(4),l.lc(5,"currency"),l.Ub()),2&e){const e=t.$implicit;l.Cb(4),l.Rc("\n            ",l.pc(5,1,e.saldo,"ARS","symbol","1.0-0"),"\n          ")}}function tt(e,t){1&e&&l.Qb(0,"mat-header-row")}function ct(e,t){1&e&&l.Qb(0,"mat-row")}let nt=(()=>{class e{constructor(){this.displayedColumns=["Cbte","Nro","Total","Imputado","Imputar","Saldo"]}set confirmVoucher(e){this._confirmVoucher=Object.assign({},e),this.dataSource=this.confirmVoucher.comprobanteRef}get confirmVoucher(){return this._confirmVoucher}getImputado(){var e,t;return null!==(t=null===(e=this.confirmVoucher.comprobanteRef)||void 0===e?void 0:e.reduce((e,t)=>"number"==typeof t.aImputar?e+t.aImputar:e,0))&&void 0!==t?t:0}getSaldoActual(){return this.confirmVoucher.totalComprobante-this.confirmVoucher.imputado}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Jb({type:e,selectors:[["jhi-confirmar-ajuste"]],inputs:{confirmVoucher:"confirmVoucher"},decls:126,vars:31,consts:[[1,"bg-light","mat-elevation-z6"],["fxLayout","row wrap"],["fxFlex.gt-xs","50","fxFlex","100"],[1,"font-bold"],["fxLayout","column"],["fxFlex.gt-xs","50","fxFlex","100",1,"text-right"],[1,"responsive-table","m-t-15"],[1,"table-items-list",3,"dataSource"],["table",""],["matColumnDef","Cbte"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","Total"],["matColumnDef","Imputado"],["style","color: teal",4,"matCellDef"],["matColumnDef","Imputar"],["style","color: red",4,"matCellDef"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"d-flex","align-items-center"],[1,"text-right","ml-auto"],[1,"text-uppercase","text-md","ma-0","text-bold"],[1,"text-uppercase","text-sm","ma-0","text-danger","text-bold"],[1,"m-l-10"],[1,"font-medium"],[1,"text-danger","font-medium"],[1,"header-label"],[2,"color","teal"],[2,"color","red"],[1,"font-medium",2,"color","blue"]],template:function(e,t){1&e&&(l.Vb(0,"mat-card"),l.Pc(1,"\n  "),l.Vb(2,"mat-card-content",0),l.Pc(3,"\n    "),l.Pc(4,"\n\n    "),l.Vb(5,"div",1),l.Pc(6,"\n      "),l.Vb(7,"div",2),l.Pc(8,"\n        "),l.Vb(9,"h4",3),l.Pc(10),l.Ub(),l.Pc(11,"\n        "),l.Vb(12,"div",4),l.Pc(13,"\n          "),l.Pc(14,"\n        "),l.Ub(),l.Pc(15,"\n      "),l.Ub(),l.Pc(16,"\n      "),l.Vb(17,"div",5),l.Pc(18,"\n        "),l.Vb(19,"h4",3),l.Pc(20),l.Ub(),l.Pc(21,"\n        "),l.Vb(22,"div",4),l.Pc(23,"\n          "),l.Vb(24,"span"),l.Pc(25),l.Ub(),l.Pc(26,"\n          "),l.Vb(27,"span"),l.Pc(28),l.Ub(),l.Pc(29,"\n          "),l.Pc(30,"\n        "),l.Ub(),l.Pc(31,"\n      "),l.Ub(),l.Pc(32,"\n    "),l.Ub(),l.Pc(33,"\n\n    "),l.Vb(34,"div",6),l.Pc(35,"\n      "),l.Vb(36,"mat-table",7,8),l.Pc(38,"\n        "),l.Tb(39,9),l.Pc(40,"\n          "),l.Nc(41,Be,2,0,"mat-header-cell",10),l.Pc(42,"\n          "),l.Nc(43,Je,5,1,"mat-cell",11),l.Pc(44,"\n        "),l.Sb(),l.Pc(45,"\n\n        "),l.Tb(46,12),l.Pc(47,"\n          "),l.Nc(48,Me,2,0,"mat-header-cell",10),l.Pc(49,"\n          "),l.Nc(50,He,5,1,"mat-cell",11),l.Pc(51,"\n        "),l.Sb(),l.Pc(52,"\n\n        "),l.Tb(53,13),l.Pc(54,"\n          "),l.Nc(55,Xe,2,0,"mat-header-cell",10),l.Pc(56,"\n          "),l.Nc(57,_e,6,6,"mat-cell",11),l.Pc(58,"\n        "),l.Sb(),l.Pc(59,"\n\n        "),l.Tb(60,14),l.Pc(61,"\n          "),l.Nc(62,We,2,0,"mat-header-cell",10),l.Pc(63,"\n          "),l.Nc(64,Ge,6,6,"mat-cell",15),l.Pc(65,"\n        "),l.Sb(),l.Pc(66,"\n\n        "),l.Tb(67,16),l.Pc(68,"\n          "),l.Nc(69,Ke,2,0,"mat-header-cell",10),l.Pc(70,"\n          "),l.Nc(71,Ze,6,6,"mat-cell",17),l.Pc(72,"\n        "),l.Sb(),l.Pc(73,"\n\n        "),l.Tb(74,18),l.Pc(75,"\n          "),l.Nc(76,Ye,2,0,"mat-header-cell",10),l.Pc(77,"\n          "),l.Nc(78,et,6,6,"mat-cell",19),l.Pc(79,"\n        "),l.Sb(),l.Pc(80,"\n\n        "),l.Nc(81,tt,1,0,"mat-header-row",20),l.Pc(82,"\n        "),l.Nc(83,ct,1,0,"mat-row",21),l.Pc(84,"\n      "),l.Ub(),l.Pc(85,"\n    "),l.Ub(),l.Pc(86,"\n\n    "),l.Vb(87,"div",22),l.Pc(88,"\n      "),l.Vb(89,"div",23),l.Pc(90,"\n        "),l.Vb(91,"h6",24),l.Pc(92,"Total Nota Cr\xe9dito :"),l.Ub(),l.Pc(93,"\n        "),l.Vb(94,"h6",24),l.Pc(95,"Saldo Actual Nota Cr\xe9dito :"),l.Ub(),l.Pc(96,"\n        "),l.Vb(97,"h6",24),l.Pc(98,"Total a Imputar :"),l.Ub(),l.Pc(99,"\n        "),l.Vb(100,"h6",25),l.Pc(101,"Nuevo Saldo de Cr\xe9dito :"),l.Ub(),l.Pc(102,"\n      "),l.Ub(),l.Pc(103,"\n      "),l.Vb(104,"div",26),l.Pc(105,"\n        "),l.Vb(106,"h4",27),l.Pc(107),l.lc(108,"currency"),l.Ub(),l.Pc(109,"\n        "),l.Vb(110,"h4",27),l.Pc(111),l.lc(112,"currency"),l.Ub(),l.Pc(113,"\n        "),l.Vb(114,"h4",27),l.Pc(115),l.lc(116,"currency"),l.Ub(),l.Pc(117,"\n        "),l.Vb(118,"h4",28),l.Pc(119),l.lc(120,"currency"),l.Ub(),l.Pc(121,"\n      "),l.Ub(),l.Pc(122,"\n    "),l.Ub(),l.Pc(123,"\n  "),l.Ub(),l.Pc(124,"\n"),l.Ub(),l.Pc(125,"\n")),2&e&&(l.Cb(10),l.Rc("\n          ",null!=t.confirmVoucher.ente&&t.confirmVoucher.ente.persona?null==t.confirmVoucher.ente?null:t.confirmVoucher.ente.persona.apellido:null==t.confirmVoucher.ente?null:t.confirmVoucher.ente.personaJuridica.nombreFantasia,"\n        "),l.Cb(10),l.Rc("Nota Credito # ",t.confirmVoucher.nroComprobante,""),l.Cb(5),l.Rc("Fecha : ",t.confirmVoucher.fechaComprobanteString,""),l.Cb(3),l.Rc("Estado : ",null==t.confirmVoucher.estadoComprobante?null:t.confirmVoucher.estadoComprobante.nombre,""),l.Cb(8),l.sc("dataSource",t.dataSource),l.Cb(45),l.sc("matHeaderRowDef",t.displayedColumns),l.Cb(2),l.sc("matRowDefColumns",t.displayedColumns),l.Cb(24),l.Qc(l.pc(108,11,null==t.confirmVoucher?null:t.confirmVoucher.totalComprobante,"ARS","symbol","1.0-0")),l.Cb(4),l.Qc(l.pc(112,16,t.getSaldoActual(),"ARS","symbol","1.0-0")),l.Cb(4),l.Qc(l.pc(116,21,t.getImputado(),"ARS","symbol","1.0-0")),l.Cb(4),l.Qc(l.pc(120,26,null==t.confirmVoucher?null:t.confirmVoucher.saldo,"ARS","symbol","1.0-0")))},directives:[me.a,me.c,y.d,y.a,A.j,A.c,A.e,A.b,A.g,A.i,A.d,A.a,A.f,A.h],pipes:[D.d],styles:[""]}),e})();var at=c("0MNC"),ot=c("Q1ts"),it=c("Owrn"),rt=c("xHqg"),st=c("bTqV");const lt=["stepper"];function bt(e,t){1&e&&l.Pc(0,"Seleccionar Cr\xe9dito")}function mt(e,t){if(1&e&&l.Qb(0,"jhi-confirmar-ajuste",16),2&e){const e=l.kc();l.sc("confirmVoucher",e.saveVoucher)}}const ut=[{path:"",component:(()=>{class e{constructor(e,t,c,n){this.route=e,this.breakpointObserver=t,this.debtService=c,this.eventManager=n,this.titleForm="",this.isSaving=!1,this.subscriptions=[],this.stepperOrientation=t.observe("(min-width: 800px)").pipe(Object(s.a)(({matches:e})=>e?"horizontal":"vertical"))}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(e=>{this.titleForm=e.pageTitle,this.urlData=e}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}save(){this.saveVoucher.comprobanteRef.length>0?(this.isSaving=!0,this.subscribeToSaveResponse(this.debtService.create(this.saveVoucher,this.urlData.createOperation))):this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Algo no va bien, por favor verifica los campos",type:"warning"}))}creditSelection(e){this.creditVoucherSelected=e}deudaSelection(e){this.saveVoucher=Object.assign({},e)}subscribeToSaveResponse(e){const t=e.subscribe({next:()=>this.onSaveSuccess(),error:()=>this.onSaveError()});this.subscriptions.push(t),this.step1Credit.limpiarOptions()}onSaveSuccess(){this.isSaving=!1,this.stepper.reset()}onSaveError(){this.isSaving=!1,this.eventManager.broadcast(new r.b("erpSepApp.error",{message:"Algo salio mal!",type:"danger"}))}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(n.a),l.Pb(at.a),l.Pb(ot.a),l.Pb(r.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["jhi-stepper-ajustment"]],viewQuery:function(e,t){if(1&e&&(l.Uc(le,1),l.Uc(qe,1),l.Uc(nt,1),l.Uc(lt,1)),2&e){let e;l.Bc(e=l.hc())&&(t.step1Credit=e.first),l.Bc(e=l.hc())&&(t.step2Disconunt=e.first),l.Bc(e=l.hc())&&(t.step3Confirm=e.first),l.Bc(e=l.hc())&&(t.stepper=e.first)}},features:[l.Bb([{provide:i.h,useValue:{showError:!0}}])],decls:64,vars:7,consts:[["fxLayoutAlign","space-between start"],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"creditSeleccionInfo"],["form1",""],[1,"text-right","p-t-20"],["mat-stroked-button","","color","primary","matStepperNext",""],["label","Descontar Deuda",3,"stepControl"],[3,"comprobanteIn","deudaSeleccionInfo"],["form2",""],["mat-stroked-button","","color","warn","matStepperPrevious",""],["label","Confirmar"],[3,"confirmVoucher",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"confirmVoucher"]],template:function(e,t){if(1&e&&(l.Vb(0,"mat-card"),l.Pc(1,"\n  "),l.Vb(2,"mat-card-header",0),l.Pc(3,"\n    "),l.Vb(4,"mat-card-title"),l.Pc(5),l.Ub(),l.Pc(6,"\n  "),l.Ub(),l.Pc(7,"\n  "),l.Qb(8,"hr"),l.Pc(9,"\n  "),l.Vb(10,"mat-card-content"),l.Pc(11,"\n    "),l.Qb(12,"jhi-alert-error"),l.Pc(13,"\n\n    "),l.Vb(14,"mat-horizontal-stepper",1,2),l.Pc(16,"\n      "),l.Vb(17,"mat-step",3),l.Pc(18,"\n        "),l.Nc(19,bt,1,0,"ng-template",4),l.Pc(20,"\n        "),l.Vb(21,"jhi-credito-ente",5,6),l.gc("creditSeleccionInfo",function(e){return t.creditSelection(e)}),l.Ub(),l.Pc(23,"\n        "),l.Vb(24,"div",7),l.Pc(25,"\n          "),l.Vb(26,"button",8),l.Pc(27,"Siguiente"),l.Ub(),l.Pc(28,"\n        "),l.Ub(),l.Pc(29,"\n      "),l.Ub(),l.Pc(30,"\n\n      "),l.Vb(31,"mat-step",9),l.Pc(32,"\n        "),l.Vb(33,"jhi-descontar-deuda",10,11),l.gc("deudaSeleccionInfo",function(e){return t.deudaSelection(e)}),l.Pc(35,"\n        "),l.Ub(),l.Pc(36,"\n\n        "),l.Vb(37,"div",7),l.Pc(38,"\n          "),l.Vb(39,"button",12),l.Pc(40,"Atras"),l.Ub(),l.Pc(41,"\n          "),l.Vb(42,"button",8),l.Pc(43,"Siguiente"),l.Ub(),l.Pc(44,"\n        "),l.Ub(),l.Pc(45,"\n      "),l.Ub(),l.Pc(46,"\n\n      "),l.Vb(47,"mat-step",13),l.Pc(48,"\n        "),l.Nc(49,mt,1,1,"jhi-confirmar-ajuste",14),l.Pc(50,"\n        "),l.Vb(51,"div",7),l.Pc(52,"\n          "),l.Vb(53,"button",12),l.Pc(54,"Atras"),l.Ub(),l.Pc(55,"\n          "),l.Vb(56,"button",15),l.gc("click",function(){return t.save()}),l.Pc(57,"Confirmar"),l.Ub(),l.Pc(58,"\n        "),l.Ub(),l.Pc(59,"\n      "),l.Ub(),l.Pc(60,"\n    "),l.Ub(),l.Pc(61,"\n  "),l.Ub(),l.Pc(62,"\n"),l.Ub(),l.Pc(63,"\n")),2&e){const e=l.Cc(22),c=l.Cc(34);l.Cb(5),l.Qc(t.titleForm),l.Cb(9),l.sc("linear",!0),l.Cb(3),l.sc("stepControl",e.creditForm),l.Cb(14),l.sc("stepControl",c.descontarForm),l.Cb(2),l.sc("comprobanteIn",t.creditVoucherSelected),l.Cb(16),l.sc("ngIf",t.saveVoucher),l.Cb(7),l.sc("disabled",t.isSaving)}},directives:[me.a,me.e,y.c,me.g,me.c,it.a,rt.a,rt.b,rt.c,le,st.a,rt.e,qe,rt.f,D.q,nt],styles:[""]}),e})(),data:{pageTitle:"Ajuste de Saldos",queryOperationStep1:o.a.GET_ENTE_NOTA_CREDITO,queryOperationStep2:o.a.GET_ENTE_DEUDA,createOperation:o.a.CREAR_AJUSTE_SALDO}}];let dt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({imports:[[a.a,n.i.forChild(ut)]]}),e})()}}]);