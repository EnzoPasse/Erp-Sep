(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{jX33:function(e,t,n){"use strict";n.r(t),n.d(t,"PayModule",function(){return ao});var c=n("fXoL"),o=n("3Pt+"),a=function(e){return e.CUENTA_CORRIENTE="CUENTA CORRIENTE",e.DIRECTO="DIRECTO",e.LOTE="LOTE",e}({}),i=n("Kj3r");n("bzzm"),n("AOSR"),n("TeOp"),n("VKys");class r{constructor(e,t,n,c,o,a,i,r,s,l,b){this.id=e,this.idComprobante=t,this.cajaCuentaBanco=n,this.documento=c,this.factor=o,this.fechaString=a,this.concepto=i,this.importe=r,this.medioPago=s,this.usuario=l,this.receptor=b}}var s=n("8usy");class l{constructor(e,t,n,c,o,a,i,r,s){this.id=e,this.tipoDocumentoBancario=t,this.estadoDocumento=n,this.nombre=c,this.fechaEmisionString=o,this.fechaPreVencString=a,this.nroDocumento=i,this.importe=r,this.banco=s}}class b{constructor(e,t,n){this.id=e,this.nombre=t,this.subTipo=n}}var m=n("tk/3"),u=n("PxL+");let d=(()=>{class e{constructor(e,t){this.http=e,this.applicationConfigService=t,this.resurceUrl=this.applicationConfigService.getEndpointFor("/medioPago")}getAll(){return this.http.get(`${this.resurceUrl}/get`)}getAllPorIdMFA(e){return this.http.get(`${this.resurceUrl}/get/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b),c.cc(u.a))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=n("Wgwc"),p=n("2Vo4"),h=n("hk4g");let f=(()=>{class e{constructor(e,t){this.http=e,this.voucherAdapterService=t,this._comprobante=new p.a(this.voucherAdapterService.adapter({})),this._movimientoCajaBanco=new p.a([]),this._documento=new p.a(new l),this._tipoOrden=new p.a({}),this.comprobante$=this._comprobante.asObservable(),this.tipoOrden$=this._tipoOrden.asObservable(),this.movimientoCajaBanco$=this._movimientoCajaBanco.asObservable()}set comprobante(e){this._comprobante.next(e)}get comprobante(){return this._comprobante.getValue()}set movimientoCajaBanco(e){this._movimientoCajaBanco.next(e)}get movimientoCajaBanco(){return this._movimientoCajaBanco.getValue()}set documento(e){this._documento.next(e)}get documento(){return this._documento.getValue()}set tipoOrden(e){this._tipoOrden.next(e)}get tipoOrden(){return this._tipoOrden.getValue()}crearComprobante(e){const{datos:t}=e.datos;this.tipoOrden=Object.assign(Object.assign({},this.tipoOrden),e),this.comprobante=Object.assign(Object.assign({},this.comprobante),t)}resetComprobante(){this.comprobante=this.voucherAdapterService.adapter({}),this.movimientoCajaBanco.length?this.comprobante.movimientoCajaBanco=this.movimientoCajaBanco:this.resetMovimientoCajaBanco()}crearMovimientoCajaBanco(e){var t;switch(console.log(e),this.comprobante.fechaContableString=P().format("DD/MM/YYYY"),null===(t=e.medioPagoSelected)||void 0===t?void 0:t.id){case 2:{let t;for(let n=0;e.documento.length>n;n++)t=this.addMovimientoCajaBanco(e.movimientoCajaBanco,e.documento[n].importe),t.documento=this.addDocumento(e.documento[n],e.movimientoCajaBanco.importe),this.movimientoCajaBanco.push(t);break}case 3:{const t=this.addMovimientoCajaBanco(e.movimientoCajaBanco,e.movimientoCajaBanco.importe);t.documento=this.addDocumento(e.documento,e.movimientoCajaBanco.importe),this.movimientoCajaBanco=[t];break}default:this.comprobante=Object.assign(Object.assign({},this.comprobante),e.comprobante),this.movimientoCajaBanco=[this.addMovimientoCajaBanco(e.movimientoCajaBanco,e.movimientoCajaBanco.importe)]}this.comprobante=Object.assign(Object.assign({},this.comprobante),{movimientoCajaBanco:this.movimientoCajaBanco}),console.log(this.comprobante)}addMovimientoCajaBanco(e,t){const n=new r;return n.cajaCuentaBanco=e.cajaCuentaBanco,n.medioPago=e.medioPago,n.receptor=e.receptor,n.importe=t,n}resetMovimientoCajaBanco(){this.movimientoCajaBanco=[]}addDocumento(e,t){var n;const c=new l;return c.tipoDocumentoBancario=this.addTipoDocumento(e.subTipo),c.nroDocumento=e.nroDocumento,c.importe=null!==(n=e.importe)&&void 0!==n?n:t,c.fechaEmisionString=e.fechaEmisionString,c.fechaPreVencString=e.fechaPreVencString,c}addTipoDocumento(e){let t=new b;const n={id:e.idTipoDocumento,subTipo:[e]};return t=Object.assign(Object.assign({},t),n),t}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b),c.cc(h.a))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function g(e,t){if(1&e&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"DIRECTO"),c.Ub()),2&e){const e=c.kc();c.tc("value",e.PaymentsType.DIRECTO)}}function C(e,t){if(1&e&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"CUENTA CORRIENTE\n          "),c.Ub()),2&e){const e=c.kc();c.tc("value",e.PaymentsType.CUENTA_CORRIENTE)}}function V(e,t){if(1&e&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"LOTE"),c.Ub()),2&e){const e=c.kc();c.tc("value",e.PaymentsType.LOTE)}}function v(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-directo",9),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Ub()}}function U(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-cuenta-corriente",9),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Pc(1,"\n    "),c.Ub()}}function S(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-lote",9),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Pc(1," "),c.Ub()}}let y=(()=>{class e{constructor(e,t){this.fb=e,this.payService=t,this.PaymentsType=a,this.tipoPagoForm=this.fb.group({tipoPagoSelected:["",o.y.required],total:["",o.y.required]}),this.tipoPagoInfo=new c.o}ngOnInit(){this.subscription=this.tipoPagoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{var t,n;if("VALID"===e){const e={datos:this.data,totalComprobante:null===(t=this.tipoPagoForm.get("total"))||void 0===t?void 0:t.value,tipoPago:null===(n=this.tipoPagoForm.get("tipoPagoSelected"))||void 0===n?void 0:n.value};this.tipoPagoInfo.emit(e),this.payService.crearComprobante(e)}else this.tipoPagoInfo.emit(null)})}changeTipoPago(){var e;null===(e=this.tipoPagoForm.get("total"))||void 0===e||e.patchValue(null),this.payService.resetComprobante()}formValid(e){var t;if(e){const{totalComprobante:n}=e;null===(t=this.tipoPagoForm.get("total"))||void 0===t||t.patchValue(n),this.data=e}else this.changeTipoPago()}limpiarOptions(){var e;null===(e=this.tipoPagoForm.get("tipoPagoSelected"))||void 0===e||e.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.f),c.Pb(f))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-step1-tipo-orden"]],outputs:{tipoPagoInfo:"tipoPagoInfo"},decls:32,vars:7,consts:[[1,"m-t-10"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100"],["color","warn","fxLayout","column","fxLayoutAlign","center start","fxLayout.gt-xs","row","fxLayoutAlign.gt-sm","space-evenly center","formControlName","tipoPagoSelected","name","tipo",1,"radio-group",3,"change"],["class","radio-button",3,"value",4,"jhiHasAnyAuthority"],[1,"p-30"],[3,"formInfo",4,"ngIf"],[1,"radio-button",3,"value"],[3,"formInfo"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"form",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"div",3),c.Pc(7,"\n        "),c.Vb(8,"mat-radio-group",4),c.gc("change",function(){return t.changeTipoPago()}),c.Pc(9,"\n          "),c.Nc(10,g,2,1,"mat-radio-button",5),c.Pc(11,"\n          "),c.Nc(12,C,2,1,"mat-radio-button",5),c.Pc(13,"\n          "),c.Nc(14,V,2,1,"mat-radio-button",5),c.Pc(15,"\n        "),c.Ub(),c.Pc(16,"\n      "),c.Ub(),c.Pc(17,"\n    "),c.Ub(),c.Pc(18,"\n\n    "),c.Vb(19,"div",6),c.Pc(20,"\n      "),c.Qb(21,"hr"),c.Pc(22,"\n    "),c.Ub(),c.Pc(23,"\n\n    "),c.Nc(24,v,1,0,"jhi-directo",7),c.Pc(25,"\n\n    "),c.Nc(26,U,2,0,"jhi-cuenta-corriente",7),c.Pc(27,"\n\n    "),c.Nc(28,S,2,0,"jhi-lote",7),c.Pc(29,"\n  "),c.Ub(),c.Pc(30,"\n"),c.Ub(),c.Pc(31,"\n")),2&e&&(c.Cb(2),c.sc("formGroup",t.tipoPagoForm),c.Cb(8),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago Directo"),c.Cb(2),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago a Cuenta Corriente"),c.Cb(2),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago a Lote"),c.Cb(10),c.sc("ngIf",t.tipoPagoForm.controls.tipoPagoSelected.value===t.PaymentsType.DIRECTO),c.Cb(2),c.sc("ngIf",t.tipoPagoForm.controls.tipoPagoSelected.value===t.PaymentsType.CUENTA_CORRIENTE),c.Cb(2),c.sc("ngIf",t.tipoPagoForm.controls.tipoPagoSelected.value===t.PaymentsType.LOTE))},styles:[""]}),e})();var E=n("hbEq"),F=n("tyNb"),I=n("elZ2"),N=n("mHTL"),j=n("0EQZ"),x=n("M9IT"),D=function(e){return e.RPT_ORDEN_PAGO="RPT0001",e}({}),O=n("Dfyc"),T=n("YiAG"),w=n("XNiG"),R=n("VRyK"),A=n("xgIS"),k=n("LRne"),q=n("1G5W"),B=n("vkgz"),$=n("/uUt"),L=n("lJxs"),Q=n("eIep"),M=n("wd6h");let _=(()=>{class e{constructor(e,t){this.http=e,this.applicationConfigService=t,this.pagoUrl=this.applicationConfigService.getEndpointFor("pago")}create(e,t){return this.http.post(`${this.pagoUrl}/create?operacion=${t}`,e)}update(e,t){return this.http.put(`${this.pagoUrl}/edit?operacion=${t}`,e)}delete(e,t=[]){return this.http.delete(`${this.pagoUrl}/deleteCpte/?id=${e}&strDocumento=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b),c.cc(u.a))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var G=n("DeO8"),H=n("XiUz"),z=n("Wp6s"),J=n("3AuD"),Y=n("kmnG"),W=n("qFsG"),X=n("Qu3c"),K=n("d3UM"),Z=n("ofXK"),ee=n("iadO"),te=n("+0xr"),ne=n("Dh3D"),ce=n("bTqV"),oe=n("FKr1"),ae=n("NFeN"),ie=n("Xa2L");const re=["sort1"],se=["searchInput"],le=function(){return["../generarOrdenPago"]};function be(e,t){1&e&&(c.Pc(0,"\n            "),c.Vb(1,"button",42),c.Pc(2,"\n              Nuevo Orden de Pago\n            "),c.Ub(),c.Pc(3,"\n          ")),2&e&&(c.Cb(1),c.sc("routerLink",c.wc(1,le)))}function me(e,t){if(1&e&&(c.Vb(0,"mat-option",43),c.Pc(1,"\n                  "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e.id),c.Cb(3),c.Qc(e.nombre)}}function ue(e,t){if(1&e&&(c.Vb(0,"mat-option",43),c.Pc(1,"\n                  "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e.id),c.Cb(3),c.Qc(e.nombre)}}function de(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"Ente"),c.Ub())}function Pe(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Ente:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Rc("\n                  ",e.ente.persona?e.ente.persona.apellido:e.ente.personaJuridica?e.ente.personaJuridica.nombreFantasia:" PAGO DIRECTO ","\n                ")}}function pe(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"Cbte"),c.Ub())}function he(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Cbte:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.tipoComprobante.nombre)}}function fe(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"Nro"),c.Ub())}function ge(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                ",e.nroComprobante,"\n              ")}}function Ce(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"F.Emision"),c.Ub())}function Ve(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaComprobanteString)}}function ve(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"Total"),c.Ub())}function Ue(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                ",c.oc(5,1,e.totalComprobante,"ARS","symbol"),"\n              ")}}function Se(e,t){1&e&&(c.Vb(0,"mat-header-cell",44),c.Pc(1,"Estado"),c.Ub())}function ye(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&e){const e=t.$implicit,n=c.kc();c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(e.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n                  ",e.estadoComprobante.nombre,"\n                ")}}function Ee(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Acciones"),c.Ub())}function Fe(e,t){if(1&e){const e=c.Wb();c.Pc(0,"\n                    "),c.Vb(1,"button",48),c.gc("click",function(){c.Ec(e);const t=c.kc().$implicit;return c.kc().imprimirOrden(t.id)}),c.Pc(2,"\n                      "),c.Vb(3,"mat-icon",49),c.Pc(4,"print"),c.Ub(),c.Pc(5,"\n                    "),c.Ub(),c.Pc(6,"\n                  ")}if(2&e){const e=c.kc().$implicit;c.Cb(1),c.sc("disabled","PAGADO"===(null==e?null:e.estadoComprobante.nombre))}}function Ie(e,t){if(1&e){const e=c.Wb();c.Pc(0,"\n                    "),c.Vb(1,"button",50),c.gc("click",function(){c.Ec(e);const t=c.kc().$implicit;return c.kc().deleteComprobante(t)}),c.Pc(2,"\n                      "),c.Vb(3,"mat-icon",49),c.Pc(4," delete"),c.Ub(),c.Pc(5,"\n                    "),c.Ub(),c.Pc(6,"\n                  ")}if(2&e){const e=c.kc().$implicit;c.Cb(1),c.sc("disabled","IMPUTADO"!==(null==e?null:e.estadoComprobante.nombre))}}function Ne(e,t){if(1&e&&(c.Vb(0,"mat-cell",46),c.Pc(1,"\n                "),c.Vb(2,"span",45),c.Pc(3,"Acciones:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"div",47),c.Pc(6,"\n                  "),c.Nc(7,Fe,7,1,"ng-template",4),c.Pc(8,"\n                  \xa0\n                  "),c.Nc(9,Ie,7,1,"ng-template",4),c.Pc(10,"\n                "),c.Ub(),c.Pc(11,"\n              "),c.Ub()),2&e){const e=c.kc();c.Cb(7),c.sc("jhiHasAnyAuthority",null==e.dataUrl?null:e.dataUrl.printPermission),c.Cb(2),c.sc("jhiHasAnyAuthority",null==e.dataUrl?null:e.dataUrl.deletePermission)}}function je(e,t){1&e&&c.Qb(0,"mat-header-row")}function xe(e,t){1&e&&c.Qb(0,"mat-row")}function De(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1,"No se encontraron registros"),c.Ub())}function Oe(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1,"Cargando..."),c.Ub())}function Te(e,t){1&e&&c.Qb(0,"mat-spinner",51),2&e&&c.sc("diameter",20)}const we=function(){return[3,5,10]};let Re=(()=>{class e{constructor(e,t,n,c,o,a,i){this.comprobanteService=e,this.paymentService=t,this.medioService=n,this.dialog=c,this.route=o,this.applicationConfigService=a,this.router=i,this.title="",this.flag=!0,this.displayedColumns=["Ente","Cbte","Nro","F.Emision","Total","Estado","Acciones"],this.filtroEstado="",this.filtroFechaDesde="",this.filtroFechaHasta="",this.filtroMedio="",this.allEstadosComprobantes=[],this.allMediosPago=[],this.selection=new j.c(!0,[]),this.destroy$=new w.a,this.subscriptions=[]}ngOnInit(){var e;this.subscriptions.push(this.route.data.pipe(Object(q.a)(this.destroy$)).subscribe(e=>{this.dataUrl=e,this.title=e.pageTitle,this.comprobanteService.getAllEstados(e.stateType).pipe(Object(q.a)(this.destroy$)).subscribe(e=>this.allEstadosComprobantes=e)})),this.subscriptions.push(this.medioService.getAll().pipe(Object(q.a)(this.destroy$)).subscribe(e=>this.allMediosPago=e));const t=null===(e=this.sort)||void 0===e?void 0:e.sortChange.subscribe(()=>this.paginator.pageIndex=0);t&&this.subscriptions.push(t);const n=Object(R.a)(this.sort.sortChange,this.paginator.page).pipe(Object(q.a)(this.destroy$),Object(B.a)(()=>this.loadComprobanteList())).subscribe();this.subscriptions.push(n);const c=Object(A.a)(this.searchInput.nativeElement,"keyup").pipe(Object(i.a)(150),Object($.a)(),Object(B.a)(()=>{this.paginator.pageIndex=0,this.loadComprobanteList()})).subscribe();this.subscriptions.push(c),this.dataSource=new T.a(this.comprobanteService),this.loadComprobanteList()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroy$.next(),this.destroy$.complete()}loadComprobanteList(){this.selection.clear();const e=new O.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(e,this.dataUrl.queryOperation),this.selection.clear()}filterConfiguration(){const e={};return e.nombre=this.searchInput.nativeElement.value,e.fechaDesde=this.filtroFechaDesde,e.fechaHasta=this.filtroFechaHasta,e.idEstado=this.filtroEstado,e.idMedioPago=this.filtroMedio,e}deleteComprobante(e){if(e.movimientoCajaBanco.length>1)return void this.deleteDocumento(e);const t=this.dialog.deleteElement("Borrar Comprobante","Esta seguro de borrar el Comprobante permanentemente?","Borrando Comprobante...");this.subscriptions.push(t.afterClosed().subscribe(t=>{t&&e.id&&this.subscriptions.push(this.paymentService.delete(e.id).pipe(Object(q.a)(this.destroy$)).subscribe({next:()=>{this.loadComprobanteList()}}))}))}deleteDocumento(e){this.dialog.deleteElement("Eliminar Documentos de la Orden de Pago","Seleccione los Documentos que desea eliminar permanentemente?","Eliminando Documentos...",e.movimientoCajaBanco).afterClosed().pipe(Object(L.a)(e=>e||[]),Object(Q.a)(t=>{if(t.length>0){const n=[];return t.forEach(e=>{var t;const c=null===(t=e.documento)||void 0===t?void 0:t.id;n.push(c)}),this.paymentService.delete(e.id,n)}return Object(k.a)(null)})).subscribe(e=>{e&&this.loadComprobanteList()})}cambiarFechaDesde(e){this.filtroFechaDesde=e,this.filtroFechaHasta&&this.loadComprobanteList()}cambiarFechaHasta(e){this.filtroFechaHasta=e,this.filtroFechaDesde&&this.loadComprobanteList()}cambiarEstado(e){this.filtroEstado=e,this.loadComprobanteList()}cambiarMedio(e=""){this.filtroMedio=e,this.loadComprobanteList()}disabledByStatus(e){return"PAGADO"===e.estadoComprobante.nombre||"IMPUTADO"===e.estadoComprobante.nombre}imprimirOrden(e){const t=this.applicationConfigService.getEndpointFor(`print/print/?id=${e}&codigoReporte=${D.RPT_ORDEN_PAGO}&lote=false`);this.dialog.printElements(t)}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(M.a),c.Pb(_),c.Pb(d),c.Pb(G.a),c.Pb(F.a),c.Pb(u.a),c.Pb(F.f))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-list-pay"]],viewQuery:function(e,t){if(1&e&&(c.Uc(x.a,3),c.Uc(re,3),c.Uc(se,3)),2&e){let e;c.Bc(e=c.hc())&&(t.paginator=e.first),c.Bc(e=c.hc())&&(t.sort=e.first),c.Bc(e=c.hc())&&(t.searchInput=e.first)}},decls:186,vars:25,consts:[["fxLayout","row wrap"],["fxFlex","100"],["fxLayoutAlign","space-between start"],["fxLayout","column","fxLayout.gt-xs","row"],[3,"jhiHasAnyAuthority"],["fxLayout","row wrap","fxLayoutAlign","space-around start"],["fxFlex.gt-sm","20","fxFlex","100"],["matInput","","type","input","id","searchInput","autocomplete","off","placeholder","Filtrar","matTooltip","Busca comprobante"],["searchInput",""],["align","start"],["fxFlex.gt-sm","15","fxFlex","100"],[3,"selectionChange"],["medio",""],[3,"value",4,"ngFor","ngForOf"],["estado",""],["matInput","",3,"matDatepicker","dateChange"],["fechaDesde",""],["matSuffix","",3,"for"],["myDatepickerDesde",""],["fechaHasta",""],["myDatepickerHasta",""],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Ente"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Cbte"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","Total"],["matColumnDef","Estado"],["matColumnDef","Acciones"],[4,"matHeaderCellDef"],["class","action-link",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-30"],[4,"ngIf"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],["mat-raised-button","","color","primary","matTooltip","Crear un nuevo comprobante",3,"routerLink"],[3,"value"],["mat-sort-header",""],[1,"header-label"],[1,"action-link"],["fxLayoutAlign","start space-around"],["mat-icon-button","","color","primary","matTooltip","Reimprimir Orden",3,"disabled","click"],[1,"icon-08x"],["mat-icon-button","","color","warn","matTooltip","Borrar comprobante","type","button",3,"disabled","click"],[3,"diameter"]],template:function(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"mat-card"),c.Pc(5,"\n      "),c.Vb(6,"mat-card-header",2),c.Pc(7,"\n        "),c.Vb(8,"mat-card-title"),c.Pc(9),c.Ub(),c.Pc(10,"\n        "),c.Vb(11,"div",3),c.Pc(12,"\n          "),c.Nc(13,be,4,2,"ng-template",4),c.Pc(14,"\n        "),c.Ub(),c.Pc(15,"\n      "),c.Ub(),c.Pc(16,"\n      "),c.Qb(17,"hr"),c.Pc(18,"\n\n      "),c.Vb(19,"mat-card-content"),c.Pc(20,"\n        "),c.Vb(21,"div",5),c.Pc(22,"\n          "),c.Vb(23,"div",6),c.Pc(24,"\n            "),c.Vb(25,"mat-form-field"),c.Pc(26,"\n              "),c.Qb(27,"input",7,8),c.Pc(29,"\n\n              "),c.Vb(30,"mat-hint",9),c.Pc(31,"Buscar por Ente"),c.Ub(),c.Pc(32,"\n            "),c.Ub(),c.Pc(33,"\n          "),c.Ub(),c.Pc(34,"\n\n          "),c.Vb(35,"div",10),c.Pc(36,"\n            "),c.Vb(37,"mat-form-field"),c.Pc(38,"\n              "),c.Vb(39,"mat-select",11,12),c.gc("selectionChange",function(){c.Ec(e);const n=c.Cc(40);return t.cambiarMedio(n.value)}),c.Pc(41,"\n                "),c.Nc(42,me,5,2,"mat-option",13),c.Pc(43,"\n              "),c.Ub(),c.Pc(44,"\n              "),c.Vb(45,"mat-hint",9),c.Pc(46,"Filtrar por Medio de Pago"),c.Ub(),c.Pc(47,"\n            "),c.Ub(),c.Pc(48,"\n          "),c.Ub(),c.Pc(49,"\n\n          "),c.Vb(50,"div",10),c.Pc(51,"\n            "),c.Vb(52,"mat-form-field"),c.Pc(53,"\n              "),c.Vb(54,"mat-select",11,14),c.gc("selectionChange",function(){c.Ec(e);const n=c.Cc(55);return t.cambiarEstado(n.value)}),c.Pc(56,"\n                "),c.Nc(57,ue,5,2,"mat-option",13),c.Pc(58,"\n              "),c.Ub(),c.Pc(59,"\n              "),c.Vb(60,"mat-hint",9),c.Pc(61,"Filtrar por Estado"),c.Ub(),c.Pc(62,"\n            "),c.Ub(),c.Pc(63,"\n          "),c.Ub(),c.Pc(64,"\n\n          "),c.Vb(65,"div",10),c.Pc(66,"\n            "),c.Vb(67,"mat-form-field"),c.Pc(68,"\n              "),c.Vb(69,"input",15,16),c.gc("dateChange",function(){c.Ec(e);const n=c.Cc(70);return t.cambiarFechaDesde(n.value)}),c.Ub(),c.Pc(71,"\n              "),c.Qb(72,"mat-datepicker-toggle",17),c.Pc(73,"\n              "),c.Qb(74,"mat-datepicker",null,18),c.Pc(76,"\n              "),c.Vb(77,"mat-hint",9),c.Pc(78,"Fecha Desde 'dd/mm/yyyy'"),c.Ub(),c.Pc(79,"\n            "),c.Ub(),c.Pc(80,"\n          "),c.Ub(),c.Pc(81,"\n\n          "),c.Vb(82,"div",10),c.Pc(83,"\n            "),c.Vb(84,"mat-form-field"),c.Pc(85,"\n              "),c.Vb(86,"input",15,19),c.gc("dateChange",function(){c.Ec(e);const n=c.Cc(87);return t.cambiarFechaHasta(n.value)}),c.Ub(),c.Pc(88,"\n              "),c.Qb(89,"mat-datepicker-toggle",17),c.Pc(90,"\n              "),c.Qb(91,"mat-datepicker",null,20),c.Pc(93,"\n              "),c.Vb(94,"mat-hint",9),c.Pc(95,"Fecha Hasta 'dd/mm/yyyy'"),c.Ub(),c.Pc(96,"\n            "),c.Ub(),c.Pc(97,"\n          "),c.Ub(),c.Pc(98,"\n        "),c.Ub(),c.Pc(99,"\n\n        "),c.Vb(100,"div",21),c.Pc(101,"\n          "),c.Vb(102,"mat-table",22,23),c.Pc(105,"\n            "),c.Tb(106,24),c.Pc(107,"\n              "),c.Nc(108,de,2,0,"mat-header-cell",25),c.Pc(109,"\n              "),c.Nc(110,Pe,8,1,"mat-cell",26),c.Pc(111,"\n            "),c.Sb(),c.Pc(112,"\n\n            "),c.Tb(113,27),c.Pc(114,"\n              "),c.Nc(115,pe,2,0,"mat-header-cell",25),c.Pc(116,"\n              "),c.Nc(117,he,8,1,"mat-cell",26),c.Pc(118,"\n            "),c.Sb(),c.Pc(119,"\n\n            "),c.Tb(120,28),c.Pc(121,"\n              "),c.Nc(122,fe,2,0,"mat-header-cell",25),c.Pc(123,"\n              "),c.Nc(124,ge,5,1,"mat-cell",26),c.Pc(125,"\n            "),c.Sb(),c.Pc(126,"\n\n            "),c.Tb(127,29),c.Pc(128,"\n              "),c.Nc(129,Ce,2,0,"mat-header-cell",25),c.Pc(130,"\n              "),c.Nc(131,Ve,8,1,"mat-cell",26),c.Pc(132,"\n            "),c.Sb(),c.Pc(133,"\n\n            "),c.Pc(134,"\n\n            "),c.Pc(135,"\n\n            "),c.Tb(136,30),c.Pc(137,"\n              "),c.Nc(138,ve,2,0,"mat-header-cell",25),c.Pc(139,"\n              "),c.Nc(140,Ue,6,5,"mat-cell",26),c.Pc(141,"\n            "),c.Sb(),c.Pc(142,"\n\n            "),c.Pc(143,"\n\n            "),c.Tb(144,31),c.Pc(145,"\n              "),c.Nc(146,Se,2,0,"mat-header-cell",25),c.Pc(147,"\n              "),c.Nc(148,ye,8,4,"mat-cell",26),c.Pc(149,"\n            "),c.Sb(),c.Pc(150,"\n\n            "),c.Tb(151,32),c.Pc(152,"\n              "),c.Nc(153,Ee,2,0,"mat-header-cell",33),c.Pc(154,"\n              "),c.Nc(155,Ne,12,2,"mat-cell",34),c.Pc(156,"\n            "),c.Sb(),c.Pc(157,"\n\n            "),c.Nc(158,je,1,0,"mat-header-row",35),c.Pc(159,"\n            "),c.Nc(160,xe,1,0,"mat-row",36),c.Pc(161,"\n          "),c.Ub(),c.Pc(162,"\n        "),c.Ub(),c.Pc(163,"\n\n        "),c.Vb(164,"div",37),c.Pc(165,"\n          "),c.Nc(166,De,2,0,"div",38),c.Pc(167,"\n          "),c.Nc(168,Oe,2,0,"div",38),c.lc(169,"async"),c.Pc(170,"\n        "),c.Ub(),c.Pc(171,"\n\n        "),c.Vb(172,"div",39),c.Pc(173,"\n          "),c.Nc(174,Te,1,1,"mat-spinner",40),c.lc(175,"async"),c.Pc(176,"\n          "),c.Vb(177,"mat-paginator",41),c.lc(178,"async"),c.Pc(179,"\n          "),c.Ub(),c.Pc(180,"\n        "),c.Ub(),c.Pc(181,"\n      "),c.Ub(),c.Pc(182,"\n    "),c.Ub(),c.Pc(183,"\n  "),c.Ub(),c.Pc(184,"\n"),c.Ub(),c.Pc(185,"\n")}if(2&e){const e=c.Cc(75),n=c.Cc(92);c.Cb(9),c.Rc(" ",t.title," "),c.Cb(4),c.sc("jhiHasAnyAuthority",null==t.dataUrl?null:t.dataUrl.createPermission),c.Cb(29),c.sc("ngForOf",t.allMediosPago),c.Cb(15),c.sc("ngForOf",t.allEstadosComprobantes),c.Cb(12),c.sc("matDatepicker",e),c.Cb(3),c.sc("for",e),c.Cb(14),c.sc("matDatepicker",n),c.Cb(3),c.sc("for",n),c.Cb(13),c.sc("dataSource",t.dataSource),c.Cb(56),c.sc("matHeaderRowDef",t.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumns),c.Cb(6),c.sc("ngIf",!t.dataSource.hasItems),c.Cb(2),c.sc("ngIf",c.mc(169,18,t.dataSource.isPreloadTextViewed$)),c.Cb(6),c.sc("ngIf",c.mc(175,20,t.dataSource.loading$)),c.Cb(3),c.sc("pageSize",10)("pageSizeOptions",c.wc(24,we))("length",c.mc(178,22,t.dataSource.paginatorTotal$))("showFirstLastButtons",!0)}},directives:[H.d,H.a,z.a,z.e,H.c,z.g,J.a,z.c,Y.c,W.b,X.a,Y.f,K.a,Z.p,ee.b,ee.d,Y.i,ee.a,te.j,ne.a,te.c,te.e,te.b,te.g,te.i,Z.q,x.a,ce.a,F.g,oe.n,te.d,ne.b,te.a,ae.a,te.f,te.h,ie.b],pipes:[Z.b,Z.d],styles:[""]}),e})();var Ae=n("A34J");const ke="http://localhost:8735/";let qe=(()=>{class e{constructor(e){this.http=e}getTerminalService(){return this.http.jsonp(`${ke}Service/GetTerminal`,"callback")}getPrinterService(){return this.http.jsonp(`${ke}Service/GetImpresoras`,"callback")}imprimirCheques(e,t){const n=JSON.stringify(e);return this.http.jsonp(`${ke}Service/ImprimirRAW?datoJson=${n}&impresora=${t}`,"callback")}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Be=(()=>{class e{constructor(e,t){this.http=e,this.aplicationConfig=t}getAllSubtipoDocumentosBancarios(e,t){const n=this.aplicationConfig.getEndpointFor(`subtipo/get?idMFA=${e}&id=${t}`);return this.http.get(n)}getLastCheque(e,t){const n=this.aplicationConfig.getEndpointFor(`documento/getUltimoNroCheque/?idSubtipo=${e}&idCajaCtaBanco=${t}`);return this.http.get(n)}getChequesParaImprimir(e,t){const n=this.aplicationConfig.getEndpointFor(`documento/getCheque/?idOrdenPago=${e}&terminal=${t}`);return this.http.get(n)}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b),c.cc(u.a))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var $e=n("Owrn"),Le=n("xHqg"),Qe=n("bOdf"),Me=n("QibW"),_e=function(e){return e[e.CAJA_USUARIO=3]="CAJA_USUARIO",e[e.CAJA_BANCO=1]="CAJA_BANCO",e}({}),Ge=n("OTai");let He=(()=>{class e{constructor(e,t){this.http=e,this.applicationConfigService=t,this.resourceUrl=this.applicationConfigService.getEndpointFor("/CajaCuentaBanco")}getCajas(e){return this.http.get(`${this.resourceUrl}/GetPorIdTipo/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(c.cc(m.b),c.cc(u.a))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ze=n("tmjD");function Je(e,t){if(1&e&&(c.Vb(0,"mat-option",19),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n                  ",e.nombre,"\n                ")}}function Ye(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorCajaCuentaBanco(),"\n              ")}}function We(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorReceptor()," ")}}function Xe(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorFechaPeriodo()," ")}}function Ke(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorFechaContableString(),"\n              ")}}let Ze=(()=>{class e{constructor(e,t){this.fb=e,this.cajaBancoService=t,this.efectivoForm=new o.j({comprobante:new o.j({fechaContableString:new o.g(P().format("DD/MM/YYYY"),[o.y.required,Ge.a.isValidDate]),periodo:new o.g("",o.y.required)}),movimientoCajaBanco:new o.j({cajaCuentaBanco:new o.g("",o.y.required),receptor:new o.g("",o.y.required)})}),this.allCajasBanco=[],this.subscriptions=[],this.banco="",this.formInfo=new c.o}ngOnInit(){this.subscriptions.push(this.cajaBancoService.getCajas(_e.CAJA_USUARIO).subscribe(e=>this.allCajasBanco=e)),this.efectivoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{this.formInfo.emit("VALID"===e?this.efectivoForm.getRawValue():null)})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}cambiarCaja(e){e.banco&&(this.banco=e.banco.nombre)}mensajeErrorCajaCuentaBanco(){return this.efectivoForm.get("movimientoCajaBanco.cajaCuentaBanco").hasError("required")?"La Caja debe ser seleccionada":""}mensajeErrorReceptor(){return this.efectivoForm.get("movimientoCajaBanco.receptor").hasError("required")?"El Receptor del dinero es requerido":""}mensajeErrorFechaPeriodo(){return this.efectivoForm.get("comprobante.periodo").hasError("required")?"El Periodo es requerido (mm/yyyy)":""}mensajeErrorFechaContableString(){return this.efectivoForm.get("comprobante.fechaContableString").hasError("required")?"La Fecha es requerida":this.efectivoForm.get("comprobante.fechaContableString").hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.f),c.Pb(He))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-efectivo"]],outputs:{formInfo:"formInfo"},decls:88,vars:9,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex.gt-sm","60"],["formGroupName","movimientoCajaBanco"],["fxFlex","100","fxFlex.gt-sm","40"],["appearance","outline"],["formControlName","cajaCuentaBanco",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","55"],["matInput","","formControlName","receptor",3,"value"],["receptor",""],["fxFlex.gt-sm","40"],["formGroupName","comprobante"],["fxLayout","row wrap","fxLayoutAlign","space-evenly start"],["fxFlex","100","fxFlex.gt-sm","30"],["matInput","","mask","00/0000","formControlName","periodo",3,"dropSpecialCharacters"],["matSuffix",""],["matInput","","mask","00/00/0000","formControlName","fechaContableString",3,"dropSpecialCharacters"],[3,"value"]],template:function(e,t){if(1&e&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"div",3),c.Pc(7,"\n        "),c.Vb(8,"div",1),c.Pc(9,"\n          "),c.Vb(10,"div",4),c.Pc(11,"\n            "),c.Vb(12,"mat-form-field",5),c.Pc(13,"\n              "),c.Pc(14,"\n              "),c.Vb(15,"mat-label"),c.Pc(16," Caja: "),c.Ub(),c.Pc(17,"\n              "),c.Vb(18,"mat-select",6),c.gc("selectionChange",function(e){return t.cambiarCaja(e.value)}),c.Pc(19,"\n                "),c.Nc(20,Je,2,2,"mat-option",7),c.Pc(21,"\n              "),c.Ub(),c.Pc(22,"\n              "),c.Pc(23,"\n              "),c.Nc(24,Ye,2,1,"mat-error",8),c.Pc(25,"\n            "),c.Ub(),c.Pc(26,"\n          "),c.Ub(),c.Pc(27,"\n          "),c.Vb(28,"div",9),c.Pc(29,"\n            "),c.Vb(30,"mat-form-field",5),c.Pc(31,"\n              "),c.Vb(32,"mat-label"),c.Pc(33,"Retira Sr/Sra:"),c.Ub(),c.Pc(34,"\n              "),c.Qb(35,"input",10,11),c.Pc(37,"\n              "),c.Nc(38,We,2,1,"mat-error",8),c.Pc(39,"\n            "),c.Ub(),c.Pc(40,"\n          "),c.Ub(),c.Pc(41,"\n        "),c.Ub(),c.Pc(42,"\n      "),c.Ub(),c.Pc(43,"\n    "),c.Ub(),c.Pc(44,"\n\n    "),c.Vb(45,"div",12),c.Pc(46,"\n      "),c.Vb(47,"div",13),c.Pc(48,"\n        "),c.Vb(49,"div",14),c.Pc(50,"\n          "),c.Vb(51,"div",15),c.Pc(52,"\n            "),c.Vb(53,"mat-form-field",5),c.Pc(54,"\n              "),c.Vb(55,"mat-label"),c.Pc(56,"Periodo Servicio"),c.Ub(),c.Pc(57,"\n              "),c.Qb(58,"input",16),c.Pc(59,"\n              "),c.Vb(60,"mat-icon",17),c.Pc(61,"date_range"),c.Ub(),c.Pc(62,"\n              "),c.Nc(63,Xe,2,1,"mat-error",8),c.Pc(64,"\n            "),c.Ub(),c.Pc(65,"\n          "),c.Ub(),c.Pc(66,"\n\n          "),c.Vb(67,"div",4),c.Pc(68,"\n            "),c.Vb(69,"mat-form-field",5),c.Pc(70,"\n              "),c.Vb(71,"mat-label"),c.Pc(72,"Fecha Contable"),c.Ub(),c.Pc(73,"\n              "),c.Qb(74,"input",18),c.Pc(75,"\n              "),c.Vb(76,"mat-icon",17),c.Pc(77,"date_range"),c.Ub(),c.Pc(78,"\n              "),c.Nc(79,Ke,2,1,"mat-error",8),c.Pc(80,"\n            "),c.Ub(),c.Pc(81,"\n          "),c.Ub(),c.Pc(82,"\n        "),c.Ub(),c.Pc(83,"\n      "),c.Ub(),c.Pc(84,"\n    "),c.Ub(),c.Pc(85,"\n  "),c.Ub(),c.Pc(86,"\n"),c.Ub(),c.Pc(87,"\n")),2&e){const e=c.Cc(36);let n=null,o=null,a=null,i=null;c.sc("formGroup",t.efectivoForm),c.Cb(20),c.sc("ngForOf",t.allCajasBanco),c.Cb(4),c.sc("ngIf",null==(n=t.efectivoForm.get("movimientoCajaBanco.cajaCuentaBanco"))?null:n.invalid),c.Cb(11),c.sc("value",e.value.toUpperCase()),c.Cb(3),c.sc("ngIf",null==(o=t.efectivoForm.get("movimientoCajaBanco.receptor"))?null:o.invalid),c.Cb(20),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(a=t.efectivoForm.get("comprobante.periodo"))?null:a.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(i=t.efectivoForm.get("comprobante.fechaContableString"))?null:i.invalid)}},directives:[o.z,o.r,o.k,H.d,H.c,H.a,o.l,Y.c,Y.g,K.a,o.q,o.i,Z.p,Z.q,W.b,o.c,ze.a,ae.a,Y.i,oe.n,Y.b],styles:[""]}),e})();var et=n("itXk");function tt(e,t){if(1&e&&(c.Vb(0,"mat-option",24),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n              ",e.nombre,"\n            ")}}function nt(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorCajaCuentaBanco()," ")}}function ct(e,t){if(1&e&&(c.Vb(0,"mat-option",24),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n            ",e.nombre,"\n          ")}}function ot(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorTipoDocumento()," ")}}function at(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorDirigido()," ")}}function it(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorFechaEmision()," ")}}function rt(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorNroCheque()," ")}}function st(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorCantidadDoc()," ")}}function lt(e,t){if(1&e&&(c.Vb(0,"mat-option",24),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n            ",e,"\n          ")}}function bt(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc(2);c.Cb(1),c.Rc("",e.mensajeErrorImpresora()," ")}}function mt(e,t){if(1&e&&(c.Vb(0,"mat-form-field",4),c.Pc(1,"\n        "),c.Pc(2,"\n        "),c.Vb(3,"mat-label"),c.Pc(4," Seleccione Impresora: "),c.Ub(),c.Pc(5,"\n        "),c.Vb(6,"mat-select",25),c.Pc(7,"\n          "),c.Vb(8,"mat-option",26),c.Pc(9,"NO IMPRIMIR"),c.Ub(),c.Pc(10,"\n          "),c.Nc(11,lt,2,2,"mat-option",6),c.Pc(12,"\n        "),c.Ub(),c.Pc(13,"\n        "),c.Nc(14,bt,2,1,"mat-error",8),c.Pc(15,"\n      "),c.Ub()),2&e){const e=c.kc();let t=null;c.Cb(11),c.sc("ngForOf",e.allImpresoras),c.Cb(3),c.sc("ngIf",null==(t=e.chequeForm.get("impresora"))?null:t.invalid)}}function ut(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",27),c.gc("click",function(){return c.Ec(e),c.kc().generarCheques()}),c.Pc(1,"\n        Generar Cheques\n      "),c.Ub()}}function dt(e,t){1&e&&(c.Vb(0,"div",28),c.Pc(1,"Cheques Generados"),c.Ub())}function Pt(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n      "),c.Vb(2,"div",29),c.Pc(3,"\n        "),c.Vb(4,"div",1),c.Pc(5,"\n          "),c.Vb(6,"div",9),c.Pc(7,"\n            "),c.Vb(8,"mat-form-field",30),c.Pc(9,"\n              "),c.Vb(10,"mat-label"),c.Pc(11),c.Ub(),c.Pc(12,"\n              "),c.Qb(13,"input",31),c.Pc(14,"\n            "),c.Ub(),c.Pc(15,"\n          "),c.Ub(),c.Pc(16,"\n\n          "),c.Vb(17,"div",9),c.Pc(18,"\n            "),c.Vb(19,"mat-form-field",30),c.Pc(20,"\n              "),c.Vb(21,"mat-label"),c.Pc(22,"Fecha Emision"),c.Ub(),c.Pc(23,"\n              "),c.Qb(24,"input",32),c.Pc(25,"\n              "),c.Vb(26,"mat-icon",16),c.Pc(27,"date_range"),c.Ub(),c.Pc(28,"\n            "),c.Ub(),c.Pc(29,"\n          "),c.Ub(),c.Pc(30,"\n          "),c.Vb(31,"div",9),c.Pc(32,"\n            "),c.Vb(33,"mat-form-field",30),c.Pc(34,"\n              "),c.Vb(35,"mat-label"),c.Pc(36,"Fecha Presentacion"),c.Ub(),c.Pc(37,"\n              "),c.Qb(38,"input",32),c.Pc(39,"\n              "),c.Vb(40,"mat-icon",16),c.Pc(41,"date_range"),c.Ub(),c.Pc(42,"\n            "),c.Ub(),c.Pc(43,"\n          "),c.Ub(),c.Pc(44,"\n          "),c.Vb(45,"div",9),c.Pc(46,"\n            "),c.Vb(47,"mat-form-field",30),c.Pc(48,"\n              "),c.Vb(49,"mat-label"),c.Pc(50),c.Ub(),c.Pc(51,"\n              "),c.Qb(52,"input",33),c.Pc(53,"\n              "),c.Vb(54,"span",34),c.Pc(55,"$\xa0"),c.Ub(),c.Pc(56,"\n            "),c.Ub(),c.Pc(57,"\n          "),c.Ub(),c.Pc(58,"\n        "),c.Ub(),c.Pc(59,"\n      "),c.Ub(),c.Pc(60,"\n    "),c.Ub()),2&e){const e=t.$implicit,n=t.index;c.Cb(2),c.sc("formGroupName",n),c.Cb(9),c.Rc("Nro Cheque ",n+1,""),c.Cb(2),c.sc("formControl",e.get("nroDocumento")),c.Cb(11),c.sc("formControl",e.get("fechaEmisionString")),c.Cb(14),c.sc("formControl",e.get("fechaPreVencString")),c.Cb(12),c.Rc("Importe ",n+1,""),c.Cb(2),c.sc("formControl",e.get("importe"))}}let pt=(()=>{class e{constructor(e,t,n,a,i){this.cajaBancoService=e,this.fb=t,this.documentoService=n,this.wfcService=a,this.eventManager=i,this.cheque=2,this.prefijoCheque=8,this.isEqual=!0,this.chequeForm=new o.j({movimientoCajaBanco:new o.j({cajaCuentaBanco:new o.g("",o.y.required)}),fechaEmision:new o.g(P().format("DD/MM/YYYY"),[o.y.required,Ge.a.isValidDate]),subTipo:new o.g("",o.y.required),dirigido:new o.g("",o.y.required),nroCheque:new o.g("",o.y.required),impresora:new o.g("",o.y.required),cantidadDocs:new o.g("",o.y.required),documento:new o.d([],o.y.required)}),this.subscriptions=[],this.allCajasBanco=[],this.allSubtipo=[],this.allImpresoras=[],this.destroy$=new w.a,this.banco="",this.formInfo=new c.o}set totalPagar(e){this._totalPagar=e}get totalPagar(){return this._totalPagar}ngOnInit(){this.subscriptions.push(this.cajaBancoService.getCajas(_e.CAJA_BANCO).pipe(Object(q.a)(this.destroy$)).subscribe(e=>this.allCajasBanco=e)),this.subscriptions.push(this.documentoService.getAllSubtipoDocumentosBancarios(N.a.ORDEN_PAGO,this.cheque).pipe(Object(q.a)(this.destroy$)).subscribe(e=>{this.allSubtipo=e})),this.chequeForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{this.formInfo.emit("VALID"===e?this.chequeForm.getRawValue():null)}),this.wfcService.getTerminalService(),this.wfcService.getPrinterService().subscribe(e=>{console.log(e),this.allImpresoras=e.Impresoras},e=>{console.log(e),this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"El servicio de Windows de Impresion Automatica de Cheques WFC esta APAGADO!, NO se puedran imprimir los Cheques, Comuniquese con Soporte Tecnico",type:"danger"}))})}ngOnChanges(){const e=this.chequeForm.get("movimientoCajaBanco.cajaCuentaBanco").valueChanges.pipe(Object(q.a)(this.destroy$)),t=this.chequeForm.get("subTipo").valueChanges.pipe(Object(q.a)(this.destroy$)),n=Object(et.a)([e,t]).pipe(Object(q.a)(this.destroy$)).subscribe(([e,t])=>{e&&t&&this.documentoService.getLastCheque(t.id,e.id).pipe(Object(B.a)(e=>{this.lastChequeEmited=e,this.generateLast(e),this.eliminarDocumentos()})).subscribe()});this.subscriptions.push(n)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroy$.next(),this.destroy$.complete()}crearDocumento(){var e,t;return this.fb.group({nroDocumento:[{value:"",disabled:!0}],fechaEmisionString:[{value:null===(e=this.chequeForm.get("fechaEmision"))||void 0===e?void 0:e.value,disabled:!0}],fechaPreVencString:[{value:null===(t=this.chequeForm.get("fechaEmision"))||void 0===t?void 0:t.value,disabled:!0}],importe:["",o.y.required],subTipo:[]})}agregarDocumento(){this.documento.push(this.crearDocumento())}eliminarDocumentos(){if(this.documento.length)for(let e=this.documento.length;e>=0;e--)this.borrarItem(e)}borrarItem(e){this.documento.removeAt(e)}generarCheques(){var e;const t=this.chequeForm.get("cantidadDocs").value,n=this.totalPagar/this.chequeForm.controls.cantidadDocs.value;for(let c=0;c<t;c++){this.agregarDocumento();const t=this.documento.at(c);if(t.get("nroDocumento").setValue(this.generaNroCheque(c)),t.get("importe").setValue(n),null===(e=t.get("subTipo"))||void 0===e||e.setValue(this.subTipo.value),2===this.subTipo.value.id){let e;c>0?(e=this.documento.at(c-1),t.get("fechaPreVencString").setValue(this.calcularFechaPresentacion(e.get("fechaPreVencString").value))):(e=this.documento.at(c),t.get("fechaPreVencString").setValue(this.calcularFechaPresentacion(e.get("fechaEmisionString").value)))}}}generaNroCheque(e){let t=(parseInt(this.chequeForm.get("nroCheque").value,10)+e).toString();for(;t.length<this.prefijoCheque;)t="0"+t;return t}calcularFechaPresentacion(e){return P(e,"DD/MM/YYYY").add(P.duration({months:1})).format("DD/MM/YYYY")}isValidoSumaCheques(){let e=0;if(this.documento.length){for(let t=0;this.documento.length>t;t++)e+=this.documento.controls[t].get("importe").value;return e===this.totalPagar}return!1}isEqualToLast(){var e;+(null===(e=this.chequeForm.get("nroCheque"))||void 0===e?void 0:e.value)!=+this.lastChequeEmited&&(this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"El NRO de cheque ingresado no coincide con la chequera de la cuenta.",type:"warning"})),this.isEqual=!1),this.isEqual=!0}generateLast(e){for(;e.length<8;)e="0"+e;this.chequeForm.get("nroCheque").setValue(e),this.isEqualToLast()}cambiarCaja(e){e.banco&&(this.banco=e.banco.nombre)}get documento(){return this.chequeForm.get("documento")}get subTipo(){return this.chequeForm.get("subTipo")}mensajeErrorCajaCuentaBanco(){return this.chequeForm.get("movimientoCajaBanco.cajaCuentaBanco").hasError("required")?"La Caja debe ser seleccionada":""}mensajeErrorTipoDocumento(){return this.chequeForm.get("subTipo").hasError("required")?"El Tipo de Cheque debe ser seleccionada":""}mensajeErrorFechaEmision(){return this.chequeForm.get("fechaEmision").hasError("required")?"La Fecha es requerida":this.chequeForm.get("fechaEmision").hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}mensajeErrorDirigido(){return this.chequeForm.get("dirigido").hasError("required")?"El Cheque debe estar dirigido a una persona":""}mensajeErrorNroCheque(){return this.chequeForm.get("nroCheque").hasError("required")?"El Nro es requerido":""}mensajeErrorCantidadDoc(){return this.chequeForm.get("cantidadDocs").hasError("required")?"El campo es requerido":""}mensajeErrorImpresora(){return this.chequeForm.get("impresora").hasError("required")?"El campo es requerido":""}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(He),c.Pb(o.f),c.Pb(Be),c.Pb(qe),c.Pb(Ae.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-cheque"]],inputs:{totalPagar:"totalPagar"},outputs:{formInfo:"formInfo"},features:[c.Ab],decls:121,vars:16,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["formGroupName","movimientoCajaBanco"],["fxFlex","100"],["appearance","outline"],["formControlName","cajaCuentaBanco",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","blue"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","20"],["formControlName","subTipo"],["fxFlex","100","fxFlex.gt-sm","30"],["matInput","","formControlName","dirigido",3,"value"],["receptor",""],["fxFlex","100","fxFlex.gt-sm","15"],["matInput","","mask","00/00/0000","formControlName","fechaEmision",3,"dropSpecialCharacters"],["matSuffix",""],["matInput","","mask","00000000","formControlName","nroCheque",2,"font-size","20px",3,"blur"],["matInput","","type","number","formControlName","cantidadDocs"],["appearance","outline",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","text-center font-medium",4,"ngIf"],["formArrayName","documento"],[4,"ngFor","ngForOf"],[3,"value"],["formControlName","impresora"],["value","NOIMPRIMIR"],["mat-raised-button","","color","warn",3,"click"],[1,"text-center","font-medium"],[3,"formGroupName"],["appearance","fill"],["matInput","",2,"font-size","15px",3,"formControl"],["matInput","","mask","00/00/0000",3,"formControl"],["type","number","matInput","",2,"font-size","15px",3,"formControl"],["matPrefix",""]],template:function(e,t){if(1&e&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"div",3),c.Pc(7,"\n        "),c.Vb(8,"mat-form-field",4),c.Pc(9,"\n          "),c.Pc(10,"\n          "),c.Vb(11,"mat-label"),c.Pc(12," Cuenta Corriente: "),c.Ub(),c.Pc(13,"\n          "),c.Vb(14,"mat-select",5),c.gc("selectionChange",function(e){return t.cambiarCaja(e.value)}),c.Pc(15,"\n            "),c.Nc(16,tt,2,2,"mat-option",6),c.Pc(17,"\n          "),c.Ub(),c.Pc(18,"\n          "),c.Vb(19,"mat-hint",7),c.Pc(20),c.Ub(),c.Pc(21,"\n          "),c.Nc(22,nt,2,1,"mat-error",8),c.Pc(23,"\n        "),c.Ub(),c.Pc(24,"\n      "),c.Ub(),c.Pc(25,"\n    "),c.Ub(),c.Pc(26,"\n\n    "),c.Vb(27,"div",9),c.Pc(28,"\n      "),c.Vb(29,"mat-form-field",4),c.Pc(30,"\n        "),c.Pc(31,"\n        "),c.Vb(32,"mat-label"),c.Pc(33," Tipo Cheque: "),c.Ub(),c.Pc(34,"\n        "),c.Vb(35,"mat-select",10),c.Pc(36,"\n          "),c.Nc(37,ct,2,2,"mat-option",6),c.Pc(38,"\n        "),c.Ub(),c.Pc(39,"\n        "),c.Nc(40,ot,2,1,"mat-error",8),c.Pc(41,"\n      "),c.Ub(),c.Pc(42,"\n    "),c.Ub(),c.Pc(43,"\n\n    "),c.Vb(44,"div",11),c.Pc(45,"\n      "),c.Vb(46,"mat-form-field",4),c.Pc(47,"\n        "),c.Vb(48,"mat-label"),c.Pc(49,"Dirigido a:"),c.Ub(),c.Pc(50,"\n        "),c.Qb(51,"input",12,13),c.Pc(53,"\n        "),c.Nc(54,at,2,1,"mat-error",8),c.Pc(55,"\n      "),c.Ub(),c.Pc(56,"\n    "),c.Ub(),c.Pc(57,"\n\n    "),c.Vb(58,"div",14),c.Pc(59,"\n      "),c.Vb(60,"mat-form-field",4),c.Pc(61,"\n        "),c.Vb(62,"mat-label"),c.Pc(63,"Fecha Emision:"),c.Ub(),c.Pc(64,"\n        "),c.Qb(65,"input",15),c.Pc(66,"\n        "),c.Vb(67,"mat-icon",16),c.Pc(68,"date_range"),c.Ub(),c.Pc(69,"\n        "),c.Nc(70,it,2,1,"mat-error",8),c.Pc(71,"\n      "),c.Ub(),c.Pc(72,"\n    "),c.Ub(),c.Pc(73,"\n\n    "),c.Vb(74,"div",9),c.Pc(75,"\n      "),c.Vb(76,"mat-form-field",4),c.Pc(77,"\n        "),c.Vb(78,"mat-label"),c.Pc(79,"Nro Cheque:"),c.Ub(),c.Pc(80,"\n        "),c.Vb(81,"input",17),c.gc("blur",function(e){return t.generateLast(e.target.value)}),c.Ub(),c.Pc(82,"\n        "),c.Nc(83,rt,2,1,"mat-error",8),c.Pc(84,"\n      "),c.Ub(),c.Pc(85,"\n    "),c.Ub(),c.Pc(86,"\n    "),c.Vb(87,"div",9),c.Pc(88,"\n      "),c.Vb(89,"mat-form-field",4),c.Pc(90,"\n        "),c.Vb(91,"mat-label"),c.Pc(92,"Cantidad de Cheques:"),c.Ub(),c.Pc(93,"\n        "),c.Qb(94,"input",18),c.Pc(95,"\n        "),c.Nc(96,st,2,1,"mat-error",8),c.Pc(97,"\n      "),c.Ub(),c.Pc(98,"\n    "),c.Ub(),c.Pc(99,"\n\n    "),c.Vb(100,"div",11),c.Pc(101,"\n      "),c.Nc(102,mt,16,2,"mat-form-field",19),c.Pc(103,"\n    "),c.Ub(),c.Pc(104,"\n\n    "),c.Vb(105,"div",14),c.Pc(106,"\n      "),c.Nc(107,ut,2,0,"button",20),c.Pc(108,"\n    "),c.Ub(),c.Pc(109,"\n  "),c.Ub(),c.Pc(110,"\n\n  \xa0\n  "),c.Nc(111,dt,2,0,"div",21),c.Pc(112,"\n  "),c.Qb(113,"hr"),c.Pc(114,"\n  \xa0\n\n  "),c.Vb(115,"div",22),c.Pc(116,"\n    "),c.Nc(117,Pt,61,7,"div",23),c.Pc(118,"\n  "),c.Ub(),c.Pc(119,"\n"),c.Ub(),c.Pc(120,"\n")),2&e){const e=c.Cc(52);let n=null,o=null,a=null,i=null,r=null,s=null,l=null,b=null,m=null;c.sc("formGroup",t.chequeForm),c.Cb(16),c.sc("ngForOf",t.allCajasBanco),c.Cb(4),c.Rc(" ",t.banco," "),c.Cb(2),c.sc("ngIf",null==(n=t.chequeForm.get("movimientoCajaBanco.cajaCuentaBanco"))?null:n.invalid),c.Cb(15),c.sc("ngForOf",t.allSubtipo),c.Cb(3),c.sc("ngIf",null==(o=t.chequeForm.get("subTipo"))?null:o.invalid),c.Cb(11),c.sc("value",e.value.toUpperCase()),c.Cb(3),c.sc("ngIf",null==(a=t.chequeForm.get("dirigido"))?null:a.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(i=t.chequeForm.get("fechaEmision"))?null:i.invalid),c.Cb(13),c.sc("ngIf",null==(r=t.chequeForm.get("nroCheque"))?null:r.invalid),c.Cb(13),c.sc("ngIf",null==(s=t.chequeForm.get("cantidadDocs"))?null:s.invalid),c.Cb(6),c.sc("ngIf",null==(l=t.chequeForm.get("cantidadDocs"))?null:l.value),c.Cb(5),c.sc("ngIf",null==(b=t.chequeForm.get("cantidadDocs"))?null:b.value),c.Cb(4),c.sc("ngIf",null==(m=t.chequeForm.get("cantidadDocs"))?null:m.value),c.Cb(6),c.sc("ngForOf",null==t.documento?null:t.documento.controls)}},directives:[o.z,o.r,o.k,H.d,H.c,o.l,H.a,Y.c,Y.g,K.a,o.q,o.i,Z.p,Y.f,Z.q,W.b,o.c,ze.a,ae.a,Y.i,o.v,o.e,oe.n,Y.b,ce.a,o.h,Y.h],styles:[""]}),e})();function ht(e,t){if(1&e&&(c.Vb(0,"mat-option",18),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n                ",e.nombre,"\n              ")}}function ft(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorCajaCuentaBanco()," ")}}function gt(e,t){if(1&e&&(c.Vb(0,"mat-option",18),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n                  ",e.nombre,"\n                ")}}function Ct(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorTipoDocumento()," ")}}function Vt(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorFechaEmisionString()," ")}}function vt(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorFechaPreVencString()," ")}}let Ut=(()=>{class e{constructor(e,t,n){this.cajaBancoService=e,this.fb=t,this.documentoService=n,this.tomorrow=P().add(P.duration({days:1})).format("DD/MM/YYYY"),this.transferencia=3,this.transferenciaForm=this.fb.group({comprobante:[],movimientoCajaBanco:this.fb.group({cajaCuentaBanco:["",o.y.required]}),documento:this.fb.group({fechaEmisionString:[P().format("DD/MM/YYYY"),[o.y.required,Ge.a.isValidDate]],fechaPreVencString:[this.tomorrow,[o.y.required,Ge.a.isValidDate]],subTipo:["",o.y.required]})}),this.subscriptions=[],this.allCajasBanco=[],this.allSubtipo=[],this.destroy$=new w.a,this.banco="",this.formInfo=new c.o}ngOnInit(){this.subscriptions.push(this.cajaBancoService.getCajas(_e.CAJA_BANCO).pipe(Object(q.a)(this.destroy$)).subscribe(e=>this.allCajasBanco=e)),this.subscriptions.push(this.documentoService.getAllSubtipoDocumentosBancarios(N.a.ORDEN_PAGO,this.transferencia).pipe(Object(q.a)(this.destroy$)).subscribe(e=>{this.allSubtipo=e})),this.transferenciaForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{this.formInfo.emit("VALID"===e?this.transferenciaForm.getRawValue():null)})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroy$.next(),this.destroy$.complete()}cambiarCaja(e){e.banco&&(this.banco=e.banco.nombre)}mensajeErrorCajaCuentaBanco(){return this.transferenciaForm.get("cajaCuentaBanco").hasError("required")?"La Caja debe ser seleccionada":""}mensajeErrorTipoDocumento(){return this.transferenciaForm.get("subTipo").hasError("required")?"El Tipo de transferencia debe ser seleccionada":""}mensajeErrorFechaEmisionString(){return this.transferenciaForm.get("fechaEmisionString").hasError("required")?"La Fecha es requerida":this.transferenciaForm.get("fechaEmisionString").hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}mensajeErrorFechaPreVencString(){return this.transferenciaForm.get("fechaPreVencString").hasError("required")?"La Fecha es requerida":this.transferenciaForm.get("fechaPreVencString").hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(He),c.Pb(o.f),c.Pb(Be))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-transferencia"]],outputs:{formInfo:"formInfo"},decls:90,vars:11,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["formGroupName","movimientoCajaBanco"],["fxFlex","100"],["appearance","outline"],["formControlName","cajaCuentaBanco",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","blue"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","70"],["formGroupName","documento"],["fxLayout","row wrap","fxLayoutAlign","space-evenly start"],["fxFlex","100","fxFlex.gt-sm","40"],["formControlName","subTipo"],["fxFlex","100","fxFlex.gt-sm","25"],["matInput","","mask","00/00/0000","formControlName","fechaEmisionString",3,"dropSpecialCharacters"],["matSuffix",""],["matInput","","mask","00/00/0000","formControlName","fechaPreVencString",3,"dropSpecialCharacters"],[3,"value"]],template:function(e,t){if(1&e&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"div",1),c.Pc(7,"\n        "),c.Vb(8,"div",3),c.Pc(9,"\n          "),c.Vb(10,"mat-form-field",4),c.Pc(11,"\n            "),c.Pc(12,"\n            "),c.Vb(13,"mat-label"),c.Pc(14," Cuenta Corriente: "),c.Ub(),c.Pc(15,"\n            "),c.Vb(16,"mat-select",5),c.gc("selectionChange",function(e){return t.cambiarCaja(e.value)}),c.Pc(17,"\n              "),c.Nc(18,ht,2,2,"mat-option",6),c.Pc(19,"\n            "),c.Ub(),c.Pc(20,"\n            "),c.Vb(21,"mat-hint",7),c.Pc(22),c.Ub(),c.Pc(23,"\n            "),c.Nc(24,ft,2,1,"mat-error",8),c.Pc(25,"\n          "),c.Ub(),c.Pc(26,"\n        "),c.Ub(),c.Pc(27,"\n      "),c.Ub(),c.Pc(28,"\n    "),c.Ub(),c.Pc(29,"\n\n    "),c.Vb(30,"div",9),c.Pc(31,"\n      "),c.Vb(32,"div",10),c.Pc(33,"\n        "),c.Vb(34,"div",11),c.Pc(35,"\n          "),c.Vb(36,"div",12),c.Pc(37,"\n            "),c.Vb(38,"mat-form-field",4),c.Pc(39,"\n              "),c.Pc(40,"\n              "),c.Vb(41,"mat-label"),c.Pc(42," Tipo Transferencia: "),c.Ub(),c.Pc(43,"\n              "),c.Vb(44,"mat-select",13),c.Pc(45,"\n                "),c.Nc(46,gt,2,2,"mat-option",6),c.Pc(47,"\n              "),c.Ub(),c.Pc(48,"\n              "),c.Nc(49,Ct,2,1,"mat-error",8),c.Pc(50,"\n            "),c.Ub(),c.Pc(51,"\n          "),c.Ub(),c.Pc(52,"\n          "),c.Vb(53,"div",14),c.Pc(54,"\n            "),c.Vb(55,"mat-form-field",4),c.Pc(56,"\n              "),c.Vb(57,"mat-label"),c.Pc(58,"Fecha Emision:"),c.Ub(),c.Pc(59,"\n              "),c.Qb(60,"input",15),c.Pc(61,"\n              "),c.Vb(62,"mat-icon",16),c.Pc(63,"date_range"),c.Ub(),c.Pc(64,"\n              "),c.Nc(65,Vt,2,1,"mat-error",8),c.Pc(66,"\n            "),c.Ub(),c.Pc(67,"\n          "),c.Ub(),c.Pc(68,"\n          "),c.Vb(69,"div",14),c.Pc(70,"\n            "),c.Vb(71,"mat-form-field",4),c.Pc(72,"\n              "),c.Vb(73,"mat-label"),c.Pc(74,"Fecha Acreditacion:"),c.Ub(),c.Pc(75,"\n              "),c.Qb(76,"input",17),c.Pc(77,"\n              "),c.Vb(78,"mat-icon",16),c.Pc(79,"date_range"),c.Ub(),c.Pc(80,"\n              "),c.Nc(81,vt,2,1,"mat-error",8),c.Pc(82,"\n            "),c.Ub(),c.Pc(83,"\n          "),c.Ub(),c.Pc(84,"\n        "),c.Ub(),c.Pc(85,"\n      "),c.Ub(),c.Pc(86,"\n    "),c.Ub(),c.Pc(87,"\n  "),c.Ub(),c.Pc(88,"\n"),c.Ub(),c.Pc(89)),2&e){let e=null,n=null,o=null,a=null;c.sc("formGroup",t.transferenciaForm),c.Cb(18),c.sc("ngForOf",t.allCajasBanco),c.Cb(4),c.Rc(" ",t.banco," "),c.Cb(2),c.sc("ngIf",null==(e=t.transferenciaForm.get("cajaCuentaBanco"))?null:e.invalid),c.Cb(22),c.sc("ngForOf",t.allSubtipo),c.Cb(3),c.sc("ngIf",null==(n=t.transferenciaForm.get("tipoDocumento"))?null:n.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(o=t.transferenciaForm.get("fechaEmisionString"))?null:o.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(a=t.transferenciaForm.get("fechaPreVencString"))?null:a.invalid),c.Cb(8),c.Rc("\n\n",t.transferenciaForm.valid,"\n")}},directives:[o.z,o.r,o.k,H.d,H.c,o.l,H.a,Y.c,Y.g,K.a,o.q,o.i,Z.p,Y.f,Z.q,W.b,ze.a,o.c,ae.a,Y.i,oe.n,Y.b],styles:[""]}),e})();function St(e,t){if(1&e&&(c.Vb(0,"mat-radio-button",14),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc("\n            ",e.nombre,"\n          ")}}function yt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-efectivo",15),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Ub()}}function Et(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-cheque",16),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Ub()}if(2&e){const e=c.kc();c.sc("totalPagar",e.tipoOrden.totalComprobante)}}function Ft(e,t){if(1&e){const e=c.Wb();c.Vb(0,"jhi-transferencia",15),c.gc("formInfo",function(t){return c.Ec(e),c.kc().formValid(t)}),c.Ub()}}let It=(()=>{class e{constructor(e,t,n){this.medioPagoService=e,this.fb=t,this.payService=n,this.medioPagoForm=this.fb.group({medioPagoSelected:["",o.y.required],movimientoCajaBanco:["",o.y.required],comprobante:[],documento:[]}),this.impresoraInfo=new c.o,this.subscriptions=[],this.destroy$=new w.a}ngOnInit(){this.subscriptions.push(this.payService.tipoOrden$.pipe(Object(q.a)(this.destroy$),Object(B.a)(e=>{this.tipoOrden=e,this.medioPagoSelected.patchValue(null)}),Object(Qe.a)(()=>this.medioPagoService.getAllPorIdMFA(N.a.ORDEN_PAGO)),Object(L.a)(e=>this.tipoOrden.tipoPago===a.LOTE?e.filter(e=>3===e.id):e)).subscribe(e=>this.allMediosPago=e)),this.subscriptions.push(this.medioPagoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{"VALID"===e&&(this.payService.crearMovimientoCajaBanco(this.medioPagoForm.getRawValue()),this.impresoraInfo.emit(this.impresora))}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroy$.next(),this.destroy$.complete()}changeMedioPago(){this.movimientoCajaBanco.reset(),this.payService.resetMovimientoCajaBanco()}formValid(e){var t,n;if(console.log(e),e){let c=e.movimientoCajaBanco;const o={medioPago:this.medioPagoSelected.value,importe:this.tipoOrden.totalComprobante};c=Object.assign(Object.assign({},c),o),this.movimientoCajaBanco.patchValue(c),null===(t=this.medioPagoForm.get("comprobante"))||void 0===t||t.patchValue(e.comprobante),null===(n=this.medioPagoForm.get("documento"))||void 0===n||n.patchValue(e.documento),this.impresora=e.impresora}else this.changeMedioPago()}get medioPagoSelected(){return this.medioPagoForm.get("medioPagoSelected")}get movimientoCajaBanco(){return this.medioPagoForm.get("movimientoCajaBanco")}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(d),c.Pb(o.f),c.Pb(f))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-step2-medio-pago"]],outputs:{impresoraInfo:"impresoraInfo"},decls:51,vars:10,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","33.33","fxFlex","100"],[1,"bg-purple","fijo"],[1,"stats","text-center"],[1,"text-white","m-0"],[1,"m-t-10"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100"],["color","warn","fxLayout","column","fxLayoutAlign","center start","fxLayout.gt-xs","row","fxLayoutAlign.gt-sm","space-evenly center","formControlName","medioPagoSelected","name","medios",1,"radio-group",3,"change"],["class","radio-button",3,"value",4,"ngFor","ngForOf"],[1,"p-30"],[3,"formInfo",4,"ngIf"],[3,"totalPagar","formInfo",4,"ngIf"],[1,"radio-button",3,"value"],[3,"formInfo"],[3,"totalPagar","formInfo"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"mat-card",2),c.Pc(5,"\n      "),c.Pc(6,"\n      "),c.Vb(7,"mat-card-content"),c.Pc(8,"\n        "),c.Vb(9,"div",3),c.Pc(10,"\n          "),c.Vb(11,"h5",4),c.Pc(12,"Total a Pagar"),c.Ub(),c.Pc(13,"\n          "),c.Vb(14,"h2",4),c.Pc(15),c.lc(16,"currency"),c.Ub(),c.Pc(17,"\n        "),c.Ub(),c.Pc(18,"\n      "),c.Ub(),c.Pc(19,"\n    "),c.Ub(),c.Pc(20,"\n  "),c.Ub(),c.Pc(21,"\n"),c.Ub(),c.Pc(22,"\n\n"),c.Vb(23,"div",5),c.Pc(24,"\n  "),c.Vb(25,"form",6),c.Pc(26,"\n    "),c.Vb(27,"div",7),c.Pc(28,"\n      "),c.Vb(29,"div",8),c.Pc(30,"\n        "),c.Vb(31,"mat-radio-group",9),c.gc("change",function(){return t.changeMedioPago()}),c.Pc(32,"\n          "),c.Nc(33,St,2,2,"mat-radio-button",10),c.Pc(34,"\n        "),c.Ub(),c.Pc(35,"\n      "),c.Ub(),c.Pc(36,"\n    "),c.Ub(),c.Pc(37,"\n\n    "),c.Vb(38,"div",11),c.Pc(39,"\n      "),c.Qb(40,"hr"),c.Pc(41,"\n    "),c.Ub(),c.Pc(42,"\n\n    "),c.Nc(43,yt,1,0,"jhi-efectivo",12),c.Pc(44,"\n    "),c.Nc(45,Et,1,1,"jhi-cheque",13),c.Pc(46,"\n    "),c.Nc(47,Ft,1,0,"jhi-transferencia",12),c.Pc(48,"\n  "),c.Ub(),c.Pc(49,"\n"),c.Ub(),c.Pc(50,"\n")),2&e&&(c.Cb(15),c.Qc(c.oc(16,6,t.tipoOrden.totalComprobante,"ARS","symbol")),c.Cb(10),c.sc("formGroup",t.medioPagoForm),c.Cb(8),c.sc("ngForOf",t.allMediosPago),c.Cb(10),c.sc("ngIf",1===(null==t.medioPagoSelected.value?null:t.medioPagoSelected.value.id)),c.Cb(2),c.sc("ngIf",2===(null==t.medioPagoSelected||null==t.medioPagoSelected.value?null:t.medioPagoSelected.value.id)),c.Cb(2),c.sc("ngIf",3===(null==t.medioPagoSelected.value?null:t.medioPagoSelected.value.id)))},directives:[H.d,H.c,H.a,z.a,z.c,o.z,o.r,o.k,Me.b,o.q,o.i,Z.p,Z.q,Me.a,Ze,pt,Ut],pipes:[Z.d],styles:[""]}),e})();function Nt(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n                "),c.Vb(2,"span"),c.Pc(3),c.Ub(),c.Pc(4,"\n              "),c.Ub()),2&e){const e=c.kc(2).ngIf;c.Cb(3),c.Sc(" ",null==e.tipoComprobante?null:e.tipoComprobante.nombre,": #",e.nroComprobante," ")}}function jt(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n                "),c.Vb(2,"span"),c.Pc(3),c.Ub(),c.Pc(4,"\n              "),c.Ub()),2&e){const e=c.kc(2).ngIf;c.Cb(3),c.Rc("\n                  ",null!=e.ente&&e.ente.persona?null==e.ente?null:e.ente.persona.apellido:null==e.ente?null:e.ente.personaJuridica.nombreFantasia,"\n                ")}}function xt(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n                "),c.Vb(2,"span"),c.Pc(3),c.Ub(),c.Pc(4,"\n              "),c.Ub()),2&e){const e=c.kc(2).ngIf;c.Cb(3),c.Sc("\n                  ",null==e.comprobanteRef[0]?null:e.comprobanteRef[0].tipoComprobante.nombre,": #",null==e.comprobanteRef[0]?null:e.comprobanteRef[0].nroLote,"\n                ")}}function Dt(e,t){if(1&e&&(c.Vb(0,"span",13),c.Pc(1),c.Ub()),2&e){const e=c.kc(2).ngIf;c.Cb(1),c.Rc("\n              ",null==e.movimientoCajaBanco[0]||null==e.movimientoCajaBanco[0].cajaCuentaBanco.banco?null:e.movimientoCajaBanco[0].cajaCuentaBanco.banco.nombre,"\n            ")}}function Ot(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Id"),c.Ub())}function Tt(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Id:"),c.Ub(),c.Pc(4),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",e.id.id,"\n                ")}}function wt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Item"),c.Ub())}function Rt(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Item:"),c.Ub(),c.Pc(4),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",e.id.nombre,"\n                ")}}function At(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Importe"),c.Ub())}function kt(e,t){if(1&e&&(c.Vb(0,"mat-cell",32),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Importe:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",c.oc(5,1,e.importe,"ARS","symbol"),"\n                ")}}function qt(e,t){1&e&&c.Qb(0,"mat-header-row")}function Bt(e,t){1&e&&c.Qb(0,"mat-row")}const $t=function(e){return{item:e}};function Lt(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n            "),c.Tb(2,33),c.Pc(3," "),c.Sb(),c.Pc(4,"\n          "),c.Sb()),2&e){const e=c.kc(3).ngIf,t=c.Cc(9);c.Cb(2),c.sc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.xc(2,$t,e))}}function Qt(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n          "),c.Qb(2,"hr"),c.Pc(3,"\n          "),c.Vb(4,"div",14),c.Pc(5,"Conceptos:"),c.Ub(),c.Pc(6,"\n\n          "),c.Vb(7,"div",15),c.Pc(8,"\n            "),c.Vb(9,"mat-table",16,17),c.Pc(11,"\n              "),c.Tb(12,18),c.Pc(13,"\n                "),c.Nc(14,Ot,2,0,"mat-header-cell",19),c.Pc(15,"\n                "),c.Nc(16,Tt,5,1,"mat-cell",20),c.Pc(17,"\n              "),c.Sb(),c.Pc(18,"\n              "),c.Tb(19,21),c.Pc(20,"\n                "),c.Nc(21,wt,2,0,"mat-header-cell",19),c.Pc(22,"\n                "),c.Nc(23,Rt,5,1,"mat-cell",20),c.Pc(24,"\n              "),c.Sb(),c.Pc(25,"\n              "),c.Tb(26,22),c.Pc(27,"\n                "),c.Nc(28,At,2,0,"mat-header-cell",19),c.Pc(29,"\n                "),c.Nc(30,kt,6,5,"mat-cell",23),c.Pc(31,"\n              "),c.Sb(),c.Pc(32,"\n              "),c.Nc(33,qt,1,0,"mat-header-row",24),c.Pc(34,"\n              "),c.Nc(35,Bt,1,0,"mat-row",25),c.Pc(36,"\n            "),c.Ub(),c.Pc(37,"\n          "),c.Ub(),c.Pc(38,"\n\n          "),c.Pc(39,"\n          "),c.Nc(40,Lt,5,4,"ng-container",3),c.Pc(41,"\n          "),c.Pc(42,"\n\n          "),c.Vb(43,"div",26),c.Pc(44,"\n            "),c.Vb(45,"div",27),c.Pc(46,"\n              "),c.Pc(47,"\n              "),c.Vb(48,"h6",28),c.Pc(49,"Total a Pagar :"),c.Ub(),c.Pc(50,"\n            "),c.Ub(),c.Pc(51,"\n            "),c.Vb(52,"div",29),c.Pc(53,"\n              "),c.Pc(54,"\n              "),c.Vb(55,"h4",30),c.Pc(56),c.lc(57,"currency"),c.Ub(),c.Pc(58,"\n            "),c.Ub(),c.Pc(59,"\n          "),c.Ub(),c.Pc(60,"\n        "),c.Ub()),2&e){const e=c.kc(2).ngIf,t=c.kc();c.Cb(9),c.sc("dataSource",e.item),c.Cb(24),c.sc("matHeaderRowDef",t.displayedColumnsDirecto),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumnsDirecto),c.Cb(5),c.sc("ngIf",null==e.movimientoCajaBanco[0]?null:e.movimientoCajaBanco[0].documento),c.Cb(16),c.Qc(c.oc(57,5,null==e?null:e.totalComprobante,"ARS","symbol"))}}function Mt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Cbte"),c.Ub())}function _t(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Cbte:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.tipoComprobante.nombre)}}function Gt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Nro"),c.Ub())}function Ht(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",e.nroComprobante,"\n                ")}}function zt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"F.Emision"),c.Ub())}function Jt(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaComprobanteString)}}function Yt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"F.Vencimiento"),c.Ub())}function Wt(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaVtoString)}}function Xt(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Saldo"),c.Ub())}function Kt(e,t){if(1&e&&(c.Vb(0,"mat-cell",32),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",c.oc(5,1,e.saldo,"ARS","symbol"),"\n                ")}}function Zt(e,t){1&e&&c.Qb(0,"mat-header-row")}function en(e,t){1&e&&c.Qb(0,"mat-row")}function tn(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n            "),c.Tb(2,33),c.Pc(3," "),c.Sb(),c.Pc(4,"\n          "),c.Sb()),2&e){const e=c.kc(3).ngIf,t=c.Cc(9);c.Cb(2),c.sc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.xc(2,$t,e))}}function nn(e,t){1&e&&(c.Vb(0,"h6",43),c.Pc(1,"\n                Difencia :\n              "),c.Ub())}function cn(e,t){if(1&e&&(c.Vb(0,"h4",41),c.Pc(1),c.lc(2,"currency"),c.Ub()),2&e){const e=c.kc(3).ngIf;c.Cb(1),c.Rc("\n                ",c.oc(2,1,e.totalComprobante-e.montoSeleccionado,"ARS","symbol"),"\n              ")}}function on(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n          "),c.Qb(2,"hr"),c.Pc(3,"\n          "),c.Vb(4,"div",14),c.Pc(5,"Conceptos:"),c.Ub(),c.Pc(6,"\n          "),c.Vb(7,"div",15),c.Pc(8,"\n            "),c.Vb(9,"mat-table",16,17),c.Pc(11,"\n              "),c.Tb(12,34),c.Pc(13,"\n                "),c.Nc(14,Mt,2,0,"mat-header-cell",19),c.Pc(15,"\n                "),c.Nc(16,_t,8,1,"mat-cell",20),c.Pc(17,"\n              "),c.Sb(),c.Pc(18,"\n              "),c.Tb(19,35),c.Pc(20,"\n                "),c.Nc(21,Gt,2,0,"mat-header-cell",19),c.Pc(22,"\n                "),c.Nc(23,Ht,5,1,"mat-cell",20),c.Pc(24,"\n              "),c.Sb(),c.Pc(25,"\n              "),c.Tb(26,36),c.Pc(27,"\n                "),c.Nc(28,zt,2,0,"mat-header-cell",19),c.Pc(29,"\n                "),c.Nc(30,Jt,8,1,"mat-cell",20),c.Pc(31,"\n              "),c.Sb(),c.Pc(32,"\n              "),c.Tb(33,37),c.Pc(34,"\n                "),c.Nc(35,Yt,2,0,"mat-header-cell",19),c.Pc(36,"\n                "),c.Nc(37,Wt,8,1,"mat-cell",20),c.Pc(38,"\n              "),c.Sb(),c.Pc(39,"\n              "),c.Tb(40,38),c.Pc(41,"\n                "),c.Nc(42,Xt,2,0,"mat-header-cell",19),c.Pc(43,"\n                "),c.Nc(44,Kt,6,5,"mat-cell",23),c.Pc(45,"\n              "),c.Sb(),c.Pc(46,"\n              "),c.Nc(47,Zt,1,0,"mat-header-row",24),c.Pc(48,"\n              "),c.Nc(49,en,1,0,"mat-row",25),c.Pc(50,"\n            "),c.Ub(),c.Pc(51,"\n          "),c.Ub(),c.Pc(52,"\n\n          "),c.Pc(53,"\n          "),c.Nc(54,tn,5,4,"ng-container",3),c.Pc(55,"\n          "),c.Pc(56,"\n\n          "),c.Vb(57,"div",26),c.Pc(58,"\n            "),c.Vb(59,"div",27),c.Pc(60,"\n              "),c.Pc(61,"\n              "),c.Vb(62,"h6",39),c.Pc(63,"Monto Total de Items Seleccionados :"),c.Ub(),c.Pc(64,"\n              "),c.Nc(65,nn,2,0,"h6",40),c.Pc(66,"\n              "),c.Vb(67,"h6",28),c.Pc(68,"Total a Pagar :"),c.Ub(),c.Pc(69,"\n            "),c.Ub(),c.Pc(70,"\n            "),c.Vb(71,"div",29),c.Pc(72,"\n              "),c.Pc(73,"\n              "),c.Vb(74,"h4",41),c.Pc(75),c.lc(76,"currency"),c.Ub(),c.Pc(77,"\n              "),c.Nc(78,cn,3,5,"h4",42),c.Pc(79,"\n              "),c.Vb(80,"h4",30),c.Pc(81),c.lc(82,"currency"),c.Ub(),c.Pc(83,"\n            "),c.Ub(),c.Pc(84,"\n          "),c.Ub(),c.Pc(85,"\n        "),c.Ub()),2&e){const e=c.kc(2).ngIf,t=c.kc();c.Cb(9),c.sc("dataSource",e.comprobanteRef),c.Cb(38),c.sc("matHeaderRowDef",t.displayedColumnsCuentaCorriente),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumnsCuentaCorriente),c.Cb(5),c.sc("ngIf",null==e.movimientoCajaBanco[0]?null:e.movimientoCajaBanco[0].documento),c.Cb(11),c.sc("ngIf",e.totalComprobante-e.montoSeleccionado!=0),c.Cb(10),c.Qc(c.oc(76,8,null==e?null:e.montoSeleccionado,"ARS","symbol")),c.Cb(3),c.sc("ngIf",e.totalComprobante-e.montoSeleccionado!=0),c.Cb(3),c.Qc(c.oc(82,12,null==e?null:e.totalComprobante,"ARS","symbol"))}}function an(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Ente"),c.Ub())}function rn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Ente:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Rc("\n                    ",e.ente.persona?e.ente.persona.apellido:null==e.ente.personaJuridica?null:e.ente.personaJuridica.nombreFantasia,"")}}function sn(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"F.Vencimiento"),c.Ub())}function ln(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaVtoString)}}function bn(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Periodo"),c.Ub())}function mn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n                  "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n                "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.periodo)}}function un(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Saldo"),c.Ub())}function dn(e,t){if(1&e&&(c.Vb(0,"mat-cell",32),c.Pc(1,"\n                  "),c.Vb(2,"span",31),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n                  ",c.oc(5,1,e.saldo,"ARS","symbol"),"\n                ")}}function Pn(e,t){1&e&&c.Qb(0,"mat-header-row")}function pn(e,t){1&e&&c.Qb(0,"mat-row")}function hn(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n            "),c.Tb(2,33),c.Pc(3," "),c.Sb(),c.Pc(4,"\n          "),c.Sb()),2&e){const e=c.kc(3).ngIf,t=c.Cc(9);c.Cb(2),c.sc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.xc(2,$t,e))}}function fn(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n          "),c.Qb(2,"hr"),c.Pc(3,"\n          "),c.Vb(4,"div",14),c.Pc(5,"Conceptos:"),c.Ub(),c.Pc(6,"\n          "),c.Vb(7,"div",15),c.Pc(8,"\n            "),c.Vb(9,"mat-table",16,17),c.Pc(11,"\n              "),c.Tb(12,44),c.Pc(13,"\n                "),c.Nc(14,an,2,0,"mat-header-cell",19),c.Pc(15,"\n                "),c.Nc(16,rn,8,1,"mat-cell",20),c.Pc(17,"\n              "),c.Sb(),c.Pc(18,"\n              "),c.Tb(19,37),c.Pc(20,"\n                "),c.Nc(21,sn,2,0,"mat-header-cell",19),c.Pc(22,"\n                "),c.Nc(23,ln,8,1,"mat-cell",20),c.Pc(24,"\n              "),c.Sb(),c.Pc(25,"\n              "),c.Tb(26,45),c.Pc(27,"\n                "),c.Nc(28,bn,2,0,"mat-header-cell",19),c.Pc(29,"\n                "),c.Nc(30,mn,8,1,"mat-cell",20),c.Pc(31,"\n              "),c.Sb(),c.Pc(32,"\n              "),c.Tb(33,38),c.Pc(34,"\n                "),c.Nc(35,un,2,0,"mat-header-cell",19),c.Pc(36,"\n                "),c.Nc(37,dn,6,5,"mat-cell",23),c.Pc(38,"\n              "),c.Sb(),c.Pc(39,"\n              "),c.Nc(40,Pn,1,0,"mat-header-row",24),c.Pc(41,"\n              "),c.Nc(42,pn,1,0,"mat-row",25),c.Pc(43,"\n            "),c.Ub(),c.Pc(44,"\n          "),c.Ub(),c.Pc(45,"\n\n          "),c.Pc(46,"\n          "),c.Nc(47,hn,5,4,"ng-container",3),c.Pc(48,"\n          "),c.Pc(49,"\n\n          "),c.Vb(50,"div",26),c.Pc(51,"\n            "),c.Vb(52,"div",27),c.Pc(53,"\n              "),c.Vb(54,"h6",28),c.Pc(55,"Total a Imputar :"),c.Ub(),c.Pc(56,"\n            "),c.Ub(),c.Pc(57,"\n            "),c.Vb(58,"div",29),c.Pc(59,"\n              "),c.Vb(60,"h4",30),c.Pc(61),c.lc(62,"currency"),c.Ub(),c.Pc(63,"\n            "),c.Ub(),c.Pc(64,"\n          "),c.Ub(),c.Pc(65,"\n        "),c.Ub()),2&e){const e=c.kc(2).ngIf,t=c.kc();c.Cb(9),c.sc("dataSource",e.comprobanteRef),c.Cb(31),c.sc("matHeaderRowDef",t.displayedColumnsLote),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumnsLote),c.Cb(5),c.sc("ngIf",null==e.movimientoCajaBanco[0]?null:e.movimientoCajaBanco[0].documento),c.Cb(14),c.Qc(c.oc(62,5,null==e?null:e.totalComprobante,"ARS","symbol"))}}function gn(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n      "),c.Vb(2,"div",5),c.Pc(3,"\n        "),c.Vb(4,"div",6),c.Pc(5,"\n          "),c.Vb(6,"h4",7),c.Pc(7),c.Ub(),c.Pc(8,"\n\n          "),c.Vb(9,"div",8),c.Pc(10,"\n            "),c.Vb(11,"span",9),c.Pc(12,"\n              "),c.Nc(13,Nt,5,2,"div",10),c.Pc(14,"\n              "),c.Nc(15,jt,5,1,"div",10),c.Pc(16,"\n              "),c.Nc(17,xt,5,2,"div",10),c.Pc(18,"\n            "),c.Ub(),c.Pc(19,"\n          "),c.Ub(),c.Pc(20,"\n        "),c.Ub(),c.Pc(21,"\n        "),c.Vb(22,"div",11),c.Pc(23,"\n          "),c.Vb(24,"h4",7),c.Pc(25),c.Ub(),c.Pc(26,"\n          "),c.Vb(27,"div",8),c.Pc(28,"\n            "),c.Vb(29,"span"),c.Pc(30),c.Ub(),c.Pc(31,"\n            "),c.Nc(32,Dt,2,1,"span",12),c.Pc(33,"\n          "),c.Ub(),c.Pc(34,"\n        "),c.Ub(),c.Pc(35,"\n      "),c.Ub(),c.Pc(36,"\n\n      "),c.Vb(37,"span",9),c.Pc(38,"\n        "),c.Nc(39,Qt,61,9,"div",10),c.Pc(40,"\n\n        "),c.Nc(41,on,86,16,"div",10),c.Pc(42,"\n\n        "),c.Nc(43,fn,66,9,"div",10),c.Pc(44,"\n      "),c.Ub(),c.Pc(45,"\n    "),c.Sb()),2&e){const e=t.ngIf,n=c.kc().ngIf,o=c.kc();c.Cb(7),c.Rc("Tipo Orden : ",e.tipoPago,""),c.Cb(4),c.sc("ngSwitch",e.tipoPago),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.DIRECTO),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.CUENTA_CORRIENTE),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.LOTE),c.Cb(8),c.Rc("Medio Pago : ",null==n.movimientoCajaBanco[0]?null:n.movimientoCajaBanco[0].medioPago.nombre,""),c.Cb(5),c.Sc("",null==n.movimientoCajaBanco[0]?null:n.movimientoCajaBanco[0].cajaCuentaBanco.tipoCajaCuentaBanco.nombre,":\n              ",null==n.movimientoCajaBanco[0]?null:n.movimientoCajaBanco[0].cajaCuentaBanco.nombre,""),c.Cb(2),c.sc("ngIf",1!==(null==n.movimientoCajaBanco[0]?null:n.movimientoCajaBanco[0].medioPago.id)),c.Cb(5),c.sc("ngSwitch",e.tipoPago),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.DIRECTO),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.CUENTA_CORRIENTE),c.Cb(2),c.sc("ngSwitchCase",o.PaymentsType.LOTE)}}function Cn(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Tipo "),c.Ub())}function Vn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n              "),c.Vb(2,"span",31),c.Pc(3,"Tipo:"),c.Ub(),c.Pc(4,"\n              "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n            "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Rc(" ",e.documento.tipoDocumentoBancario.subTipo[0].nombre,"")}}function vn(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Nro"),c.Ub())}function Un(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n              "),c.Vb(2,"span",31),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4,"\n              "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n            "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Rc(" ",e.documento.nroDocumento?e.documento.nroDocumento:"-","")}}function Sn(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"F.Emision"),c.Ub())}function yn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n              "),c.Vb(2,"span",31),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n              "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n            "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.documento.fechaEmisionString)}}function En(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"F.Vencimiento"),c.Ub())}function Fn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n              "),c.Vb(2,"span",31),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n              "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n            "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.documento.fechaPreVencString)}}function In(e,t){1&e&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Importe"),c.Ub())}function Nn(e,t){if(1&e&&(c.Vb(0,"mat-cell",32),c.Pc(1,"\n              "),c.Vb(2,"span",31),c.Pc(3,"Importe:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n              ",c.oc(5,1,e.documento.importe,"ARS","symbol"),"\n            ")}}function jn(e,t){1&e&&c.Qb(0,"mat-header-row")}function xn(e,t){1&e&&c.Qb(0,"mat-row")}function Dn(e,t){if(1&e&&(c.Pc(0,"\n    "),c.Qb(1,"hr"),c.Pc(2,"\n    "),c.Vb(3,"div",46),c.Pc(4,"\n      "),c.Vb(5,"div",14),c.Pc(6,"Documentos Generados:"),c.Ub(),c.Pc(7,"\n      "),c.Vb(8,"div",15),c.Pc(9,"\n        "),c.Vb(10,"mat-table",16,17),c.Pc(12,"\n          "),c.Tb(13,47),c.Pc(14,"\n            "),c.Nc(15,Cn,2,0,"mat-header-cell",19),c.Pc(16,"\n            "),c.Nc(17,Vn,8,1,"mat-cell",20),c.Pc(18,"\n          "),c.Sb(),c.Pc(19,"\n          "),c.Tb(20,35),c.Pc(21,"\n            "),c.Nc(22,vn,2,0,"mat-header-cell",19),c.Pc(23,"\n            "),c.Nc(24,Un,8,1,"mat-cell",20),c.Pc(25,"\n          "),c.Sb(),c.Pc(26,"\n          "),c.Tb(27,36),c.Pc(28,"\n            "),c.Nc(29,Sn,2,0,"mat-header-cell",19),c.Pc(30,"\n            "),c.Nc(31,yn,8,1,"mat-cell",20),c.Pc(32,"\n          "),c.Sb(),c.Pc(33,"\n          "),c.Tb(34,37),c.Pc(35,"\n            "),c.Nc(36,En,2,0,"mat-header-cell",19),c.Pc(37,"\n            "),c.Nc(38,Fn,8,1,"mat-cell",20),c.Pc(39,"\n          "),c.Sb(),c.Pc(40,"\n          "),c.Tb(41,22),c.Pc(42,"\n            "),c.Nc(43,In,2,0,"mat-header-cell",19),c.Pc(44,"\n            "),c.Nc(45,Nn,6,5,"mat-cell",23),c.Pc(46,"\n          "),c.Sb(),c.Pc(47,"\n          "),c.Nc(48,jn,1,0,"mat-header-row",24),c.Pc(49,"\n          "),c.Nc(50,xn,1,0,"mat-row",25),c.Pc(51,"\n        "),c.Ub(),c.Pc(52,"\n      "),c.Ub(),c.Pc(53,"\n    "),c.Ub(),c.Pc(54,"\n  ")),2&e){const e=t.item,n=c.kc(2);c.Cb(10),c.sc("dataSource",e.movimientoCajaBanco),c.Cb(38),c.sc("matHeaderRowDef",n.displayedColumnsDocumentos),c.Cb(2),c.sc("matRowDefColumns",n.displayedColumnsDocumentos)}}function On(e,t){if(1&e&&(c.Vb(0,"mat-card",1),c.Pc(1,"\n  "),c.Vb(2,"mat-card-content",2),c.Pc(3,"\n    "),c.Nc(4,gn,46,13,"ng-container",3),c.lc(5,"async"),c.Pc(6,"\n  "),c.Ub(),c.Pc(7,"\n\n  "),c.Nc(8,Dn,55,3,"ng-template",null,4,c.Oc),c.Pc(10,"\n"),c.Ub()),2&e){const e=c.kc();c.Cb(4),c.sc("ngIf",c.mc(5,1,e.tipoOrden$))}}let Tn=(()=>{class e{constructor(e){this.payService=e,this.PaymentsType=a,this.displayedColumnsCuentaCorriente=["Cbte","Nro","F.Emision","F.Vencimiento","Saldo"],this.displayedColumnsDirecto=["Id","Item","Importe"],this.displayedColumnsLote=["Ente","F.Vencimiento","Periodo","Saldo"],this.displayedColumnsDocumentos=["Tipo","Nro","F.Emision","F.Vencimiento","Importe"]}ngOnInit(){this.comprobante$=this.payService.comprobante$,this.tipoOrden$=this.payService.tipoOrden$}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(f))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-step3-confirmar-pago"]],decls:3,vars:3,consts:[["class","m-t-5",4,"ngIf"],[1,"m-t-5"],[1,"bg-light","mat-elevation-z6"],[4,"ngIf"],["itemTemplate",""],["fxLayout","row wrap"],["fxFlex.gt-xs","50","fxFlex","100"],[1,"font-bold"],["fxLayout","column"],[3,"ngSwitch"],[4,"ngSwitchCase"],["fxFlex.gt-xs","50","fxFlex","100",1,"text-right"],["style","color: blue",4,"ngIf"],[2,"color","blue"],[1,"text-center"],[1,"responsive-table","m-t-15"],[1,"table-items-list",3,"dataSource"],["table",""],["matColumnDef","Id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Item"],["matColumnDef","Importe"],["style","color: blue","class","font-medium",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"d-flex","align-items-center"],[1,"text-right","ml-auto"],[1,"text-uppercase","text-sm","ma-0","text-danger","text-bold"],[1,"m-l-10"],[1,"text-danger","font-medium"],[1,"header-label"],[1,"font-medium",2,"color","blue"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["matColumnDef","Cbte"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Saldo"],[1,"text-uppercase","text-md","ma-0","text-bold"],["class","text-uppercase text-md ma-a text-bold",4,"ngIf"],[1,"font-medium"],["class","font-medium",4,"ngIf"],[1,"text-uppercase","text-md","ma-a","text-bold"],["matColumnDef","Ente"],["matColumnDef","Periodo"],[1,"m-t-10"],["matColumnDef","Tipo"]],template:function(e,t){1&e&&(c.Nc(0,On,11,3,"mat-card",0),c.lc(1,"async"),c.Pc(2,"\n")),2&e&&c.sc("ngIf",c.mc(1,1,t.comprobante$))},directives:[Z.q,z.a,z.c,H.d,H.a,Z.s,Z.t,te.j,te.c,te.e,te.b,te.g,te.i,te.d,te.a,te.f,te.h,Z.v],pipes:[Z.b,Z.d],styles:[""]}),e})();const wn=["stepper"];function Rn(e,t){1&e&&c.Pc(0,"Tipo de Orden de Pago")}function An(e,t){1&e&&c.Qb(0,"jhi-step3-confirmar-pago")}const kn=function(){return["../ordenesPago"]},qn=[{path:"ordenesPago",component:Re,data:{pageTitle:"Ordenes de Pago",queryOperation:I.a.GET_PAGO,stateType:N.a.ORDEN_PAGO,createPermission:["Accion Crear Orden de Pago a Lote","Accion Crear Orden de Pago a Cuenta Corriente","Accion Crear Orden de Pago Directo"],printPermission:"Accion Reimprimir Orden de Pago",deletePermission:"Accion Anular Orden de Pago"}},{path:"generarOrdenPago",component:(()=>{class e{constructor(e,t,n,c,o,a,i,r){this.route=e,this.payService=t,this.paymentService=n,this.wfc=c,this.applicationConfigService=o,this.dialog=a,this.documentoService=i,this.eventManager=r,this.titleForm="",this.isSaving=!1,this.destroy$=new w.a,this.subscriptions=[],this.terminal="",this.impresora=""}ngOnInit(){this.subscriptions.push(this.route.data.pipe(Object(q.a)(this.destroy$)).subscribe(e=>{this.titleForm=e.pageTitle,this.urlData=e})),this.wfc.getTerminalService().subscribe(e=>{this.terminal=e.Nombre},()=>{this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"El servicio de Windows de Impresion Automatica de Chueques WFC est\xe1 APAGADO!, NO se puedran imprimir los Cheques, Comuniquese con Soporte Tecnico",type:"danger"}))}),this.subscriptions.push(this.payService.comprobante$.pipe(Object(q.a)(this.destroy$)).subscribe(e=>this.saveVoucher=e)),this.subscriptions.push(this.payService.tipoOrden$.pipe(Object(q.a)(this.destroy$)).subscribe(e=>{switch(e.tipoPago){case a.DIRECTO:this.operation=I.a.CREAR_PAGO_DIRECTO;break;case a.CUENTA_CORRIENTE:this.operation=I.a.CREAR_PAGO_CTA_CTE;break;case a.LOTE:this.operation=I.a.CREAR_PAGO_TRANSF_LOTE}}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroy$.complete(),this.destroy$.next()}save(){this.saveVoucher.comprobanteRef.length>0||this.saveVoucher.item.length>0?(this.isSaving=!0,this.operation===I.a.CREAR_PAGO_DIRECTO&&(this.saveVoucher.item=this.saveVoucher.item.map(e=>({id:e.id.id,importe:e.importe}))),this.subscribeToSaveResponse(this.paymentService.create(this.saveVoucher,this.operation))):this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"Algo no va bien, por favor verifica los campos",type:"warning"}))}managerImpresora(e){this.impresora=e}subscribeToSaveResponse(e){const t=e.subscribe({next:e=>this.onSaveSuccess(e),error:()=>this.onSaveError()});this.subscriptions.push(t),this.step1Ordertype.limpiarOptions()}onSaveSuccess(e){this.isSaving=!1,this.imprimirOrden(e.id),this.stepper.reset()}onSaveError(){this.isSaving=!1,this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"Algo salio mal!",type:"danger"}))}imprimirOrden(e){const t=this.applicationConfigService.getEndpointFor(`print/print/?id=${e}&codigoReporte=${D.RPT_ORDEN_PAGO}&lote=false`);this.dialog.printElements(t),"NOIMPRIMIR"!==this.impresora&&""!==this.terminal&&this.documentoService.getChequesParaImprimir(e,this.terminal).pipe(Object(Q.a)(e=>this.wfc.imprimirCheques(e,this.impresora))).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(F.a),c.Pb(f),c.Pb(_),c.Pb(qe),c.Pb(u.a),c.Pb(G.a),c.Pb(Be),c.Pb(Ae.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-stepper-pay"]],viewQuery:function(e,t){if(1&e&&(c.Uc(y,1),c.Uc(wn,1)),2&e){let e;c.Bc(e=c.hc())&&(t.step1Ordertype=e.first),c.Bc(e=c.hc())&&(t.stepper=e.first)}},decls:70,vars:8,consts:[["fxLayoutAlign","space-between start"],["fxLayout","column","fxLayout.gt-xs","row"],["mat-raised-button","","color","primary","matTooltip","Volver al Listado",3,"routerLink"],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],["form1",""],[1,"text-right","p-t-20"],["mat-stroked-button","","color","primary","matStepperNext",""],["label","Medio de Pago",3,"stepControl"],[3,"impresoraInfo"],["form2",""],["mat-stroked-button","","color","warn","matStepperPrevious",""],["label","Confirmar"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(c.Vb(0,"mat-card"),c.Pc(1,"\n  "),c.Vb(2,"mat-card-header",0),c.Pc(3,"\n    "),c.Vb(4,"mat-card-title"),c.Pc(5),c.Ub(),c.Pc(6,"\n\n    "),c.Vb(7,"div",1),c.Pc(8,"\n      "),c.Vb(9,"button",2),c.Pc(10,"Volver"),c.Ub(),c.Pc(11,"\n    "),c.Ub(),c.Pc(12,"\n  "),c.Ub(),c.Pc(13,"\n  "),c.Qb(14,"hr"),c.Pc(15,"\n  "),c.Vb(16,"mat-card-content"),c.Pc(17,"\n    "),c.Qb(18,"jhi-alert-error"),c.Pc(19,"\n\n    "),c.Vb(20,"mat-horizontal-stepper",3,4),c.Pc(22,"\n      "),c.Vb(23,"mat-step",5),c.Pc(24,"\n        "),c.Nc(25,Rn,1,0,"ng-template",6),c.Pc(26,"\n        "),c.Qb(27,"jhi-step1-tipo-orden",null,7),c.Pc(29,"\n        "),c.Vb(30,"div",8),c.Pc(31,"\n          "),c.Vb(32,"button",9),c.Pc(33,"Siguiente"),c.Ub(),c.Pc(34,"\n        "),c.Ub(),c.Pc(35,"\n      "),c.Ub(),c.Pc(36,"\n\n      "),c.Vb(37,"mat-step",10),c.Pc(38,"\n        "),c.Vb(39,"jhi-step2-medio-pago",11,12),c.gc("impresoraInfo",function(e){return t.managerImpresora(e)}),c.Pc(41," "),c.Ub(),c.Pc(42,"\n\n        "),c.Vb(43,"div",8),c.Pc(44,"\n          "),c.Vb(45,"button",13),c.Pc(46,"Atras"),c.Ub(),c.Pc(47,"\n          "),c.Vb(48,"button",9),c.Pc(49,"Siguiente"),c.Ub(),c.Pc(50,"\n        "),c.Ub(),c.Pc(51,"\n      "),c.Ub(),c.Pc(52,"\n\n      "),c.Vb(53,"mat-step",14),c.Pc(54,"\n        "),c.Nc(55,An,1,0,"jhi-step3-confirmar-pago",15),c.Pc(56,"\n        "),c.Vb(57,"div",8),c.Pc(58,"\n          "),c.Vb(59,"button",13),c.Pc(60,"Atras"),c.Ub(),c.Pc(61,"\n          "),c.Vb(62,"button",16),c.gc("click",function(){return t.save()}),c.Pc(63,"Confirmar"),c.Ub(),c.Pc(64,"\n        "),c.Ub(),c.Pc(65,"\n      "),c.Ub(),c.Pc(66,"\n    "),c.Ub(),c.Pc(67,"\n  "),c.Ub(),c.Pc(68,"\n"),c.Ub(),c.Pc(69,"\n")),2&e){const e=c.Cc(28),n=c.Cc(40);c.Cb(5),c.Qc(t.titleForm),c.Cb(4),c.sc("routerLink",c.wc(7,kn)),c.Cb(11),c.sc("linear",!0),c.Cb(3),c.sc("stepControl",e.tipoPagoForm),c.Cb(14),c.sc("stepControl",n.medioPagoForm),c.Cb(18),c.sc("ngIf",n.medioPagoForm),c.Cb(7),c.sc("disabled",t.isSaving)}},directives:[z.a,z.e,H.c,z.g,H.d,ce.a,X.a,F.g,z.c,$e.a,Le.a,Le.b,Le.c,y,Le.e,It,Le.f,Z.q,Tn],styles:[""]}),e})(),data:{pageTitle:"Nueva Orden de Pago"}}];var Bn=n("pLZG"),$n=n("nYR2"),Ln=n("/1cH"),Qn=n("bSwM");const Mn=["sort1"];function _n(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Qc(e.mensajeErrorEnte())}}function Gn(e,t){1&e&&(c.Vb(0,"mat-option",33),c.Pc(1,"\n          "),c.Qb(2,"mat-spinner",34),c.Pc(3,"\n        "),c.Ub())}function Hn(e,t){if(1&e&&(c.Vb(0,"mat-option",36),c.Pc(1,"\n            "),c.Vb(2,"span"),c.Vb(3,"small"),c.Pc(4),c.Ub(),c.Ub(),c.Pc(5,"\n          "),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(4),c.Qc(e.persona?e.persona.apellido:e.personaJuridica?e.personaJuridica.nombreFantasia:"")}}function zn(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n          "),c.Nc(2,Hn,6,2,"mat-option",35),c.Pc(3,"\n        "),c.Sb()),2&e){const e=c.kc();c.Cb(2),c.sc("ngForOf",e.resultEnte)}}function Jn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"mat-header-cell",37),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",38),c.gc("change",function(t){c.Ec(e);const n=c.kc();return t?n.masterToggle():null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&e){const e=c.kc();c.Cb(2),c.sc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Yn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"mat-cell",37),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",39),c.gc("click",function(e){return e.stopPropagation()})("change",function(n){c.Ec(e);const o=t.$implicit,a=c.kc();return n?a.selection.toggle(o):null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&e){const e=t.$implicit,n=c.kc();c.Cb(2),c.sc("checked",n.selection.isSelected(e))}}function Wn(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Cbte"),c.Ub())}function Xn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Cbte:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.tipoComprobante.nombre)}}function Kn(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Nro"),c.Ub())}function Zn(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n          ",e.nroComprobante,"\n        ")}}function ec(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"F.Emision"),c.Ub())}function tc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaComprobanteString)}}function nc(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"F.Vencimiento"),c.Ub())}function cc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaVtoString)}}function oc(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Periodo"),c.Ub())}function ac(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.periodo)}}function ic(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Total"),c.Ub())}function rc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n          ",c.oc(5,1,e.totalComprobante,"ARS","symbol"),"\n        ")}}function sc(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Saldo"),c.Ub())}function lc(e,t){if(1&e&&(c.Vb(0,"mat-cell",42),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n          ",c.oc(5,1,e.saldo,"ARS","symbol"),"\n        ")}}function bc(e,t){1&e&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Estado"),c.Ub())}function mc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit,n=c.kc();c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(e.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n            ",e.estadoComprobante.nombre,"\n          ")}}function uc(e,t){1&e&&c.Qb(0,"mat-header-row")}function dc(e,t){1&e&&c.Qb(0,"mat-row")}function Pc(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1,"\n      "),c.Vb(2,"strong"),c.Pc(3,"No se encontraron registros"),c.Ub(),c.Pc(4,"\n    "),c.Ub())}function pc(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1,"Cargando..."),c.Ub())}function hc(e,t){1&e&&c.Qb(0,"mat-spinner",43),2&e&&c.sc("diameter",20)}function fc(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n    "),c.Vb(2,"div",44),c.Pc(3,"\n      "),c.Vb(4,"div",2),c.Pc(5,"\n        "),c.Vb(6,"mat-form-field",45),c.Pc(7,"\n          "),c.Vb(8,"mat-label"),c.Pc(9,"Total Seleccionados"),c.Ub(),c.Pc(10,"\n          "),c.Qb(11,"input",46),c.lc(12,"currency"),c.Pc(13,"\n        "),c.Ub(),c.Pc(14,"\n      "),c.Ub(),c.Pc(15,"\n      "),c.Vb(16,"div",2),c.Pc(17,"\n        "),c.Vb(18,"mat-form-field",3),c.Pc(19,"\n          "),c.Vb(20,"mat-label"),c.Pc(21,"Total a Pagar"),c.Ub(),c.Pc(22,"\n          "),c.Qb(23,"input",47),c.Pc(24,"\n          "),c.Vb(25,"span",48),c.Pc(26," $\xa0 "),c.Ub(),c.Pc(27,"\n        "),c.Ub(),c.Pc(28,"\n      "),c.Ub(),c.Pc(29,"\n    "),c.Ub(),c.Pc(30,"\n  "),c.Ub()),2&e){const e=c.kc();c.Cb(11),c.sc("value",c.oc(12,1,e.enteDeudaForm.controls.montoSeleccionado.value,"ARS","symbol"))}}const gc=function(){return[3,5,10]};let Cc=(()=>{class e{constructor(e,t,n,a,i){this.fb=e,this.enteService=t,this.comprobanteService=n,this.cdk=a,this.eventManager=i,this.enteDeudaForm=this.fb.group({ente:["",[o.y.required,Ge.a.RequireMatch]],totalComprobante:[0,o.y.min(1)],montoSeleccionado:[{value:0,disabled:!0}],comprobanteRef:this.fb.array([])}),this.cuentaCorrienteResult=[],this.comprobantesRef=[],this.displayedColumns=["Select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.selection=new j.c(!0,[],!0),this.isSaving=!1,this.resultEnte=[],this.loadingAutocomplete=!1,this.subscriptions=[],this.formInfo=new c.o}ngOnInit(){var e;const t=null===(e=this.sort)||void 0===e?void 0:e.sortChange.subscribe(()=>this.paginator.pageIndex=0);t&&this.subscriptions.push(t);const n=Object(R.a)(this.sort.sortChange,this.paginator.page).pipe(Object(B.a)(()=>this.loadCreditoEnteList())).subscribe();this.subscriptions.push(n),this.subscriptions.push(this.selection.changed.subscribe(e=>{this.diferencia=0,e.removed.length>0&&(this.enteDeudaForm.controls.totalComprobante.reset(),e.removed.forEach(e=>this.removeComprobanteRef(e))),e.added.length>0&&this.addComprobanteRef(e.added[0]),this.calcularImporte(),this.cargarDatosItem()})),this.subscriptions.push(this.totalComprobante.valueChanges.pipe(Object(i.a)(500),Object(B.a)(()=>this.calcularDiferencia())).subscribe());const c=this.enteDeudaForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{if("VALID"===e){const e={datos:this.enteDeudaForm.getRawValue(),totalComprobante:this.totalComprobante.value};this.formInfo.emit(e)}else this.formInfo.emit(null)});this.subscriptions.push(c),this.dataSource=new T.a(this.comprobanteService)}ngAfterViewInit(){const e=this.ente.valueChanges.pipe(Object(L.a)(e=>"string"==typeof e?this.noWhiteSpace(e):e),Object(i.a)(150),Object($.a)(),Object(Bn.a)(e=>!!e&&e.length>2),Object(B.a)(()=>this.loadingAutocomplete=!0),Object(Q.a)(e=>this.enteService.findAutocompleteEnte(e).pipe(Object($n.a)(()=>this.loadingAutocomplete=!1)))).subscribe(e=>{this.resultEnte=e,this.cdk.markForCheck()});this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}selectedEnte(e){e&&(this.enteSelected=e,this.loadCreditoEnteList())}loadCreditoEnteList(){this.limpiarOptions();const e=new O.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(e,I.a.GET_ENTE_DEUDA),this.subscriptions.push(this.dataSource.entitySubject.subscribe(e=>this.cuentaCorrienteResult=e))}filterConfiguration(){const e={};return e.id=this.enteSelected.id?this.enteSelected.id:0,e}limpiarOptions(){var e;null===(e=this.enteDeudaForm.get("selectedOptions"))||void 0===e||e.reset(),this.dataSource.entitySubject.next([]),this.selection.clear()}addComprobanteRef(e){this.comprobantesRef.push(e)}removeComprobanteRef(e){this.comprobantesRef.forEach((t,n)=>{t===e&&this.comprobantesRef.splice(n,1)})}calcularImporte(){let e=0;this.comprobantesRef.forEach(t=>{e+=t.saldo}),this.enteDeudaForm.controls.montoSeleccionado.setValue(e),this.enteDeudaForm.controls.totalComprobante.setValue(e)}calcularDiferencia(){this.diferencia=this.enteDeudaForm.controls.montoSeleccionado.value-this.enteDeudaForm.controls.totalComprobante.value,this.diferencia<0&&this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:"Ud. va a pagar un valor mayor al Total Seleccionado.",type:"danger"})),this.diferencia>0&&this.eventManager.broadcast(new Ae.b("erpSepApp.error",{message:`Existe una diferencia entre el Total Seleccionado y el Total a Pagar de $: ${this.diferencia}`,type:"warning"})),this.cdk.markForCheck()}cargarDatosItem(){const e=this.selection.selected.map(e=>this.fb.group(e)),t=this.fb.array(e);this.enteDeudaForm.setControl("comprobanteRef",t)}isAllSelected(){return this.selection.selected.length===this.cuentaCorrienteResult.length}masterToggle(){this.selection.selected.length===this.cuentaCorrienteResult.length?this.selection.clear():this.cuentaCorrienteResult.forEach(e=>this.selection.select(e))}get ente(){return this.enteDeudaForm.get("ente")}mensajeErrorEnte(){return this.ente.hasError("required")?"El Ente es requerido":this.ente.hasError("incorrect")?"Seleccione un Ente v\xe1lido":""}get totalComprobante(){return this.enteDeudaForm.get("totalComprobante")}displayFn(e){if(null!=e)return e.persona?e.persona.apellido:e.personaJuridica?e.personaJuridica.nombreFantasia:void 0}noWhiteSpace(e){return e.trimLeft()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.f),c.Pb(s.a),c.Pb(M.a),c.Pb(c.h),c.Pb(Ae.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-cuenta-corriente"]],viewQuery:function(e,t){if(1&e&&(c.Uc(x.a,3),c.Uc(Mn,3)),2&e){let e;c.Bc(e=c.hc())&&(t.paginator=e.first),c.Bc(e=c.hc())&&(t.sort=e.first)}},outputs:{formInfo:"formInfo"},decls:127,vars:25,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","outline"],["matInput","","id","ente",3,"formControl","matAutocomplete"],["align","start"],[4,"ngIf"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],["class","mat-column-checkbox",4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"is-loading"],["diameter","20"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-column-checkbox"],["color","primary",3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[3,"diameter"],["fxLayout","column","fxLayoutAlign","end end"],["appearance","fill"],["matInput","","formControlName","montoSeleccionado",2,"font-size","20px",3,"value"],["matInput","","formControlName","totalComprobante",2,"font-size","20px","color","red"],["matPrefix","",2,"font-size","20px"]],template:function(e,t){if(1&e&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"mat-form-field",3),c.Pc(7,"\n        "),c.Vb(8,"mat-label"),c.Pc(9,"Ente:"),c.Ub(),c.Pc(10,"\n        "),c.Qb(11,"input",4),c.Pc(12,"\n        "),c.Vb(13,"mat-hint",5),c.Pc(14,"Escribir para buscar.."),c.Ub(),c.Pc(15,"\n        "),c.Nc(16,_n,2,1,"mat-error",6),c.Pc(17,"\n      "),c.Ub(),c.Pc(18,"\n      "),c.Vb(19,"mat-autocomplete",7,8),c.gc("optionSelected",function(e){return t.selectedEnte(e.option.value)}),c.Pc(21,"\n        "),c.Nc(22,Gn,4,0,"mat-option",9),c.Pc(23,"\n        "),c.Nc(24,zn,4,1,"ng-container",6),c.Pc(25,"\n      "),c.Ub(),c.Pc(26,"\n    "),c.Ub(),c.Pc(27,"\n  "),c.Ub(),c.Pc(28,"\n\n  "),c.Vb(29,"div",10),c.Pc(30,"\n    "),c.Vb(31,"mat-table",11,12),c.Pc(34,"\n      "),c.Tb(35,13),c.Pc(36,"\n        "),c.Nc(37,Jn,5,2,"mat-header-cell",14),c.Pc(38,"\n        "),c.Nc(39,Yn,5,1,"mat-cell",15),c.Pc(40,"\n      "),c.Sb(),c.Pc(41,"\n\n      "),c.Tb(42,16),c.Pc(43,"\n        "),c.Nc(44,Wn,2,0,"mat-header-cell",17),c.Pc(45,"\n        "),c.Nc(46,Xn,8,1,"mat-cell",18),c.Pc(47,"\n      "),c.Sb(),c.Pc(48,"\n\n      "),c.Tb(49,19),c.Pc(50,"\n        "),c.Nc(51,Kn,2,0,"mat-header-cell",17),c.Pc(52,"\n        "),c.Nc(53,Zn,5,1,"mat-cell",18),c.Pc(54,"\n      "),c.Sb(),c.Pc(55,"\n\n      "),c.Tb(56,20),c.Pc(57,"\n        "),c.Nc(58,ec,2,0,"mat-header-cell",17),c.Pc(59,"\n        "),c.Nc(60,tc,8,1,"mat-cell",18),c.Pc(61,"\n      "),c.Sb(),c.Pc(62,"\n\n      "),c.Tb(63,21),c.Pc(64,"\n        "),c.Nc(65,nc,2,0,"mat-header-cell",17),c.Pc(66,"\n        "),c.Nc(67,cc,8,1,"mat-cell",18),c.Pc(68,"\n      "),c.Sb(),c.Pc(69,"\n\n      "),c.Tb(70,22),c.Pc(71,"\n        "),c.Nc(72,oc,2,0,"mat-header-cell",17),c.Pc(73,"\n        "),c.Nc(74,ac,8,1,"mat-cell",18),c.Pc(75,"\n      "),c.Sb(),c.Pc(76,"\n\n      "),c.Tb(77,23),c.Pc(78,"\n        "),c.Nc(79,ic,2,0,"mat-header-cell",17),c.Pc(80,"\n        "),c.Nc(81,rc,6,5,"mat-cell",18),c.Pc(82,"\n      "),c.Sb(),c.Pc(83,"\n\n      "),c.Tb(84,24),c.Pc(85,"\n        "),c.Nc(86,sc,2,0,"mat-header-cell",17),c.Pc(87,"\n        "),c.Nc(88,lc,6,5,"mat-cell",25),c.Pc(89,"\n      "),c.Sb(),c.Pc(90,"\n\n      "),c.Pc(91,"\n\n      "),c.Tb(92,26),c.Pc(93,"\n        "),c.Nc(94,bc,2,0,"mat-header-cell",17),c.Pc(95,"\n        "),c.Nc(96,mc,8,4,"mat-cell",18),c.Pc(97,"\n      "),c.Sb(),c.Pc(98,"\n\n      "),c.Nc(99,uc,1,0,"mat-header-row",27),c.Pc(100,"\n      "),c.Nc(101,dc,1,0,"mat-row",28),c.Pc(102,"\n    "),c.Ub(),c.Pc(103,"\n  "),c.Ub(),c.Pc(104,"\n\n  "),c.Pc(105,"\n  "),c.Vb(106,"div",29),c.Pc(107,"\n    "),c.Nc(108,Pc,5,0,"div",6),c.Pc(109,"\n    "),c.Nc(110,pc,2,0,"div",6),c.lc(111,"async"),c.Pc(112,"\n  "),c.Ub(),c.Pc(113,"\n\n  "),c.Vb(114,"div",30),c.Pc(115,"\n    "),c.Nc(116,hc,1,1,"mat-spinner",31),c.lc(117,"async"),c.Pc(118,"\n    "),c.Vb(119,"mat-paginator",32),c.lc(120,"async"),c.Pc(121,"\n    "),c.Ub(),c.Pc(122,"\n  "),c.Ub(),c.Pc(123,"\n\n  "),c.Nc(124,fc,31,5,"div",6),c.Pc(125,"\n"),c.Ub(),c.Pc(126,"\n")),2&e){const e=c.Cc(20);c.sc("formGroup",t.enteDeudaForm),c.Cb(11),c.sc("formControl",t.ente)("matAutocomplete",e),c.Cb(5),c.sc("ngIf",t.ente.invalid),c.Cb(3),c.sc("displayWith",t.displayFn.bind(t)),c.Cb(3),c.sc("ngIf",t.loadingAutocomplete),c.Cb(2),c.sc("ngIf",!t.loadingAutocomplete),c.Cb(7),c.sc("dataSource",t.dataSource),c.Cb(68),c.sc("matHeaderRowDef",t.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumns),c.Cb(7),c.sc("ngIf",!t.dataSource.hasItems),c.Cb(2),c.sc("ngIf",c.mc(111,18,t.dataSource.isPreloadTextViewed$)),c.Cb(6),c.sc("ngIf",c.mc(117,20,t.dataSource.loading$)),c.Cb(3),c.sc("pageSize",10)("pageSizeOptions",c.wc(24,gc))("length",c.mc(120,22,t.dataSource.paginatorTotal$))("showFirstLastButtons",!0),c.Cb(5),c.sc("ngIf",(null==t.selection?null:t.selection.selected.length)>0)}},directives:[o.z,o.r,o.k,H.d,H.c,H.a,Y.c,Y.g,W.b,o.c,Ln.c,o.q,o.h,Y.f,Z.q,Ln.a,te.j,ne.a,te.c,te.e,te.b,te.g,te.i,x.a,Y.b,oe.n,ie.b,Z.p,te.d,Qn.a,te.a,ne.b,te.f,te.h,o.i,Y.h],pipes:[Z.b,Z.d],styles:[""]}),e})();var Vc=n("V7aC");function vc(e,t){if(1&e&&(c.Vb(0,"mat-option",20),c.Pc(1,"\n            "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n          "),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(3),c.Qc(e.nombre)}}function Uc(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorTipoComprobante()," ")}}function Sc(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorNroComprobante()," ")}}function yc(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc();c.Cb(1),c.Rc("",e.mensajeErrorfechaComprobanteString()," ")}}function Ec(e,t){if(1&e&&(c.Vb(0,"mat-option",20),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.sc("value",e),c.Cb(1),c.Rc(" ",e.nombre," ")}}function Fc(e,t){1&e&&(c.Vb(0,"mat-error"),c.Pc(1," Requerido"),c.Ub())}function Ic(e,t){if(1&e&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&e){const e=c.kc().index,t=c.kc();c.Cb(1),c.Rc("\n                ",t.mensajeErrorImporte(e),"\n              ")}}function Nc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",30),c.gc("click",function(){c.Ec(e);const t=c.kc().index;return c.kc().borrarItem(t)}),c.Pc(1,"\n              "),c.Vb(2,"mat-icon"),c.Pc(3,"remove"),c.Ub(),c.Pc(4,"\n            "),c.Ub()}}function jc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",31),c.gc("click",function(){return c.Ec(e),c.kc(2).agregarItem()}),c.Pc(1,"\n              "),c.Vb(2,"mat-icon"),c.Pc(3,"add"),c.Ub(),c.Pc(4,"\n            "),c.Ub()}}function xc(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n      "),c.Vb(2,"div",21),c.Pc(3,"\n        "),c.Vb(4,"div",1),c.Pc(5,"\n          "),c.Vb(6,"div",22),c.Pc(7,"\n            "),c.Vb(8,"mat-form-field",16),c.Pc(9,"\n              "),c.Vb(10,"mat-select",23),c.Pc(11,"\n                "),c.Nc(12,Ec,2,2,"mat-option",5),c.Pc(13,"\n              "),c.Ub(),c.Pc(14,"\n              "),c.Nc(15,Fc,2,0,"mat-error",6),c.Pc(16,"\n            "),c.Ub(),c.Pc(17,"\n          "),c.Ub(),c.Pc(18,"\n\n          "),c.Vb(19,"div",24),c.Pc(20,"\n            "),c.Vb(21,"mat-form-field",16),c.Pc(22,"\n              "),c.Qb(23,"input",25),c.Pc(24,"\n              "),c.Vb(25,"span",26),c.Pc(26,"$\xa0"),c.Ub(),c.Pc(27,"\n              "),c.Nc(28,Ic,2,1,"mat-error",6),c.Pc(29,"\n            "),c.Ub(),c.Pc(30,"\n          "),c.Ub(),c.Pc(31,"\n\n          "),c.Vb(32,"div",27),c.Pc(33,"\n            "),c.Nc(34,Nc,5,0,"button",28),c.Pc(35,"\n            "),c.Nc(36,jc,5,0,"button",29),c.Pc(37,"\n          "),c.Ub(),c.Pc(38,"\n        "),c.Ub(),c.Pc(39,"\n      "),c.Ub(),c.Pc(40,"\n    "),c.Ub()),2&e){const e=t.$implicit,n=t.index,o=c.kc();let a=null,i=null;c.Cb(2),c.sc("formGroupName",n),c.Cb(8),c.sc("formControl",e.get("id")),c.Cb(2),c.sc("ngForOf",o.allConceptos),c.Cb(3),c.sc("ngIf",e.controls.id.invalid),c.Cb(8),c.uc("placeholder","SubTotal ",n+1,""),c.sc("formControl",e.get("importe")),c.Cb(5),c.sc("ngIf",e.get("importe").invalid),c.Cb(6),c.sc("ngIf",(null==(a=o.directoForm.get("item"))?null:a.controls.length)>1),c.Cb(2),c.sc("ngIf",(null==(i=o.directoForm.get("item"))?null:i.controls.length)===n+1)}}let Dc=(()=>{class e{constructor(e,t){this.fb=e,this.comprobanteService=t,this.now=P().format("DD/MM/YYYY"),this.nroPattern="[0-9]{5}-[0-9]{8}",this.allConceptos=[],this.allTipoComprobantes=[],this.subscriptions=[],this.directoForm=this.fb.group({tipoComprobante:["",[o.y.required]],nroComprobante:["",[o.y.required,o.y.pattern(this.nroPattern)]],fechaComprobanteString:["",[o.y.required,Ge.a.isValidDate]],totalComprobante:[{value:"",disabled:!0}],item:this.fb.array([])}),this.formInfo=new c.o}ngOnInit(){this.subscriptions.push(this.comprobanteService.getAllTiposComprobante(N.a.DEUDA).subscribe({next:e=>this.allTipoComprobantes=e})),this.subscriptions.push(this.comprobanteService.getItemsEnte(0,Vc.a.DEBE,Vc.b.CONCEPTOS_PAGOS).subscribe({next:e=>this.allConceptos=e}));const e=this.item.valueChanges.subscribe(e=>this.actualizarTotalComprobante(e));this.subscriptions.push(e);const t=this.directoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(e=>{if("VALID"===e){const e={datos:this.directoForm.getRawValue(),totalComprobante:this.totalComprobante.value};this.formInfo.emit(e)}else this.formInfo.emit(null)});this.subscriptions.push(t),this.fechaComprobanteString.patchValue(this.now),this.agregarItem()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}crearItem(){return this.fb.group({id:["",o.y.required],importe:["",[o.y.required,Ge.a.maxNumber]]})}agregarItem(){this.item.push(this.crearItem())}borrarItem(e){this.item.removeAt(e)}actualizarTotalComprobante(e){let t=0;for(const n in e)e&&(t+=e[n].importe,this.directoForm.controls.totalComprobante.patchValue(t))}rellenarCeros(e){if(e.value.includes("-")){const t=e.value.split("-");for(;8-t[1].length!=0;)t[1]="0"+t[1].valueOf(),this.nroComprobante.patchValue(t[0]+"-"+t[1])}else{for(;5-e.value.length!=0;)e.value="0"+e.value;this.nroComprobante.patchValue(e.value+"-")}}comparar(e,t){return(null==e?void 0:e.name)===(null==t?void 0:t.name)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)}get item(){return this.directoForm.get("item")}get tipoComprobante(){return this.directoForm.get("tipoComprobante")}get totalComprobante(){return this.directoForm.get("totalComprobante")}get fechaComprobanteString(){return this.directoForm.get("fechaComprobanteString")}get nroComprobante(){return this.directoForm.get("nroComprobante")}mensajeErrorTipoComprobante(){return this.tipoComprobante.hasError("required")?"El Comprobante es requerido":""}mensajeErrorfechaComprobanteString(){return this.fechaComprobanteString.hasError("required")?"La Fecha es requerida":this.fechaComprobanteString.hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}mensajeErrorNroComprobante(){return this.nroComprobante.hasError("required")?"El Nro de Comprobante es requerido":this.nroComprobante.hasError("pattern")?"El Nro debe ser (00000-00000000)":""}mensajeErrorImporte(e){return this.item.controls[e].get("importe").hasError("required")?"El importe es requerido":this.item.controls[e].get("importe").hasError("excedido")?"Supero el limite":""}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.f),c.Pb(M.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-directo"]],outputs:{formInfo:"formInfo"},decls:87,vars:11,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","30",1,"m-t-15"],["appearance","outline"],["formControlName","tipoComprobante",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","mask","00000-00000000",3,"dropSpecialCharacters","formControl","keyup.enter"],["matInput","","mask","00/00/0000",3,"dropSpecialCharacters","formControl"],["matSuffix",""],["align","start"],[1,"text-center","font-medium"],["formArrayName","item"],[4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","end space-between"],["fxFlex","100","fxFlex.gt-sm","20",1,"text-left"],["appearance","fill"],["matInput","","formControlName","totalComprobante","id","totalComprobante",2,"font-size","20px","color","red"],["matPrefix","",1,"font-medium",2,"font-size","20px"],["fxFlex","100","fxFlex.gt-sm","20",1,"text-end"],[3,"value"],[3,"formGroupName"],["fxFlex","100","fxFlex.gt-sm","40"],["placeholder","Concepto",3,"formControl"],["fxFlex","100","fxFlex.gt-sm","30"],["type","number","matInput","",3,"placeholder","formControl"],["matPrefix",""],["fxFlex","100","fxFlex.gt-sm","10",1,"text-end"],["type","button","mat-mini-fab","","color","warn","matTooltip","Quitar",3,"click",4,"ngIf"],["type","button","mat-mini-fab","","color","primary","matTooltip","Agregar",3,"click",4,"ngIf"],["type","button","mat-mini-fab","","color","warn","matTooltip","Quitar",3,"click"],["type","button","mat-mini-fab","","color","primary","matTooltip","Agregar",3,"click"]],template:function(e,t){1&e&&(c.Pc(0,"\n"),c.Vb(1,"form",0),c.Pc(2,"\n  "),c.Vb(3,"div",1),c.Pc(4,"\n    "),c.Vb(5,"div",2),c.Pc(6,"\n      "),c.Vb(7,"mat-form-field",3),c.Pc(8,"\n        "),c.Vb(9,"mat-label"),c.Pc(10,"Tipo Comprobante:"),c.Ub(),c.Pc(11,"\n        "),c.Vb(12,"mat-select",4),c.Pc(13,"\n          "),c.Nc(14,vc,5,2,"mat-option",5),c.Pc(15,"\n        "),c.Ub(),c.Pc(16,"\n        "),c.Nc(17,Uc,2,1,"mat-error",6),c.Pc(18,"\n      "),c.Ub(),c.Pc(19,"\n    "),c.Ub(),c.Pc(20,"\n\n    "),c.Vb(21,"div",2),c.Pc(22,"\n      "),c.Vb(23,"mat-form-field",3),c.Pc(24,"\n        "),c.Vb(25,"mat-label"),c.Pc(26,"Nro Comprobante:"),c.Ub(),c.Pc(27,"\n        "),c.Vb(28,"input",7),c.gc("keyup.enter",function(e){return t.rellenarCeros(e.target)}),c.Ub(),c.Pc(29,"\n        "),c.Pc(30,"\n        "),c.Nc(31,Sc,2,1,"mat-error",6),c.Pc(32,"\n      "),c.Ub(),c.Pc(33,"\n    "),c.Ub(),c.Pc(34,"\n\n    "),c.Vb(35,"div",2),c.Pc(36,"\n      "),c.Vb(37,"mat-form-field",3),c.Pc(38,"\n        "),c.Vb(39,"mat-label"),c.Pc(40,"Fecha del Comprobante:"),c.Ub(),c.Pc(41,"\n        "),c.Qb(42,"input",8),c.Pc(43,"\n        "),c.Vb(44,"mat-icon",9),c.Pc(45,"date_range"),c.Ub(),c.Pc(46,"\n        "),c.Vb(47,"mat-hint",10),c.Pc(48,"'dd/mm/yyyy'"),c.Ub(),c.Pc(49,"\n        "),c.Nc(50,yc,2,1,"mat-error",6),c.Pc(51,"\n      "),c.Ub(),c.Pc(52,"\n    "),c.Ub(),c.Pc(53,"\n  "),c.Ub(),c.Pc(54,"\n\n  \xa0\n  "),c.Vb(55,"div",11),c.Pc(56,"Detalles"),c.Ub(),c.Pc(57,"\n  "),c.Qb(58,"hr"),c.Pc(59,"\n  \xa0\n\n  "),c.Vb(60,"div",12),c.Pc(61,"\n    "),c.Nc(62,xc,41,9,"div",13),c.Pc(63,"\n  "),c.Ub(),c.Pc(64,"\n\n  "),c.Vb(65,"div",14),c.Pc(66,"\n    "),c.Vb(67,"div",15),c.Pc(68,"\n      "),c.Pc(69,"\n      "),c.Vb(70,"mat-form-field",16),c.Pc(71,"\n        "),c.Vb(72,"mat-label"),c.Pc(73," Total a Pagar "),c.Ub(),c.Pc(74,"\n        "),c.Qb(75,"input",17),c.Pc(76,"\n        "),c.Vb(77,"span",18),c.Pc(78,"$\xa0"),c.Ub(),c.Pc(79,"\n      "),c.Ub(),c.Pc(80,"\n    "),c.Ub(),c.Pc(81,"\n\n    "),c.Qb(82,"div",19),c.Pc(83,"\n  "),c.Ub(),c.Pc(84,"\n"),c.Ub(),c.Pc(85,"\n"),c.Pc(86,"\n")),2&e&&(c.Cb(1),c.sc("formGroup",t.directoForm),c.Cb(11),c.sc("compareWith",t.comparar),c.Cb(2),c.sc("ngForOf",t.allTipoComprobantes),c.Cb(3),c.sc("ngIf",t.tipoComprobante.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1)("formControl",t.nroComprobante),c.Cb(3),c.sc("ngIf",t.nroComprobante.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1)("formControl",t.fechaComprobanteString),c.Cb(8),c.sc("ngIf",t.fechaComprobanteString.invalid),c.Cb(12),c.sc("ngForOf",null==t.item?null:t.item.controls))},directives:[o.z,o.r,o.k,H.d,H.c,H.a,Y.c,Y.g,K.a,o.q,o.i,Z.p,Z.q,W.b,ze.a,o.c,o.h,ae.a,Y.i,Y.f,o.e,Y.h,oe.n,Y.b,o.l,o.v,ce.a,X.a],styles:[""]}),e})();var Oc=n("Ytql"),Tc=n("7EHt"),wc=n("MutI"),Rc=n("f0Cb");function Ac(e,t){if(1&e){const e=c.Wb();c.Vb(0,"mat-list-item"),c.Pc(1,"\n          "),c.Vb(2,"mat-radio-button",6),c.gc("change",function(t){return c.Ec(e),c.kc(2).loteChange(t.value)}),c.Pc(3,"\n            "),c.Vb(4,"strong"),c.Pc(5,"Nombre:"),c.Ub(),c.Pc(6),c.Vb(7,"strong"),c.Pc(8,"Nro Lote:"),c.Ub(),c.Pc(9),c.Vb(10,"strong"),c.Pc(11,"Fecha Vencimiento:"),c.Ub(),c.Pc(12),c.Ub(),c.Pc(13,"\n          "),c.Qb(14,"mat-divider"),c.Pc(15,"\n        "),c.Ub()}if(2&e){const e=t.$implicit;c.Cb(2),c.sc("value",e),c.Cb(4),c.Rc(" ",e.lote.nombre," \xa0 "),c.Cb(3),c.Rc(" ",e.nroLote,"\n            \xa0\n            "),c.Cb(3),c.Rc(" ",e.fechaVtoString,"\n          ")}}function kc(e,t){if(1&e&&(c.Vb(0,"mat-list"),c.Pc(1,"\n        "),c.Nc(2,Ac,16,4,"mat-list-item",5),c.Pc(3,"\n      "),c.Ub()),2&e){const e=c.kc();c.Cb(2),c.sc("ngForOf",e.allLotes)}}function qc(e,t){1&e&&(c.Pc(0,"\n        "),c.Vb(1,"mat-list",7),c.Pc(2,"\n          "),c.Vb(3,"mat-list-item"),c.Pc(4,"\n            "),c.Vb(5,"p",8),c.Vb(6,"strong"),c.Pc(7," No hay lotes pendientes"),c.Ub(),c.Ub(),c.Pc(8,"\n          "),c.Ub(),c.Pc(9,"\n        "),c.Ub(),c.Pc(10,"\n      "))}function Bc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"mat-header-cell",26),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",27),c.gc("change",function(t){c.Ec(e);const n=c.kc(2);return t?n.masterToggle():null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&e){const e=c.kc(2);c.Cb(2),c.sc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function $c(e,t){if(1&e){const e=c.Wb();c.Vb(0,"mat-cell",26),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",28),c.gc("click",function(e){return e.stopPropagation()})("change",function(n){c.Ec(e);const o=t.$implicit,a=c.kc(2);return n?a.selection.toggle(o):null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&e){const e=t.$implicit,n=c.kc(2);c.Cb(2),c.sc("checked",n.selection.isSelected(e))}}function Lc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Ente"),c.Ub())}function Qc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Ente:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Rc("\n            ",e.ente.persona?e.ente.persona.apellido:null==e.ente.personaJuridica?null:e.ente.personaJuridica.nombreFantasia,"")}}function Mc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"F.Vencimiento"),c.Ub())}function _c(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.fechaVtoString)}}function Gc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Periodo"),c.Ub())}function Hc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit;c.Cb(6),c.Qc(e.periodo)}}function zc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Total"),c.Ub())}function Jc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,e.totalComprobante,"ARS","symbol","1.0-0"),"\n        ")}}function Yc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Saldo"),c.Ub())}function Wc(e,t){if(1&e&&(c.Vb(0,"mat-cell",31),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&e){const e=t.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,e.saldo,"ARS","symbol","1.0-0"),"\n        ")}}function Xc(e,t){1&e&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Estado"),c.Ub())}function Kc(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&e){const e=t.$implicit,n=c.kc(2);c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(e.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n            ",e.estadoComprobante.nombre,"\n          ")}}function Zc(e,t){1&e&&c.Qb(0,"mat-header-row")}function eo(e,t){1&e&&c.Qb(0,"mat-row")}function to(e,t){if(1&e&&(c.Tb(0),c.Pc(1,"\n  "),c.Vb(2,"div",9),c.Pc(3,"\n    "),c.Vb(4,"mat-table",10,11),c.Pc(7,"\n      "),c.Tb(8,12),c.Pc(9,"\n        "),c.Nc(10,Bc,5,2,"mat-header-cell",13),c.Pc(11,"\n        "),c.Nc(12,$c,5,1,"mat-cell",14),c.Pc(13,"\n      "),c.Sb(),c.Pc(14,"\n\n      "),c.Tb(15,15),c.Pc(16,"\n        "),c.Nc(17,Lc,2,0,"mat-header-cell",16),c.Pc(18,"\n        "),c.Nc(19,Qc,8,1,"mat-cell",17),c.Pc(20,"\n      "),c.Sb(),c.Pc(21,"\n\n      "),c.Tb(22,18),c.Pc(23,"\n        "),c.Nc(24,Mc,2,0,"mat-header-cell",16),c.Pc(25,"\n        "),c.Nc(26,_c,8,1,"mat-cell",17),c.Pc(27,"\n      "),c.Sb(),c.Pc(28,"\n\n      "),c.Tb(29,19),c.Pc(30,"\n        "),c.Nc(31,Gc,2,0,"mat-header-cell",16),c.Pc(32,"\n        "),c.Nc(33,Hc,8,1,"mat-cell",17),c.Pc(34,"\n      "),c.Sb(),c.Pc(35,"\n\n      "),c.Tb(36,20),c.Pc(37,"\n        "),c.Nc(38,zc,2,0,"mat-header-cell",16),c.Pc(39,"\n        "),c.Nc(40,Jc,6,6,"mat-cell",17),c.Pc(41,"\n      "),c.Sb(),c.Pc(42,"\n\n      "),c.Tb(43,21),c.Pc(44,"\n        "),c.Nc(45,Yc,2,0,"mat-header-cell",16),c.Pc(46,"\n        "),c.Nc(47,Wc,6,6,"mat-cell",22),c.Pc(48,"\n      "),c.Sb(),c.Pc(49,"\n\n      "),c.Tb(50,23),c.Pc(51,"\n        "),c.Nc(52,Xc,2,0,"mat-header-cell",16),c.Pc(53,"\n        "),c.Nc(54,Kc,8,4,"mat-cell",17),c.Pc(55,"\n      "),c.Sb(),c.Pc(56,"\n\n      "),c.Nc(57,Zc,1,0,"mat-header-row",24),c.Pc(58,"\n      "),c.Nc(59,eo,1,0,"mat-row",25),c.Pc(60,"\n    "),c.Ub(),c.Pc(61,"\n  "),c.Ub(),c.Pc(62,"\n"),c.Sb()),2&e){const e=c.kc();c.Cb(4),c.sc("dataSource",e.dataSource),c.Cb(53),c.sc("matHeaderRowDef",e.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",e.displayedColumns)}}function no(e,t){1&e&&(c.Pc(0,"\n  "),c.Vb(1,"div",32),c.Pc(2,"\n    "),c.Vb(3,"div"),c.Pc(4,"Cargando..."),c.Ub(),c.Pc(5,"\n  "),c.Ub(),c.Pc(6,"\n"))}function co(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n  "),c.Vb(2,"div",33),c.Pc(3,"\n    "),c.Vb(4,"div",34),c.Pc(5,"\n      "),c.Vb(6,"mat-form-field",35),c.Pc(7,"\n        "),c.Vb(8,"mat-label"),c.Pc(9,"Total a Pagar"),c.Ub(),c.Pc(10,"\n        "),c.Qb(11,"input",36),c.lc(12,"currency"),c.Pc(13,"\n      "),c.Ub(),c.Pc(14,"\n    "),c.Ub(),c.Pc(15,"\n  "),c.Ub(),c.Pc(16,"\n"),c.Ub()),2&e){const e=c.kc();c.Cb(11),c.sc("value",c.oc(12,1,e.totalComprobante,"ARS","symbol"))}}let oo=(()=>{class e{constructor(e,t){this.loteService=e,this.comprobanteService=t,this.displayedColumns=["Select","Ente","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.subscriptions=[],this.selection=new j.c(!0,[]),this.detalleResult=[],this.allLotes=[],this.loading=!1,this.formInfo=new c.o}ngOnInit(){this.loadLoteList(),this.subscriptions.push(this.selection.changed.subscribe(()=>{if(this.totalComprobante=0,this.selection.selected.length>0){let e=0;this.selection.selected.forEach(t=>{e+=t.saldo,this.totalComprobante=e}),this.formInfo.emit({datos:{comprobanteRef:this.selection.selected,totalComprobante:e},totalComprobante:e})}else this.formInfo.emit(null)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadLoteList(){this.loteService.getAllLotesPendientes().subscribe(e=>{this.allLotes=e})}loteChange(e){this.loading=!0,this.dataSource=null,this.loteService.getDetalleLote(e.nroLote).subscribe(e=>{this.detalleResult=e,this.dataSource=e,this.loading=!1}),this.selection.clear()}isAllSelected(){return this.selection.selected.length===this.detalleResult.length}masterToggle(){this.selection.selected.length===this.detalleResult.length?this.selection.clear():this.detalleResult.forEach(e=>this.selection.select(e))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(Oc.a),c.Pb(M.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["jhi-lote"]],outputs:{formInfo:"formInfo"},decls:34,vars:6,consts:[[3,"expanded"],[4,"ngIf","ngIfElse"],["noregistros",""],["elseTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","primary",3,"value","change"],["dense",""],["mat-line",""],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],["class","mat-column-checkbox",4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Ente"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"mat-column-checkbox"],["color","primary",3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[1,"font-medium","text-center","p-10"],["fxLayout","column","fxLayoutAlign","end end"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","fill"],["matInput","","disabled","",2,"font-size","20px","color","red",3,"value"]],template:function(e,t){if(1&e&&(c.Vb(0,"div"),c.Pc(1,"\n  "),c.Vb(2,"mat-accordion"),c.Pc(3,"\n    "),c.Vb(4,"mat-expansion-panel",0),c.Pc(5,"\n      "),c.Vb(6,"mat-expansion-panel-header"),c.Pc(7,"\n        "),c.Vb(8,"mat-panel-title"),c.Pc(9,"\n          "),c.Vb(10,"mat-icon"),c.Pc(11,"view_list"),c.Ub(),c.Pc(12,"\n          Lotes Pendientes\n        "),c.Ub(),c.Pc(13,"\n      "),c.Ub(),c.Pc(14,"\n\n      "),c.Nc(15,kc,4,1,"mat-list",1),c.Pc(16,"\n\n      "),c.Nc(17,qc,11,0,"ng-template",null,2,c.Oc),c.Pc(19,"\n    "),c.Ub(),c.Pc(20,"\n  "),c.Ub(),c.Pc(21,"\n"),c.Ub(),c.Pc(22,"\n"),c.Qb(23,"br"),c.Pc(24,"\n\n"),c.Nc(25,to,63,3,"ng-container",1),c.Pc(26,"\n\n"),c.Nc(27,no,7,0,"ng-template",null,3,c.Oc),c.Pc(29,"\n\n"),c.Qb(30,"br"),c.Pc(31,"\n"),c.Nc(32,co,17,5,"div",4),c.Pc(33,"\n")),2&e){const e=c.Cc(18),n=c.Cc(28);c.Cb(4),c.sc("expanded",!0),c.Cb(11),c.sc("ngIf",t.allLotes.length>0)("ngIfElse",e),c.Cb(10),c.sc("ngIf",!t.loading)("ngIfElse",n),c.Cb(7),c.sc("ngIf",(null==t.selection?null:t.selection.selected.length)>0)}},directives:[Tc.a,Tc.c,Tc.d,Tc.e,ae.a,Z.q,wc.a,Z.p,wc.c,Me.a,Rc.a,oe.k,te.j,ne.a,te.c,te.e,te.b,te.g,te.i,te.d,Qn.a,te.a,ne.b,te.f,te.h,H.d,H.c,H.a,Y.c,Y.g,W.b],pipes:[Z.d],styles:[""]}),e})(),ao=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({imports:[[E.a,F.i.forChild(qn),ze.b.forChild()]]}),e})();c.Ic(y,[o.z,o.r,o.k,H.d,H.a,Me.b,H.c,o.q,o.i,J.a,Me.a,Z.q,Dc,Cc,oo],[])}}]);