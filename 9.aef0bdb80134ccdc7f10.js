(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RKyK:function(c,t,e){"use strict";e.r(t),e.d(t,"HealthModule",function(){return k});var n=e("tyNb"),a=e("hbEq"),i=e("fXoL"),b=e("1kSV"),s=e("ofXK");function o(c,t){if(1&c&&(i.Vb(0,"h4",8),i.Lc(1,"\n    "),i.Vb(2,"span",9),i.Lc(3),i.Ub(),i.Lc(4,"\n  "),i.Ub()),2&c){const c=i.kc();i.Cb(3),i.Mc(c.health.key)}}function l(c,t){if(1&c&&(i.Vb(0,"tr"),i.Lc(1,"\n            "),i.Vb(2,"td",14),i.Lc(3),i.Ub(),i.Lc(4,"\n            "),i.Vb(5,"td",14),i.Lc(6),i.Ub(),i.Lc(7,"\n          "),i.Ub()),2&c){const c=t.$implicit,e=i.kc(2);i.Cb(3),i.Mc(c.key),i.Cb(3),i.Mc(e.readableValue(c.value))}}function r(c,t){if(1&c&&(i.Vb(0,"div"),i.Lc(1,"\n    "),i.Vb(2,"h5"),i.Lc(3,"Properties"),i.Ub(),i.Lc(4,"\n\n    "),i.Vb(5,"div",10),i.Lc(6,"\n      "),i.Vb(7,"table",11),i.Lc(8,"\n        "),i.Vb(9,"thead"),i.Lc(10,"\n          "),i.Vb(11,"tr"),i.Lc(12,"\n            "),i.Vb(13,"th",12),i.Lc(14,"Name"),i.Ub(),i.Lc(15,"\n            "),i.Vb(16,"th",12),i.Lc(17,"Value"),i.Ub(),i.Lc(18,"\n          "),i.Ub(),i.Lc(19,"\n        "),i.Ub(),i.Lc(20,"\n        "),i.Vb(21,"tbody"),i.Lc(22,"\n          "),i.Jc(23,l,8,2,"tr",13),i.lc(24,"keyvalue"),i.Lc(25,"\n        "),i.Ub(),i.Lc(26,"\n      "),i.Ub(),i.Lc(27,"\n    "),i.Ub(),i.Lc(28,"\n  "),i.Ub()),2&c){const c=i.kc();i.Cb(23),i.rc("ngForOf",i.mc(24,1,c.health.value.details))}}let h=(()=>{class c{constructor(c){this.activeModal=c}readableValue(c){var t;if("diskSpace"===(null===(t=this.health)||void 0===t?void 0:t.key)){const t=c/1073741824;return t>1?t.toFixed(2)+" GB":(c/1048576).toFixed(2)+" MB"}return"object"==typeof c?JSON.stringify(c):String(c)}dismiss(){this.activeModal.dismiss()}}return c.\u0275fac=function(t){return new(t||c)(i.Pb(b.a))},c.\u0275cmp=i.Jb({type:c,selectors:[["jhi-health-modal"]],decls:22,vars:2,consts:[[1,"modal-header"],["class","modal-title","id","showHealthLabel",4,"ngIf"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pad"],[4,"ngIf"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-secondary","float-left",3,"click"],["id","showHealthLabel",1,"modal-title"],[1,"text-capitalize"],[1,"table-responsive"],["aria-describedby","showHealthLabel",1,"table","table-striped"],["scope","col",1,"text-left"],[4,"ngFor","ngForOf"],[1,"text-left"]],template:function(c,t){1&c&&(i.Vb(0,"div",0),i.Lc(1,"\n  "),i.Jc(2,o,5,1,"h4",1),i.Lc(3,"\n\n  "),i.Vb(4,"button",2),i.gc("click",function(){return t.dismiss()}),i.Lc(5,"\n    "),i.Vb(6,"span",3),i.Lc(7,"\xd7"),i.Ub(),i.Lc(8,"\n  "),i.Ub(),i.Lc(9,"\n"),i.Ub(),i.Lc(10,"\n\n"),i.Vb(11,"div",4),i.Lc(12,"\n  "),i.Jc(13,r,29,3,"div",5),i.Lc(14,"\n"),i.Ub(),i.Lc(15,"\n\n"),i.Vb(16,"div",6),i.Lc(17,"\n  "),i.Vb(18,"button",7),i.gc("click",function(){return t.dismiss()}),i.Lc(19,"Done"),i.Ub(),i.Lc(20,"\n"),i.Ub(),i.Lc(21,"\n")),2&c&&(i.Cb(2),i.rc("ngIf",t.health),i.Cb(11),i.rc("ngIf",t.health))},directives:[s.p,s.o],pipes:[s.j],encapsulation:2}),c})();var d=e("tk/3"),L=e("PxL+");let u=(()=>{class c{constructor(c,t){this.http=c,this.applicationConfigService=t}checkHealth(){return this.http.get(this.applicationConfigService.getEndpointFor("management/health"))}}return c.\u0275fac=function(t){return new(t||c)(i.cc(d.b),i.cc(L.a))},c.\u0275prov=i.Lb({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var p=e("6NWb"),f=e("znSr");function g(c,t){if(1&c){const c=i.Wb();i.Vb(0,"a",13),i.gc("click",function(){i.Cc(c);const t=i.kc().$implicit;return i.kc(2).showHealth({key:t.key,value:t.value})}),i.Lc(1,"\n              "),i.Qb(2,"fa-icon",14),i.Lc(3,"\n            "),i.Ub()}}function V(c,t){if(1&c&&(i.Vb(0,"tr"),i.Lc(1,"\n          "),i.Vb(2,"td"),i.Lc(3,"\n            "),i.Vb(4,"span",9),i.Lc(5),i.Ub(),i.Lc(6,"\n          "),i.Ub(),i.Lc(7,"\n          "),i.Vb(8,"td",10),i.Lc(9,"\n            "),i.Vb(10,"span",11),i.Lc(11),i.Ub(),i.Lc(12,"\n          "),i.Ub(),i.Lc(13,"\n          "),i.Vb(14,"td",10),i.Lc(15,"\n            "),i.Jc(16,g,4,0,"a",12),i.Lc(17,"\n          "),i.Ub(),i.Lc(18,"\n        "),i.Ub()),2&c){const c=t.$implicit,e=i.kc(2);i.Cb(5),i.Mc(c.key),i.Cb(5),i.rc("ngClass",e.getBadgeClass(c.value.status)),i.Cb(1),i.Nc("\n              ",c.value.status,"\n            "),i.Cb(5),i.rc("ngIf",c.value.details)}}function U(c,t){if(1&c&&(i.Vb(0,"tbody"),i.Lc(1,"\n        "),i.Jc(2,V,19,4,"tr",8),i.lc(3,"keyvalue"),i.Lc(4,"\n      "),i.Ub()),2&c){const c=i.kc();i.Cb(2),i.rc("ngForOf",i.mc(3,1,c.health.components))}}const v={path:"",component:(()=>{class c{constructor(c,t){this.modalService=c,this.healthService=t}ngOnInit(){this.refresh()}getBadgeClass(c){return"UP"===c?"badge-success":"badge-danger"}refresh(){this.healthService.checkHealth().subscribe(c=>this.health=c,c=>{503===c.status&&(this.health=c.error)})}showHealth(c){this.modalService.open(h).componentInstance.health=c}}return c.\u0275fac=function(t){return new(t||c)(i.Pb(b.d),i.Pb(u))},c.\u0275cmp=i.Jb({type:c,selectors:[["jhi-health"]],decls:38,vars:1,consts:[["id","health-page-heading","data-cy","healthPageHeading"],[1,"btn","btn-primary","float-right",3,"click"],["icon","sync"],[1,"table-responsive"],["id","healthCheck","aria-describedby","health-page-heading",1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-capitalize"],[1,"text-center"],[1,"badge",3,"ngClass"],["class","hand",3,"click",4,"ngIf"],[1,"hand",3,"click"],["icon","eye"]],template:function(c,t){1&c&&(i.Vb(0,"div"),i.Lc(1,"\n  "),i.Vb(2,"h2"),i.Lc(3,"\n    "),i.Vb(4,"span",0),i.Lc(5,"Health Checks"),i.Ub(),i.Lc(6,"\n\n    "),i.Vb(7,"button",1),i.gc("click",function(){return t.refresh()}),i.Qb(8,"fa-icon",2),i.Lc(9," "),i.Vb(10,"span"),i.Lc(11,"Refresh"),i.Ub(),i.Ub(),i.Lc(12,"\n  "),i.Ub(),i.Lc(13,"\n\n  "),i.Vb(14,"div",3),i.Lc(15,"\n    "),i.Vb(16,"table",4),i.Lc(17,"\n      "),i.Vb(18,"thead"),i.Lc(19,"\n        "),i.Vb(20,"tr"),i.Lc(21,"\n          "),i.Vb(22,"th",5),i.Lc(23,"Service Name"),i.Ub(),i.Lc(24,"\n          "),i.Vb(25,"th",6),i.Lc(26,"Status"),i.Ub(),i.Lc(27,"\n          "),i.Vb(28,"th",6),i.Lc(29,"Details"),i.Ub(),i.Lc(30,"\n        "),i.Ub(),i.Lc(31,"\n      "),i.Ub(),i.Lc(32,"\n      "),i.Jc(33,U,5,3,"tbody",7),i.Lc(34,"\n    "),i.Ub(),i.Lc(35,"\n  "),i.Ub(),i.Lc(36,"\n"),i.Ub(),i.Lc(37,"\n")),2&c&&(i.Cb(33),i.rc("ngIf",t.health))},directives:[p.a,s.p,s.o,s.n,f.a],pipes:[s.j],encapsulation:2}),c})(),data:{pageTitle:"Health Checks"}};let k=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=i.Nb({type:c}),c.\u0275inj=i.Mb({imports:[[a.a,n.j.forChild([v])]]}),c})()}}]);