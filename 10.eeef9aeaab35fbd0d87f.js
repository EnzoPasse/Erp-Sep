(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Owrn:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("fXoL"),o=n("jhN1");let c=(()=>{class e{constructor(e,t){this.sanitizer=e,this.ngZone=t,this.type="danger",this.timeout=1e4,this.alertId=0,this.alerts=[]}clear(){this.alerts=[]}get(){return this.alerts}addAlert(e,t){var n,o,c,s;return e.id=this.alertId++,e.message=null!==(o=this.sanitizer.sanitize(r.K.HTML,null!==(n=e.message)&&void 0!==n?n:""))&&void 0!==o?o:"",e.timeout=null!==(c=e.timeout)&&void 0!==c?c:this.timeout,e.type=null!==(s=e.type)&&void 0!==s?s:this.type,e.close=t=>this.closeAlert(e.id,t),(null!=t?t:this.alerts).push(e),e.timeout>0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>{this.closeAlert(e.id,null!=t?t:this.alerts)})},e.timeout)}),e}closeAlert(e,t){const n=null!=t?t:this.alerts,r=n.map(e=>e.id).indexOf(e);r>=0&&n.splice(r,1)}}return e.\u0275fac=function(t){return new(t||e)(r.cc(o.b),r.cc(r.B))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=n("A34J"),i=n("ofXK"),a=n("znSr"),b=n("bTqV"),l=n("XiUz"),u=n("NFeN");function m(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div"),r.Pc(1,"\n  "),r.Vb(2,"div",1),r.Pc(3,"\n    "),r.Vb(4,"button",2),r.gc("click",function(){r.Ec(e);const n=t.$implicit;return r.kc().close(n)}),r.Pc(5,"\n      "),r.Vb(6,"span",3),r.Pc(7,"\n        "),r.Vb(8,"mat-icon",4),r.Pc(9,"clear"),r.Ub(),r.Pc(10,"\n      "),r.Ub(),r.Pc(11,"\n    "),r.Ub(),r.Pc(12,"\n    "),r.Vb(13,"span",5),r.Pc(14,"\n      "),r.Vb(15,"strong"),r.Pc(16),r.Ub(),r.Pc(17,"\n    "),r.Ub(),r.Pc(18,"\n  "),r.Ub(),r.Pc(19,"\n"),r.Ub()}if(2&e){const e=t.$implicit,n=r.kc();r.Cb(2),r.sc("ngClass",n.setClasses(e)),r.Cb(14),r.Rc("",e.message," ")}}let d=(()=>{class e{constructor(e,t){this.alertService=e,this.eventManager=t,this.alerts=[],this.errorListener=t.subscribe("erpSepApp.error",e=>{const t=e.content;this.addErrorAlert(t.message,t.type)}),this.httpErrorListener=t.subscribe("erpSepApp.httpError",e=>{const t=e.content;switch(t.status){case 0:this.addErrorAlert("Servidor inactivo");break;case 400:{const e=t.headers.keys();let n=null;for(const r of e)r.toLowerCase().endsWith("messageerp")&&(n=t.headers.get(r));n?this.addErrorAlert(n):this.addErrorAlert(t.message?t.message:t.error.message,"warning");break}case 404:this.addErrorAlert("Recurso no encontrado.","warning");break;default:{const e=t.headers.keys();let n=null;for(const r of e)r.toLowerCase().endsWith("messageerp")&&(n=t.headers.get(r));n&&this.addErrorAlert(n)}}})}setClasses(e){const t={alert:!0};switch(e.type){case"warning":return Object.assign(Object.assign({},t),{"bg-warning":!0});case"info":return Object.assign(Object.assign({},t),{"bg-info":!0});case"success":return Object.assign(Object.assign({},t),{"bg-success":!0});default:return Object.assign(Object.assign({},t),{"bg-danger":!0})}}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(e){var t;null===(t=e.close)||void 0===t||t.call(e,this.alerts)}addErrorAlert(e,t){this.alertService.addAlert({type:t,message:e},this.alerts)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(c),r.Pb(s.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["jhi-alert-error"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],["mat-icon-button","",3,"click"],["fxFlex",""],[2,"align-self","center"],[2,"word-wrap","break-word"]],template:function(e,t){1&e&&(r.Pc(0,"\n\n"),r.Nc(1,m,20,2,"div",0),r.Pc(2,"\n")),2&e&&(r.Cb(1),r.sc("ngForOf",t.alerts))},directives:[i.p,i.o,a.a,b.a,l.a,u.a],encapsulation:2}),e})()},PUjd:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginModule",function(){return L});var r=n("tyNb"),o=n("hbEq"),c=n("3Pt+"),s=n("fXoL"),i=n("nUxK"),a=n("tk/3");let b=(()=>{class e{constructor(e){this.http=e}forgot(e){return this.http.put(`${i.b}/login/RestaurarClave?nombre=${e}`,{})}}return e.\u0275fac=function(t){return new(t||e)(s.cc(a.b))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("Wp6s"),u=n("Owrn"),m=n("bTqV"),d=n("Qu3c"),g=n("NFeN"),P=n("XiUz"),h=n("kmnG"),f=n("qFsG");const p=function(){return["/auth/login"]};let v=(()=>{class e{constructor(e,t,n){this.fb=e,this.router=t,this.forgotPswService=n,this.forgotForm=this.fb.group({username:[null,[c.y.required]]})}onSubmit(){var e;this.forgotPswService.forgot(null===(e=this.username)||void 0===e?void 0:e.value).subscribe({next:()=>{this.router.navigate(["/auth/login"])}})}get username(){return this.forgotForm.controls.username}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(c.f),s.Pb(r.f),s.Pb(b))},e.\u0275cmp=s.Jb({type:e,selectors:[["jhi-forgot"]],decls:63,vars:4,consts:[[1,"login-register",2,"background-image","url(content/images/bg-financial.jpg)"],[1,"login-register-box"],[3,"formGroup","ngSubmit"],[1,"text-rigth"],["mat-mini-fab","","color","primary","matTooltip","Volver",3,"routerLink"],[1,"text-center"],["alt","homepage","src","content/images/logo-icon.png"],[1,"m-t-0"],[1,"text-center","font-14"],["fxLayout","column","fxLayoutAlign","space-around"],[1,"pb-1"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","username"],["mat-raised-button","","color","primary","type","submit",1,"btn-block","btn-lg","m-t-20",3,"disabled"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Pc(1,"\n  "),s.Vb(2,"div",1),s.Pc(3,"\n    "),s.Vb(4,"mat-card"),s.Pc(5,"\n      "),s.Vb(6,"mat-card-content"),s.Pc(7,"\n        "),s.Qb(8,"jhi-alert-error"),s.Pc(9,"\n\n        "),s.Vb(10,"form",2),s.gc("ngSubmit",function(){return t.onSubmit()}),s.Pc(11,"\n          "),s.Vb(12,"div",3),s.Pc(13,"\n            "),s.Vb(14,"button",4),s.Pc(15,"\n              "),s.Vb(16,"mat-icon"),s.Pc(17,"arrow_back"),s.Ub(),s.Pc(18,"\n            "),s.Ub(),s.Pc(19,"\n          "),s.Ub(),s.Pc(20,"\n          "),s.Vb(21,"div",5),s.Pc(22,"\n            "),s.Qb(23,"img",6),s.Pc(24,"\n            "),s.Vb(25,"h4",7),s.Pc(26,"Recuperacion de Contrase\xf1a"),s.Ub(),s.Pc(27,"\n          "),s.Ub(),s.Pc(28,"\n          "),s.Vb(29,"p",8),s.Pc(30,"\n            Ingrese su "),s.Vb(31,"strong"),s.Pc(32,"Usuario"),s.Ub(),s.Pc(33," y le enviaremos a su "),s.Vb(34,"strong"),s.Pc(35,"e-mail"),s.Ub(),s.Pc(36," la nueva contrase\xf1a\n          "),s.Ub(),s.Pc(37,"\n\n          "),s.Vb(38,"div",9),s.Pc(39,"\n            "),s.Vb(40,"div",10),s.Pc(41,"\n              "),s.Vb(42,"mat-form-field",11),s.Pc(43,"\n                "),s.Vb(44,"mat-label"),s.Pc(45,"Usuario "),s.Ub(),s.Pc(46,"\n                "),s.Qb(47,"input",12),s.Pc(48,"\n              "),s.Ub(),s.Pc(49,"\n              "),s.Vb(50,"small"),s.Pc(51," "),s.Ub(),s.Pc(52,"\n            "),s.Ub(),s.Pc(53,"\n            "),s.Vb(54,"button",13),s.Pc(55,"\n              Enviar\n            "),s.Ub(),s.Pc(56,"\n          "),s.Ub(),s.Pc(57,"\n        "),s.Ub(),s.Pc(58,"\n      "),s.Ub(),s.Pc(59,"\n    "),s.Ub(),s.Pc(60,"\n  "),s.Ub(),s.Pc(61,"\n"),s.Ub(),s.Pc(62,"\n")),2&e&&(s.Cb(10),s.sc("formGroup",t.forgotForm),s.Cb(4),s.sc("routerLink",s.wc(3,p)),s.Cb(40),s.sc("disabled",!t.forgotForm.valid))},directives:[l.a,l.c,u.a,c.z,c.r,c.k,m.a,d.a,r.g,g.a,P.d,P.c,h.c,h.g,f.b,c.c,c.q,c.i],encapsulation:2}),e})();var U=n("TXJZ"),V=n("fiib"),w=n("ofXK"),C=n("d3UM"),x=n("FKr1"),F=n("bSwM");const y=["username"];function k(e,t){1&e&&(s.Vb(0,"small",22),s.Pc(1,"Usuario necesario."),s.Ub())}function E(e,t){1&e&&(s.Vb(0,"small",22),s.Pc(1,"Contrase\xf1a requerido."),s.Ub())}function S(e,t){if(1&e&&(s.Vb(0,"mat-option",23),s.Pc(1),s.Vb(2,"small"),s.Pc(3),s.Ub(),s.Ub()),2&e){const e=t.$implicit;s.sc("value",e),s.Cb(1),s.Rc("",e.nombre," "),s.Cb(2),s.Sc("[",e.fechaDesde," - ",e.fechaHasta,"]")}}function A(e,t){1&e&&(s.Vb(0,"small",22),s.Pc(1,"Periodo requerido."),s.Ub())}const O=function(){return["/auth/forgot"]},j={path:"",children:[{path:"forgot",component:v},{path:"login",component:(()=>{class e{constructor(e,t,n,r){this.accountService=e,this.loginService=t,this.router=n,this.fb=r,this.authenticationError=!1,this.periods=[],this.loginForm=this.fb.group({username:["admin",[c.y.required]],password:["102030",[c.y.required]],periodo:[null,[c.y.required]],rememberMe:[!1]})}ngOnInit(){this.accountService.getAllPeriod().subscribe(e=>this.periods=e),this.accountService.identity().subscribe(()=>{this.accountService.isAuthenticated()&&this.router.navigate(["home"])})}ngAfterContentInit(){this.username&&this.username.nativeElement.focus()}login(){this.loginService.login({nombre:this.loginForm.get("username").value,clave:this.loginForm.get("password").value,idPeriodoContable:this.loginForm.get("periodo").value.id,rememberMe:this.loginForm.get("rememberMe").value}).subscribe(()=>{this.authenticationError=!1,this.router.getCurrentNavigation()||this.router.navigate(["home"])},()=>this.authenticationError=!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(U.a),s.Pb(V.a),s.Pb(r.f),s.Pb(c.f))},e.\u0275cmp=s.Jb({type:e,selectors:[["jhi-login"]],viewQuery:function(e,t){if(1&e&&s.Uc(y,1),2&e){let e;s.Bc(e=s.hc())&&(t.username=e.first)}},decls:102,vars:10,consts:[[1,"login-register",2,"background-image","url(content/images/bg-financial.jpg)"],[1,"login-register-box"],[3,"formGroup","ngSubmit"],[1,"text-center"],["alt","homepage","src","content/images/logo-icon.png"],[1,"m-t-0"],["fxLayout","row wrap"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","",3,"formControl"],["username",""],["class","text-danger support-text",4,"ngIf"],["matInput","","type","password","autocomplete","username",3,"formControl"],["for","select"],["formControlName","periodo","aria-describedby","periodoHelp"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["fxFlex.gt-sm","50","fxFlex.gt-xs","50"],["color","warn","formControlName","rememberMe"],["fxFlex.gt-sm","50","fxFlex.gt-xs","50",1,"text-right"],[1,"link",3,"routerLink"],["mat-raised-button","","color","primary","type","submit",1,"btn-block","btn-lg","m-t-20","m-b-20",3,"disabled"],[1,"text-danger","support-text"],[3,"value"]],template:function(e,t){1&e&&(s.Pc(0,"\n\n"),s.Vb(1,"div",0),s.Pc(2,"\n  "),s.Vb(3,"div",1),s.Pc(4,"\n    "),s.Vb(5,"mat-card"),s.Pc(6,"\n      "),s.Vb(7,"mat-card-content"),s.Pc(8,"\n        "),s.Qb(9,"jhi-alert-error"),s.Pc(10,"\n\n        "),s.Vb(11,"form",2),s.gc("ngSubmit",function(){return t.login()}),s.Pc(12,"\n          "),s.Vb(13,"div",3),s.Pc(14,"\n            "),s.Qb(15,"img",4),s.Pc(16,"\n            "),s.Pc(17,"\n            "),s.Vb(18,"h4",5),s.Pc(19,"Ingresar a DEMO-ERP"),s.Ub(),s.Pc(20,"\n          "),s.Ub(),s.Pc(21,"\n\n          "),s.Vb(22,"div",6),s.Pc(23,"\n            "),s.Pc(24,"\n            "),s.Vb(25,"div",7),s.Pc(26,"\n              "),s.Vb(27,"mat-form-field",8),s.Pc(28,"\n                "),s.Vb(29,"mat-label"),s.Pc(30,"Usuario "),s.Ub(),s.Pc(31,"\n                "),s.Qb(32,"input",9,10),s.Pc(34,"\n              "),s.Ub(),s.Pc(35,"\n              "),s.Nc(36,k,2,0,"small",11),s.Pc(37,"\n            "),s.Ub(),s.Pc(38,"\n            "),s.Pc(39,"\n            "),s.Vb(40,"div",7),s.Pc(41,"\n              "),s.Vb(42,"mat-form-field",8),s.Pc(43,"\n                "),s.Vb(44,"mat-label"),s.Pc(45,"Contrase\xf1a "),s.Ub(),s.Pc(46,"\n                "),s.Qb(47,"input",12),s.Pc(48,"\n              "),s.Ub(),s.Pc(49,"\n              "),s.Nc(50,E,2,0,"small",11),s.Pc(51,"\n            "),s.Ub(),s.Pc(52,"\n\n            "),s.Vb(53,"div",7),s.Pc(54,"\n              "),s.Vb(55,"mat-form-field",8),s.Pc(56,"\n                "),s.Vb(57,"mat-label",13),s.Pc(58,"Periodo Contable "),s.Ub(),s.Pc(59,"\n                "),s.Vb(60,"mat-select",14),s.Pc(61,"\n                  "),s.Vb(62,"mat-option",15),s.Pc(63,"Per\xedodo del Ejercicio Contable"),s.Ub(),s.Pc(64,"\n                  "),s.Nc(65,S,4,4,"mat-option",16),s.Pc(66,"\n                "),s.Ub(),s.Pc(67,"\n              "),s.Ub(),s.Pc(68,"\n              "),s.Nc(69,A,2,0,"small",11),s.Pc(70,"\n            "),s.Ub(),s.Pc(71,"\n\n            "),s.Pc(72,"\n            "),s.Vb(73,"div",17),s.Pc(74,"\n              "),s.Vb(75,"mat-checkbox",18),s.Pc(76,"Recu\xe9rdame"),s.Ub(),s.Pc(77,"\n            "),s.Ub(),s.Pc(78,"\n            "),s.Pc(79,"\n            "),s.Vb(80,"div",19),s.Pc(81,"\n              "),s.Vb(82,"a",20),s.Pc(83,"Olvid\xf3 su contrase\xf1a?"),s.Ub(),s.Pc(84,"\n            "),s.Ub(),s.Pc(85,"\n            "),s.Pc(86,"\n            "),s.Vb(87,"div",7),s.Pc(88,"\n              "),s.Vb(89,"button",21),s.Pc(90,"\n                Ingresar\n              "),s.Ub(),s.Pc(91,"\n            "),s.Ub(),s.Pc(92,"\n            "),s.Pc(93,"\n            "),s.Pc(94,"\n            "),s.Pc(95,"\n          "),s.Ub(),s.Pc(96,"\n        "),s.Ub(),s.Pc(97,"\n      "),s.Ub(),s.Pc(98,"\n    "),s.Ub(),s.Pc(99,"\n  "),s.Ub(),s.Pc(100,"\n"),s.Ub(),s.Pc(101,"\n")),2&e&&(s.Cb(11),s.sc("formGroup",t.loginForm),s.Cb(21),s.sc("formControl",t.loginForm.controls.username),s.Cb(4),s.sc("ngIf",t.loginForm.controls.username.hasError("required")&&t.loginForm.controls.username.touched),s.Cb(11),s.sc("formControl",t.loginForm.controls.password),s.Cb(3),s.sc("ngIf",t.loginForm.controls.password.hasError("required")&&t.loginForm.controls.password.touched),s.Cb(15),s.sc("ngForOf",t.periods),s.Cb(4),s.sc("ngIf",t.loginForm.controls.periodo.hasError("required")&&t.loginForm.controls.periodo.touched),s.Cb(13),s.sc("routerLink",s.wc(9,O)),s.Cb(7),s.sc("disabled",!t.loginForm.valid))},directives:[l.a,l.c,u.a,c.z,c.r,c.k,P.d,P.a,h.c,h.g,f.b,c.c,c.q,c.h,w.q,C.a,c.i,x.n,w.p,F.a,r.h,m.a],encapsulation:2}),e})()}]};let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({imports:[[o.a,r.i.forChild([j])]]}),e})()}}]);