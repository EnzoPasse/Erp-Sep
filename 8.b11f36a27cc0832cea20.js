(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DeO8:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var c=n("0EQZ"),o=n("0IaG"),a=n("+0xr"),i=n("fXoL"),r=n("Wp6s"),s=n("bTqV"),l=n("ofXK"),b=n("bv9b");function m(t,e){1&t&&i.Qb(0,"mat-progress-bar",4)}let u=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.viewLoading=!1,this.displayedColumns=["select","Cheque","Nro","Nombre","F.Emision","F.Presentacion","Importe"],this.selection=new c.c(!0,[]),this.dataSource=new a.k([{}])}ngOnInit(){this.dataSource.data=this.data.documents?this.data.documents:[]}onNoClick(){this.dialogRef.close()}onYesClick(){this.viewLoading=!0,setTimeout(()=>{this.dialogRef.close(this.selection.selected),this.viewLoading=!1},1500)}isAllSelected(){return this.selection.selected.length===this.data.documents.length}masterToggle(){this.selection.selected.length===this.data.documents.length?this.selection.clear():this.data.documents.forEach(t=>this.selection.select(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.d),i.Pb(o.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["jhi-delete-entity-dialog"]],decls:23,vars:4,consts:[["align","start"],["mat-button","",3,"click"],["mat-button","","color","primary","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(t,e){1&t&&(i.Vb(0,"mat-card"),i.Pc(1,"\n  "),i.Vb(2,"mat-card-title"),i.Pc(3),i.Ub(),i.Pc(4,"\n  "),i.Vb(5,"mat-card-content"),i.Pc(6),i.Ub(),i.Pc(7,"\n  "),i.Vb(8,"mat-card-actions",0),i.Pc(9,"\n    "),i.Vb(10,"button",1),i.gc("click",function(){return e.onNoClick()}),i.Pc(11,"Cancelar"),i.Ub(),i.Pc(12,"\n    "),i.Vb(13,"button",2),i.gc("click",function(){return e.onYesClick()}),i.Pc(14,"Eliminar"),i.Ub(),i.Pc(15,"\n  "),i.Ub(),i.Pc(16,"\n  "),i.Vb(17,"mat-card-footer"),i.Pc(18,"\n    "),i.Nc(19,m,1,0,"mat-progress-bar",3),i.Pc(20,"\n  "),i.Ub(),i.Pc(21,"\n"),i.Ub(),i.Pc(22,"\n")),2&t&&(i.Cb(3),i.Qc(e.data.title),i.Cb(3),i.Rc("\n    ",e.viewLoading?e.data.waitDesciption:e.data.description,"\n  "),i.Cb(7),i.sc("disabled",e.viewLoading),i.Cb(6),i.sc("ngIf",e.viewLoading))},directives:[r.a,r.g,r.c,r.b,s.a,r.d,l.q,b.a],encapsulation:2}),t})();var d=n("jhN1");let p=(()=>{class t{constructor(t){this._sanitizer=t}transform(t,e){switch(e){case"html":return this._sanitizer.bypassSecurityTrustHtml(t);case"style":return this._sanitizer.bypassSecurityTrustStyle(t);case"script":return this._sanitizer.bypassSecurityTrustScript(t);case"url":return this._sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(t);default:return this._sanitizer.bypassSecurityTrustHtml(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(d.b))},t.\u0275pipe=i.Ob({name:"safe",type:t,pure:!0}),t})(),P=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.d),i.Pb(o.a,8))},t.\u0275cmp=i.Jb({type:t,selectors:[["jhi-print-entity-dialog"]],decls:3,vars:4,consts:[["type","application/pdf","width","100%","height","100%",3,"src"]],template:function(t,e){1&t&&(i.Qb(0,"iframe",0),i.lc(1,"safe"),i.Pc(2,"\n")),2&t&&i.sc("src",i.nc(1,1,e.data,"resourceUrl"),i.Gc)},pipes:[p],encapsulation:2}),t})(),h=(()=>{class t{constructor(t){this.dialog=t}deleteElement(t="",e="",n="",c){return this.dialog.open(u,c?{data:{title:t,description:e,waitDesciption:n,documents:c},width:"1000px"}:{data:{title:t,description:e,waitDesciption:n},width:"440px"})}printElements(t){return this.dialog.open(P,{data:t,width:"70%",height:"90%"})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(o.b))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Dfyc:function(t,e,n){"use strict";n.d(e,"a",function(){return c});class c{constructor(t,e="asc",n="",c=1,o=10){this.filter=t,this.sortOrder=e,this.sortField=n,this.pageNumber=c,this.pageSize=o}}},F9KZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("2Vo4"),o=n("LRne"),a=n("/uUt"),i=n("zP0r");class r{constructor(){this.entitySubject=new c.a([]),this.hasItems=!1,this.loading$=Object(o.a)(!1),this.isPreloadTextViewed$=Object(o.a)(!0),this.paginatorTotalSubject=new c.a(0),this.loadingSubject=new c.a(!1),this.subscriptions=[],this.paginatorTotal$=this.paginatorTotalSubject.asObservable(),this.loading$=this.loadingSubject.asObservable();const t=this.paginatorTotal$.pipe(Object(a.a)(),Object(i.a)(1)).subscribe(t=>this.hasItems=t>0);this.subscriptions.push(t)}connect(){return this.entitySubject.asObservable()}disconnect(){this.entitySubject.complete(),this.paginatorTotalSubject.complete(),this.subscriptions.forEach(t=>t.unsubscribe())}}},Owrn:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var c=n("fXoL"),o=n("jhN1");let a=(()=>{class t{constructor(t,e){this.sanitizer=t,this.ngZone=e,this.type="danger",this.timeout=1e4,this.alertId=0,this.alerts=[]}clear(){this.alerts=[]}get(){return this.alerts}addAlert(t,e){var n,o,a,i;return t.id=this.alertId++,t.message=null!==(o=this.sanitizer.sanitize(c.K.HTML,null!==(n=t.message)&&void 0!==n?n:""))&&void 0!==o?o:"",t.timeout=null!==(a=t.timeout)&&void 0!==a?a:this.timeout,t.type=null!==(i=t.type)&&void 0!==i?i:this.type,t.close=e=>this.closeAlert(t.id,e),(null!=e?e:this.alerts).push(t),t.timeout>0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>{this.closeAlert(t.id,null!=e?e:this.alerts)})},t.timeout)}),t}closeAlert(t,e){const n=null!=e?e:this.alerts,c=n.map(t=>t.id).indexOf(t);c>=0&&n.splice(c,1)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(o.b),c.cc(c.B))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var i=n("ksCG"),r=n("ofXK"),s=n("znSr"),l=n("bTqV"),b=n("XiUz"),m=n("NFeN");function u(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div"),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"button",2),c.gc("click",function(){c.Ec(t);const n=e.$implicit;return c.kc().close(n)}),c.Pc(5,"\n      "),c.Vb(6,"span",3),c.Pc(7,"\n        "),c.Vb(8,"mat-icon",4),c.Pc(9,"clear"),c.Ub(),c.Pc(10,"\n      "),c.Ub(),c.Pc(11,"\n    "),c.Ub(),c.Pc(12,"\n    "),c.Vb(13,"span",5),c.Pc(14,"\n      "),c.Vb(15,"strong"),c.Pc(16),c.Ub(),c.Pc(17,"\n    "),c.Ub(),c.Pc(18,"\n  "),c.Ub(),c.Pc(19,"\n"),c.Ub()}if(2&t){const t=e.$implicit,n=c.kc();c.Cb(2),c.sc("ngClass",n.setClasses(t)),c.Cb(14),c.Rc("",t.message," ")}}let d=(()=>{class t{constructor(t,e){this.alertService=t,this.eventManager=e,this.alerts=[],this.errorListener=e.subscribe("erpSepApp.error",t=>{const e=t.content;this.addErrorAlert(e.message,e.type)}),this.httpErrorListener=e.subscribe("erpSepApp.httpError",t=>{const e=t.content;switch(e.status){case 0:this.addErrorAlert("Servidor inactivo");break;case 400:{const t=e.headers.keys();let n=null;for(const c of t)c.toLowerCase().endsWith("messageerp")&&(n=e.headers.get(c));n?this.addErrorAlert(n):this.addErrorAlert(e.message?e.message:e.error.message,"warning");break}case 404:this.addErrorAlert("Recurso no encontrado.","warning");break;default:{const t=e.headers.keys();let n=null;for(const c of t)c.toLowerCase().endsWith("messageerp")&&(n=e.headers.get(c));n&&this.addErrorAlert(n)}}})}setClasses(t){const e={alert:!0};switch(t.type){case"warning":return Object.assign(Object.assign({},e),{"bg-warning":!0});case"info":return Object.assign(Object.assign({},e),{"bg-info":!0});case"success":return Object.assign(Object.assign({},e),{"bg-success":!0});default:return Object.assign(Object.assign({},e),{"bg-danger":!0})}}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(t){var e;null===(e=t.close)||void 0===e||e.call(t,this.alerts)}addErrorAlert(t,e){this.alertService.addAlert({type:e,message:t},this.alerts)}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(a),c.Pb(i.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-alert-error"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],["mat-icon-button","",3,"click"],["fxFlex",""],[2,"align-self","center"],[2,"word-wrap","break-word"]],template:function(t,e){1&t&&(c.Pc(0,"\n\n"),c.Nc(1,u,20,2,"div",0),c.Pc(2,"\n")),2&t&&(c.Cb(1),c.sc("ngForOf",e.alerts))},directives:[r.p,r.o,s.a,l.a,b.a,m.a],encapsulation:2}),t})()},Ytql:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("tk/3"),o=n("fXoL"),a=n("PxL+");let i=(()=>{class t{constructor(t,e){this.http=t,this.applicationConfigService=e,this.deudaUrl=this.applicationConfigService.getEndpointFor("/deuda"),this.comprobanteUrl=this.applicationConfigService.getEndpointFor("/comprobante")}subirArchivoDeuda(t,e,n){const o=`${this.deudaUrl}/createCpteDeudaLote/?fechaContable=${e}&fechaVencimiento=${n}`,a=new FormData;a.append("archivo",t);const i=new c.e("POST",o,a,{reportProgress:!0});return this.http.request(i)}getAllLotesPendientes(){return this.http.get(`${this.comprobanteUrl}/getCpteLote`)}getDetalleLote(t){return this.http.get(`${this.comprobanteUrl}/getCpteLoteDetalle?nroLote=${t}`)}deleteLote(t){return this.http.delete(`${this.deudaUrl}/delete/?id=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.cc(c.b),o.cc(a.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},jX33:function(t,e,n){"use strict";n.r(e),n.d(e,"PayModule",function(){return Vn});var c=n("fXoL"),o=n("3Pt+"),a=function(t){return t.CUENTA_CORRIENTE="CUENTA CORRIENTE",t.DIRECTO="DIRECTO",t.LOTE="LOTE",t}({}),i=n("Kj3r"),r=n("EYEu");n("bzzm"),n("AOSR"),n("TeOp"),n("VKys");class s{constructor(t,e,n,c,o,a,i,r,s,l,b){this.id=t,this.idComprobante=e,this.cajaCuentaBanco=n,this.documento=c,this.factor=o,this.fechaString=a,this.concepto=i,this.importe=r,this.medioPago=s,this.usuario=l,this.receptor=b}}var l=n("8usy"),b=n("tk/3"),m=n("PxL+");let u=(()=>{class t{constructor(t,e){this.http=t,this.applicationConfigService=e,this.resurceUrl=this.applicationConfigService.getEndpointFor("/medioPago")}getAll(){return this.http.get(`${this.resurceUrl}/get`)}getAllPorIdMFA(t){return this.http.get(`${this.resurceUrl}/get/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(b.b),c.cc(m.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("2Vo4");let p=(()=>{class t{constructor(t){this.http=t,this._compro=new d.a(null),this._mCBanco=new d.a(null),this._doc=new d.a(null)}crearComprobanteStep1(t){const e=Object.assign(Object.assign({},new r.a),t);console.log(e)}crearMovimientoCajaBanco(t,e,n){this.comprobante.fechaContableString=t.fechaContableString,this.comprobante.periodo=t.periodo;const c=new s;c.cajaCuentaBanco=t.cajaCuentaBanco,c.receptor=t.receptor,c.importe=n,c.medioPago=e,this.comprobante.movimientoCajaBanco.push(c),console.log(this.comprobante)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(b.b))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function P(t,e){if(1&t&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"DIRECTO"),c.Ub()),2&t){const t=c.kc();c.tc("value",t.PaymentsType.DIRECTO)}}function h(t,e){if(1&t&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"CUENTA CORRIENTE\n          "),c.Ub()),2&t){const t=c.kc();c.tc("value",t.PaymentsType.CUENTA_CORRIENTE)}}function f(t,e){if(1&t&&(c.Vb(0,"mat-radio-button",8),c.Pc(1,"LOTE"),c.Ub()),2&t){const t=c.kc();c.tc("value",t.PaymentsType.LOTE)}}function g(t,e){if(1&t){const t=c.Wb();c.Vb(0,"jhi-directo",9),c.gc("formInfo",function(e){return c.Ec(t),c.kc().formEmited(e)}),c.Ub()}}function C(t,e){if(1&t){const t=c.Wb();c.Vb(0,"jhi-cuenta-corriente",9),c.gc("formInfo",function(e){return c.Ec(t),c.kc().formEmited(e)}),c.Pc(1,"\n    "),c.Ub()}}function v(t,e){if(1&t){const t=c.Wb();c.Vb(0,"jhi-lote",9),c.gc("formInfo",function(e){return c.Ec(t),c.kc().formEmited(e)}),c.Pc(1," "),c.Ub()}}let V=(()=>{class t{constructor(t,e){this.fb=t,this.payService=e,this.PaymentsType=a,this.tipoPagoForm=this.fb.group({tipoPagoSelected:["",o.v.required],total:["",o.v.required]}),this.totalPagoInfo=new c.o}ngOnInit(){this.subscription=this.tipoPagoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(t=>{var e;this.totalPagoInfo.emit("VALID"===t?null===(e=this.tipoPagoForm.get("total"))||void 0===e?void 0:e.value:null)})}changeTipoPago(){var t;null===(t=this.tipoPagoForm.get("total"))||void 0===t||t.patchValue(null)}formEmited(t){var e;t?(null===(e=this.tipoPagoForm.get("total"))||void 0===e||e.patchValue(null==t?void 0:t.totalComprobante),this.payService.crearComprobanteStep1(t)):this.changeTipoPago()}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(o.e),c.Pb(p))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-step1-tipo-orden"]],outputs:{totalPagoInfo:"totalPagoInfo"},decls:32,vars:7,consts:[[1,"m-t-10"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100"],["color","warn","fxLayout","column","fxLayoutAlign","center start","fxLayout.gt-xs","row","fxLayoutAlign.gt-sm","space-evenly center","formControlName","tipoPagoSelected","name","tipo",1,"radio-group",3,"change"],["class","radio-button",3,"value",4,"jhiHasAnyAuthority"],[1,"p-30"],[3,"formInfo",4,"ngIf"],[1,"radio-button",3,"value"],[3,"formInfo"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"form",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"div",3),c.Pc(7,"\n        "),c.Vb(8,"mat-radio-group",4),c.gc("change",function(){return e.changeTipoPago()}),c.Pc(9,"\n          "),c.Nc(10,P,2,1,"mat-radio-button",5),c.Pc(11,"\n          "),c.Nc(12,h,2,1,"mat-radio-button",5),c.Pc(13,"\n          "),c.Nc(14,f,2,1,"mat-radio-button",5),c.Pc(15,"\n        "),c.Ub(),c.Pc(16,"\n      "),c.Ub(),c.Pc(17,"\n    "),c.Ub(),c.Pc(18,"\n\n    "),c.Vb(19,"div",6),c.Pc(20,"\n      "),c.Qb(21,"hr"),c.Pc(22,"\n    "),c.Ub(),c.Pc(23,"\n\n    "),c.Nc(24,g,1,0,"jhi-directo",7),c.Pc(25,"\n\n    "),c.Nc(26,C,2,0,"jhi-cuenta-corriente",7),c.Pc(27,"\n\n    "),c.Nc(28,v,2,0,"jhi-lote",7),c.Pc(29,"\n  "),c.Ub(),c.Pc(30,"\n"),c.Ub(),c.Pc(31,"\n")),2&t&&(c.Cb(2),c.sc("formGroup",e.tipoPagoForm),c.Cb(8),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago Directo"),c.Cb(2),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago a Cuenta Corriente"),c.Cb(2),c.sc("jhiHasAnyAuthority","Accion Crear Orden de Pago a Lote"),c.Cb(10),c.sc("ngIf",e.tipoPagoForm.controls.tipoPagoSelected.value===e.PaymentsType.DIRECTO),c.Cb(2),c.sc("ngIf",e.tipoPagoForm.controls.tipoPagoSelected.value===e.PaymentsType.CUENTA_CORRIENTE),c.Cb(2),c.sc("ngIf",e.tipoPagoForm.controls.tipoPagoSelected.value===e.PaymentsType.LOTE))},styles:[""]}),t})();var U=n("hbEq"),S=n("tyNb"),y=n("elZ2"),E=n("mHTL"),I=n("0EQZ"),F=n("M9IT"),w=n("Dfyc"),x=n("hGNd"),N=n("VRyK"),A=n("xgIS"),O=n("vkgz"),j=n("/uUt"),D=n("CKGL"),T=n("DeO8"),k=n("XiUz"),L=n("Wp6s"),R=n("3AuD"),$=n("kmnG"),Q=n("qFsG"),q=n("Qu3c"),B=n("d3UM"),z=n("ofXK"),M=n("iadO"),H=n("+0xr"),G=n("Dh3D"),J=n("bTqV"),_=n("FKr1"),W=n("NFeN"),Y=n("Xa2L");const X=["sort1"],K=["searchInput"],Z=function(){return["../generarOrdenPago"]};function tt(t,e){1&t&&(c.Pc(0,"\n            "),c.Vb(1,"button",43),c.Pc(2,"\n              Nuevo Orden de Pago\n            "),c.Ub(),c.Pc(3,"\n          ")),2&t&&(c.Cb(1),c.sc("routerLink",c.wc(1,Z)))}function et(t,e){if(1&t&&(c.Vb(0,"mat-option",44),c.Pc(1,"\n                  "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n                "),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t.id),c.Cb(3),c.Qc(t.nombre)}}function nt(t,e){if(1&t&&(c.Vb(0,"mat-option",44),c.Pc(1,"\n                  "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n                "),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t.id),c.Cb(3),c.Qc(t.nombre)}}function ct(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Ente"),c.Ub())}function ot(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Ente:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Rc("\n                  ",t.ente.persona?t.ente.persona.apellido:t.ente.personaJuridica?t.ente.personaJuridica.nombreFantasia:" PAGO DIRECTO ","\n                ")}}function at(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Cbte"),c.Ub())}function it(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Cbte:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.tipoComprobante.nombre)}}function rt(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Nro"),c.Ub())}function st(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n                ",t.nroComprobante,"\n              ")}}function lt(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"F.Emision"),c.Ub())}function bt(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.fechaComprobanteString)}}function mt(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Periodo"),c.Ub())}function ut(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.periodo)}}function dt(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Total"),c.Ub())}function pt(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n                ",c.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n              ")}}function Pt(t,e){1&t&&(c.Vb(0,"mat-header-cell",45),c.Pc(1,"Estado"),c.Ub())}function ht(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n              "),c.Ub()),2&t){const t=e.$implicit,n=c.kc();c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(t.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n                  ",t.estadoComprobante.nombre,"\n                ")}}function ft(t,e){1&t&&(c.Vb(0,"mat-header-cell"),c.Pc(1,"Acciones"),c.Ub())}function gt(t,e){if(1&t){const t=c.Wb();c.Pc(0,"\n                    "),c.Vb(1,"button",49),c.gc("click",function(){c.Ec(t);const e=c.kc().$implicit;return c.kc().imprimirOrden(e.id)}),c.Pc(2,"\n                      "),c.Vb(3,"mat-icon",50),c.Pc(4,"print"),c.Ub(),c.Pc(5,"\n                    "),c.Ub(),c.Pc(6,"\n                  ")}if(2&t){const t=c.kc().$implicit;c.Cb(1),c.sc("disabled","PAGADO"===(null==t?null:t.estadoComprobante.nombre))}}function Ct(t,e){if(1&t){const t=c.Wb();c.Pc(0,"\n                    "),c.Vb(1,"button",51),c.gc("click",function(){c.Ec(t);const e=c.kc().$implicit;return c.kc().deleteComprobante(e)}),c.Pc(2,"\n                      "),c.Vb(3,"mat-icon",50),c.Pc(4," delete"),c.Ub(),c.Pc(5,"\n                    "),c.Ub(),c.Pc(6,"\n                  ")}if(2&t){const t=c.kc().$implicit;c.Cb(1),c.sc("disabled","IMPUTADO"!==(null==t?null:t.estadoComprobante.nombre))}}function vt(t,e){if(1&t&&(c.Vb(0,"mat-cell",47),c.Pc(1,"\n                "),c.Vb(2,"span",46),c.Pc(3,"Acciones:"),c.Ub(),c.Pc(4,"\n                "),c.Vb(5,"div",48),c.Pc(6,"\n                  "),c.Nc(7,gt,7,1,"ng-template",4),c.Pc(8,"\n                  \xa0\n                  "),c.Nc(9,Ct,7,1,"ng-template",4),c.Pc(10,"\n                "),c.Ub(),c.Pc(11,"\n              "),c.Ub()),2&t){const t=c.kc();c.Cb(7),c.sc("jhiHasAnyAuthority",null==t.dataUrl?null:t.dataUrl.printPermission),c.Cb(2),c.sc("jhiHasAnyAuthority",null==t.dataUrl?null:t.dataUrl.deletePermission)}}function Vt(t,e){1&t&&c.Qb(0,"mat-header-row")}function Ut(t,e){1&t&&c.Qb(0,"mat-row")}function St(t,e){1&t&&(c.Vb(0,"div"),c.Pc(1,"No se encontraron registros"),c.Ub())}function yt(t,e){1&t&&(c.Vb(0,"div"),c.Pc(1,"Cargando..."),c.Ub())}function Et(t,e){1&t&&c.Qb(0,"mat-spinner",52),2&t&&c.sc("diameter",20)}const It=function(){return[3,5,10]};let Ft=(()=>{class t{constructor(t,e,n,c,o){this.comprobanteService=t,this.medioService=e,this.dialog=n,this.route=c,this.router=o,this.title="",this.flag=!0,this.displayedColumns=["Ente","Cbte","Nro","F.Emision","Periodo","Total","Estado","Acciones"],this.filtroEstado="",this.filtroFechaDesde="",this.filtroFechaHasta="",this.filtroMedio="",this.allEstadosComprobantes=[],this.allMediosPago=[],this.selection=new I.c(!0,[]),this.subscriptions=[]}ngOnInit(){var t;this.subscriptions.push(this.route.data.subscribe(t=>{this.dataUrl=t,this.title=t.pageTitle,this.comprobanteService.getAllEstados(t.stateType).subscribe(t=>this.allEstadosComprobantes=t)})),this.subscriptions.push(this.medioService.getAll().subscribe(t=>this.allMediosPago=t));const e=null===(t=this.sort)||void 0===t?void 0:t.sortChange.subscribe(()=>this.paginator.pageIndex=0);e&&this.subscriptions.push(e);const n=Object(N.a)(this.sort.sortChange,this.paginator.page).pipe(Object(O.a)(()=>this.loadComprobanteList())).subscribe();this.subscriptions.push(n);const c=Object(A.a)(this.searchInput.nativeElement,"keyup").pipe(Object(i.a)(150),Object(j.a)(),Object(O.a)(()=>{this.paginator.pageIndex=0,this.loadComprobanteList()})).subscribe();this.subscriptions.push(c),this.dataSource=new x.a(this.comprobanteService),this.loadComprobanteList()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadComprobanteList(){this.selection.clear();const t=new w.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(t,this.dataUrl.queryOperation),this.selection.clear()}filterConfiguration(){const t={};return t.nombre=this.searchInput.nativeElement.value,t.fechaDesde=this.filtroFechaDesde,t.fechaHasta=this.filtroFechaHasta,t.idEstado=this.filtroEstado,t.idMedioPago=this.filtroMedio,t}deleteComprobante(t){const e=this.dialog.deleteElement("Borrar Comprobante","Esta seguro de borrar el Comprobante permanentemente?","Borrando Comprobante...");this.subscriptions.push(e.afterClosed().subscribe(e=>{e&&t.id&&this.subscriptions.push(this.comprobanteService.delete(t.id).subscribe({next:()=>{this.loadComprobanteList()}}))}))}cambiarFechaDesde(t){this.filtroFechaDesde=t,this.filtroFechaHasta&&this.loadComprobanteList()}cambiarFechaHasta(t){this.filtroFechaHasta=t,this.filtroFechaDesde&&this.loadComprobanteList()}cambiarEstado(t){this.filtroEstado=t,this.loadComprobanteList()}cambiarMedio(t=""){this.filtroMedio=t,this.loadComprobanteList()}disabledByStatus(t){return"PAGADO"===t.estadoComprobante.nombre||"IMPUTADO"===t.estadoComprobante.nombre}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(D.a),c.Pb(u),c.Pb(T.a),c.Pb(S.a),c.Pb(S.f))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-list-pay"]],viewQuery:function(t,e){if(1&t&&(c.Uc(F.a,3),c.Uc(X,3),c.Uc(K,3)),2&t){let t;c.Bc(t=c.hc())&&(e.paginator=t.first),c.Bc(t=c.hc())&&(e.sort=t.first),c.Bc(t=c.hc())&&(e.searchInput=t.first)}},decls:192,vars:25,consts:[["fxLayout","row wrap"],["fxFlex","100"],["fxLayoutAlign","space-between start"],["fxLayout","column","fxLayout.gt-xs","row"],[3,"jhiHasAnyAuthority"],["fxLayout","row wrap","fxLayoutAlign","space-around start"],["fxFlex.gt-sm","20","fxFlex","100"],["matInput","","type","input","id","searchInput","autocomplete","off","placeholder","Filtrar","matTooltip","Busca comprobante"],["searchInput",""],["align","start"],["fxFlex.gt-sm","15","fxFlex","100"],[3,"selectionChange"],["medio",""],[3,"value",4,"ngFor","ngForOf"],["estado",""],["matInput","",3,"matDatepicker","dateChange"],["fechaDesde",""],["matSuffix","",3,"for"],["myDatepickerDesde",""],["fechaHasta",""],["myDatepickerHasta",""],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Ente"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Cbte"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Estado"],["matColumnDef","Acciones"],[4,"matHeaderCellDef"],["class","action-link",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-30"],[4,"ngIf"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],["mat-raised-button","","color","primary","matTooltip","Crear un nuevo comprobante",3,"routerLink"],[3,"value"],["mat-sort-header",""],[1,"header-label"],[1,"action-link"],["fxLayoutAlign","start space-around"],["mat-icon-button","","color","primary","matTooltip","Reimprimir Orden",3,"disabled","click"],[1,"icon-08x"],["mat-icon-button","","color","warn","matTooltip","Borrar comprobante","type","button",3,"disabled","click"],[3,"diameter"]],template:function(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"mat-card"),c.Pc(5,"\n      "),c.Vb(6,"mat-card-header",2),c.Pc(7,"\n        "),c.Vb(8,"mat-card-title"),c.Pc(9),c.Ub(),c.Pc(10,"\n        "),c.Vb(11,"div",3),c.Pc(12,"\n          "),c.Nc(13,tt,4,2,"ng-template",4),c.Pc(14,"\n        "),c.Ub(),c.Pc(15,"\n      "),c.Ub(),c.Pc(16,"\n      "),c.Qb(17,"hr"),c.Pc(18,"\n\n      "),c.Vb(19,"mat-card-content"),c.Pc(20,"\n        "),c.Vb(21,"div",5),c.Pc(22,"\n          "),c.Vb(23,"div",6),c.Pc(24,"\n            "),c.Vb(25,"mat-form-field"),c.Pc(26,"\n              "),c.Qb(27,"input",7,8),c.Pc(29,"\n\n              "),c.Vb(30,"mat-hint",9),c.Pc(31,"Buscar por Ente"),c.Ub(),c.Pc(32,"\n            "),c.Ub(),c.Pc(33,"\n          "),c.Ub(),c.Pc(34,"\n\n          "),c.Vb(35,"div",10),c.Pc(36,"\n            "),c.Vb(37,"mat-form-field"),c.Pc(38,"\n              "),c.Vb(39,"mat-select",11,12),c.gc("selectionChange",function(){c.Ec(t);const n=c.Cc(40);return e.cambiarMedio(n.value)}),c.Pc(41,"\n                "),c.Nc(42,et,5,2,"mat-option",13),c.Pc(43,"\n              "),c.Ub(),c.Pc(44,"\n              "),c.Vb(45,"mat-hint",9),c.Pc(46,"Filtrar por Medio de Pago"),c.Ub(),c.Pc(47,"\n            "),c.Ub(),c.Pc(48,"\n          "),c.Ub(),c.Pc(49,"\n\n          "),c.Vb(50,"div",10),c.Pc(51,"\n            "),c.Vb(52,"mat-form-field"),c.Pc(53,"\n              "),c.Vb(54,"mat-select",11,14),c.gc("selectionChange",function(){c.Ec(t);const n=c.Cc(55);return e.cambiarEstado(n.value)}),c.Pc(56,"\n                "),c.Nc(57,nt,5,2,"mat-option",13),c.Pc(58,"\n              "),c.Ub(),c.Pc(59,"\n              "),c.Vb(60,"mat-hint",9),c.Pc(61,"Filtrar por Estado"),c.Ub(),c.Pc(62,"\n            "),c.Ub(),c.Pc(63,"\n          "),c.Ub(),c.Pc(64,"\n\n          "),c.Vb(65,"div",10),c.Pc(66,"\n            "),c.Vb(67,"mat-form-field"),c.Pc(68,"\n              "),c.Vb(69,"input",15,16),c.gc("dateChange",function(){c.Ec(t);const n=c.Cc(70);return e.cambiarFechaDesde(n.value)}),c.Ub(),c.Pc(71,"\n              "),c.Qb(72,"mat-datepicker-toggle",17),c.Pc(73,"\n              "),c.Qb(74,"mat-datepicker",null,18),c.Pc(76,"\n              "),c.Vb(77,"mat-hint",9),c.Pc(78,"Fecha Desde 'dd/mm/yyyy'"),c.Ub(),c.Pc(79,"\n            "),c.Ub(),c.Pc(80,"\n          "),c.Ub(),c.Pc(81,"\n\n          "),c.Vb(82,"div",10),c.Pc(83,"\n            "),c.Vb(84,"mat-form-field"),c.Pc(85,"\n              "),c.Vb(86,"input",15,19),c.gc("dateChange",function(){c.Ec(t);const n=c.Cc(87);return e.cambiarFechaHasta(n.value)}),c.Ub(),c.Pc(88,"\n              "),c.Qb(89,"mat-datepicker-toggle",17),c.Pc(90,"\n              "),c.Qb(91,"mat-datepicker",null,20),c.Pc(93,"\n              "),c.Vb(94,"mat-hint",9),c.Pc(95,"Fecha Hasta 'dd/mm/yyyy'"),c.Ub(),c.Pc(96,"\n            "),c.Ub(),c.Pc(97,"\n          "),c.Ub(),c.Pc(98,"\n        "),c.Ub(),c.Pc(99,"\n\n        "),c.Vb(100,"div",21),c.Pc(101,"\n          "),c.Vb(102,"mat-table",22,23),c.Pc(105,"\n            "),c.Tb(106,24),c.Pc(107,"\n              "),c.Nc(108,ct,2,0,"mat-header-cell",25),c.Pc(109,"\n              "),c.Nc(110,ot,8,1,"mat-cell",26),c.Pc(111,"\n            "),c.Sb(),c.Pc(112,"\n\n            "),c.Tb(113,27),c.Pc(114,"\n              "),c.Nc(115,at,2,0,"mat-header-cell",25),c.Pc(116,"\n              "),c.Nc(117,it,8,1,"mat-cell",26),c.Pc(118,"\n            "),c.Sb(),c.Pc(119,"\n\n            "),c.Tb(120,28),c.Pc(121,"\n              "),c.Nc(122,rt,2,0,"mat-header-cell",25),c.Pc(123,"\n              "),c.Nc(124,st,5,1,"mat-cell",26),c.Pc(125,"\n            "),c.Sb(),c.Pc(126,"\n\n            "),c.Tb(127,29),c.Pc(128,"\n              "),c.Nc(129,lt,2,0,"mat-header-cell",25),c.Pc(130,"\n              "),c.Nc(131,bt,8,1,"mat-cell",26),c.Pc(132,"\n            "),c.Sb(),c.Pc(133,"\n\n            "),c.Pc(134,"\n\n            "),c.Tb(135,30),c.Pc(136,"\n              "),c.Nc(137,mt,2,0,"mat-header-cell",25),c.Pc(138,"\n              "),c.Nc(139,ut,8,1,"mat-cell",26),c.Pc(140,"\n            "),c.Sb(),c.Pc(141,"\n\n            "),c.Tb(142,31),c.Pc(143,"\n              "),c.Nc(144,dt,2,0,"mat-header-cell",25),c.Pc(145,"\n              "),c.Nc(146,pt,6,6,"mat-cell",26),c.Pc(147,"\n            "),c.Sb(),c.Pc(148,"\n\n            "),c.Pc(149,"\n\n            "),c.Tb(150,32),c.Pc(151,"\n              "),c.Nc(152,Pt,2,0,"mat-header-cell",25),c.Pc(153,"\n              "),c.Nc(154,ht,8,4,"mat-cell",26),c.Pc(155,"\n            "),c.Sb(),c.Pc(156,"\n\n            "),c.Tb(157,33),c.Pc(158,"\n              "),c.Nc(159,ft,2,0,"mat-header-cell",34),c.Pc(160,"\n              "),c.Nc(161,vt,12,2,"mat-cell",35),c.Pc(162,"\n            "),c.Sb(),c.Pc(163,"\n\n            "),c.Nc(164,Vt,1,0,"mat-header-row",36),c.Pc(165,"\n            "),c.Nc(166,Ut,1,0,"mat-row",37),c.Pc(167,"\n          "),c.Ub(),c.Pc(168,"\n        "),c.Ub(),c.Pc(169,"\n\n        "),c.Vb(170,"div",38),c.Pc(171,"\n          "),c.Nc(172,St,2,0,"div",39),c.Pc(173,"\n          "),c.Nc(174,yt,2,0,"div",39),c.lc(175,"async"),c.Pc(176,"\n        "),c.Ub(),c.Pc(177,"\n\n        "),c.Vb(178,"div",40),c.Pc(179,"\n          "),c.Nc(180,Et,1,1,"mat-spinner",41),c.lc(181,"async"),c.Pc(182,"\n          "),c.Vb(183,"mat-paginator",42),c.lc(184,"async"),c.Pc(185,"\n          "),c.Ub(),c.Pc(186,"\n        "),c.Ub(),c.Pc(187,"\n      "),c.Ub(),c.Pc(188,"\n    "),c.Ub(),c.Pc(189,"\n  "),c.Ub(),c.Pc(190,"\n"),c.Ub(),c.Pc(191,"\n")}if(2&t){const t=c.Cc(75),n=c.Cc(92);c.Cb(9),c.Rc(" ",e.title," "),c.Cb(4),c.sc("jhiHasAnyAuthority",null==e.dataUrl?null:e.dataUrl.createPermission),c.Cb(29),c.sc("ngForOf",e.allMediosPago),c.Cb(15),c.sc("ngForOf",e.allEstadosComprobantes),c.Cb(12),c.sc("matDatepicker",t),c.Cb(3),c.sc("for",t),c.Cb(14),c.sc("matDatepicker",n),c.Cb(3),c.sc("for",n),c.Cb(13),c.sc("dataSource",e.dataSource),c.Cb(62),c.sc("matHeaderRowDef",e.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",e.displayedColumns),c.Cb(6),c.sc("ngIf",!e.dataSource.hasItems),c.Cb(2),c.sc("ngIf",c.mc(175,18,e.dataSource.isPreloadTextViewed$)),c.Cb(6),c.sc("ngIf",c.mc(181,20,e.dataSource.loading$)),c.Cb(3),c.sc("pageSize",10)("pageSizeOptions",c.wc(24,It))("length",c.mc(184,22,e.dataSource.paginatorTotal$))("showFirstLastButtons",!0)}},directives:[k.d,k.a,L.a,L.e,k.c,L.g,R.a,L.c,$.c,Q.b,q.a,$.f,B.a,z.p,M.b,M.d,$.i,M.a,H.j,G.a,H.c,H.e,H.b,H.g,H.i,z.q,F.a,J.a,S.g,_.n,H.d,G.b,H.a,W.a,H.f,H.h,Y.b],pipes:[z.b,z.d],styles:[""]}),t})();var wt=n("Owrn"),xt=n("xHqg"),Nt=n("QibW"),At=function(t){return t[t.CAJA_USUARIO=3]="CAJA_USUARIO",t[t.CAJA_BANCO=1]="CAJA_BANCO",t}({}),Ot=n("OTai"),jt=n("Wgwc");let Dt=(()=>{class t{constructor(t,e){this.http=t,this.applicationConfigService=e,this.resourceUrl=this.applicationConfigService.getEndpointFor("/CajaCuentaBanco")}getCajas(t){return this.http.get(`${this.resourceUrl}/GetPorIdTipo/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(b.b),c.cc(m.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Tt=n("tmjD");function kt(t,e){if(1&t&&(c.Vb(0,"mat-option",16),c.Pc(1),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t),c.Cb(1),c.Rc("\n            ",t.nombre,"\n          ")}}function Lt(t,e){if(1&t&&(c.Vb(0,"mat-hint",17),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc(" ",t.banco," ")}}function Rt(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorCajaCuentaBanco()," ")}}function $t(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorFechaPeriodo()," ")}}function Qt(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorFechaContableString()," ")}}let qt=(()=>{class t{constructor(t,e){this.fb=t,this.CajaBancoService=e,this.efectivoForm=this.fb.group({fechaContableString:[jt().format("DD/MM/YYYY"),[o.v.required,Ot.a.isValidDate]],periodo:["",o.v.required],cajaCuentaBanco:["",o.v.required],receptor:["",o.v.required]}),this.allCajasBanco=[],this.subscriptions=[],this.banco="",this.movimientoCajaBancoInfo=new c.o}ngOnInit(){console.log(this.medioPago),this.efectivoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(t=>{this.movimientoCajaBancoInfo.emit("VALID"===t?this.efectivoForm.getRawValue():null)})}ngOnChanges(){this.subscriptions.push(1===this.medioPago.id?this.CajaBancoService.getCajas(At.CAJA_USUARIO).subscribe(t=>this.allCajasBanco=t):this.CajaBancoService.getCajas(At.CAJA_BANCO).subscribe(t=>this.allCajasBanco=t))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}cambiarCaja(t){t.banco&&(this.banco=t.banco.nombre)}mensajeErrorCajaCuentaBanco(){return this.efectivoForm.get("cajaCuentaBanco").hasError("required")?"La Caja debe ser seleccionada":""}mensajeErrorFechaPeriodo(){return this.efectivoForm.get("periodo").hasError("required")?"El Periodo es requerido (mm/yyyy)":""}mensajeErrorFechaContableString(){return this.efectivoForm.get("fechaContableString").hasError("required")?"La Fecha es requerida":this.efectivoForm.get("fechaContableString").hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(o.e),c.Pb(Dt))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-efectivo"]],inputs:{medioPago:"medioPago"},outputs:{movimientoCajaBancoInfo:"movimientoCajaBancoInfo"},features:[c.Ab],decls:68,vars:10,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","25"],["appearance","outline"],["formControlName","cajaCuentaBanco",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["style","color: blue",4,"ngIf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","30"],["matInput","","formControlName","receptor",3,"value"],["receptor",""],["fxFlex","100","fxFlex.gt-sm","15"],["matInput","","mask","00/0000","formControlName","periodo",3,"dropSpecialCharacters"],["matSuffix",""],["fxFlex","100","fxFlex.gt-sm","20"],["matInput","","mask","00/00/0000","formControlName","fechaContableString",3,"dropSpecialCharacters"],[3,"value"],[2,"color","blue"]],template:function(t,e){if(1&t&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"mat-form-field",3),c.Pc(7,"\n        "),c.Vb(8,"mat-label"),c.Pc(9),c.Ub(),c.Pc(10,"\n        "),c.Vb(11,"mat-select",4),c.gc("selectionChange",function(t){return e.cambiarCaja(t.value)}),c.Pc(12,"\n          "),c.Nc(13,kt,2,2,"mat-option",5),c.Pc(14,"\n        "),c.Ub(),c.Pc(15,"\n        "),c.Nc(16,Lt,2,1,"mat-hint",6),c.Pc(17,"\n        "),c.Nc(18,Rt,2,1,"mat-error",7),c.Pc(19,"\n      "),c.Ub(),c.Pc(20,"\n    "),c.Ub(),c.Pc(21,"\n    "),c.Vb(22,"div",8),c.Pc(23,"\n      "),c.Vb(24,"mat-form-field",3),c.Pc(25,"\n        "),c.Vb(26,"mat-label"),c.Pc(27,"Retira Sr/Sra:"),c.Ub(),c.Pc(28,"\n        "),c.Qb(29,"input",9,10),c.Pc(31,"\n      "),c.Ub(),c.Pc(32,"\n    "),c.Ub(),c.Pc(33,"\n\n    "),c.Vb(34,"div",11),c.Pc(35,"\n      "),c.Vb(36,"mat-form-field",3),c.Pc(37,"\n        "),c.Vb(38,"mat-label"),c.Pc(39,"Periodo Servicio"),c.Ub(),c.Pc(40,"\n        "),c.Qb(41,"input",12),c.Pc(42,"\n        "),c.Vb(43,"mat-icon",13),c.Pc(44,"date_range"),c.Ub(),c.Pc(45,"\n        "),c.Nc(46,$t,2,1,"mat-error",7),c.Pc(47,"\n      "),c.Ub(),c.Pc(48,"\n    "),c.Ub(),c.Pc(49,"\n\n    "),c.Vb(50,"div",14),c.Pc(51,"\n      "),c.Vb(52,"mat-form-field",3),c.Pc(53,"\n        "),c.Vb(54,"mat-label"),c.Pc(55,"Fecha Contable"),c.Ub(),c.Pc(56,"\n        "),c.Qb(57,"input",15),c.Pc(58,"\n        "),c.Vb(59,"mat-icon",13),c.Pc(60,"date_range"),c.Ub(),c.Pc(61,"\n        "),c.Nc(62,Qt,2,1,"mat-error",7),c.Pc(63,"\n      "),c.Ub(),c.Pc(64,"\n    "),c.Ub(),c.Pc(65,"\n  "),c.Ub(),c.Pc(66,"\n"),c.Ub(),c.Pc(67,"\n")),2&t){const t=c.Cc(30);let n=null,o=null,a=null;c.sc("formGroup",e.efectivoForm),c.Cb(9),c.Rc(" ",1===e.medioPago.id?"Caja":"Cuenta Corriente"," "),c.Cb(4),c.sc("ngForOf",e.allCajasBanco),c.Cb(3),c.sc("ngIf",1!==e.medioPago.id),c.Cb(2),c.sc("ngIf",null==(n=e.efectivoForm.get("cajaCuentaBanco"))?null:n.invalid),c.Cb(11),c.sc("value",t.value.toUpperCase()),c.Cb(12),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(o=e.efectivoForm.get("periodo"))?null:o.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1),c.Cb(5),c.sc("ngIf",null==(a=e.efectivoForm.get("fechaContableString"))?null:a.invalid)}},directives:[o.w,o.o,o.h,k.d,k.c,k.a,$.c,$.g,B.a,o.n,o.g,z.p,z.q,Q.b,o.c,Tt.a,W.a,$.i,_.n,$.f,$.b],styles:[""]}),t})(),Bt=(()=>{class t{ngOnInit(){throw new Error("Method not implemented.")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-cheque"]],decls:3,vars:0,template:function(t,e){1&t&&(c.Vb(0,"p"),c.Pc(1,"cheque works!"),c.Ub(),c.Pc(2,"\n"))},styles:[""]}),t})(),zt=(()=>{class t{ngOnInit(){throw new Error("Method not implemented.")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-transferencia"]],decls:3,vars:0,template:function(t,e){1&t&&(c.Vb(0,"p"),c.Pc(1,"transferencia works!"),c.Ub(),c.Pc(2,"\n"))},styles:[""]}),t})();function Mt(t,e){if(1&t&&(c.Vb(0,"mat-radio-button",14),c.Pc(1),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t),c.Cb(1),c.Rc("\n            ",t.nombre,"\n          ")}}function Ht(t,e){if(1&t){const t=c.Wb();c.Vb(0,"jhi-efectivo",15),c.gc("movimientoCajaBancoInfo",function(e){return c.Ec(t),c.kc().movimientoCaja(e)}),c.Ub()}if(2&t){const t=c.kc();c.sc("medioPago",t.medioPagoSelected.value)}}function Gt(t,e){1&t&&c.Qb(0,"jhi-cheque")}function Jt(t,e){1&t&&c.Qb(0,"jhi-transferencia")}let _t=(()=>{class t{constructor(t,e,n){this.medioPagoService=t,this.fb=e,this.payService=n,this.medioPagoForm=this.fb.group({medioPagoSelected:["",o.v.required],movimientoCajaBanco:["",o.v.required]}),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.medioPagoService.getAllPorIdMFA(E.a.ORDEN_PAGO).subscribe(t=>this.allMediosPago=t))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}movimientoCaja(t){this.movimientoCajaBanco.patchValue(t),t&&this.montoTotalPago&&this.payService.crearMovimientoCajaBanco(t,this.medioPagoSelected.value,this.montoTotalPago)}get medioPagoSelected(){return this.medioPagoForm.get("medioPagoSelected")}get movimientoCajaBanco(){return this.medioPagoForm.get("movimientoCajaBanco")}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(u),c.Pb(o.e),c.Pb(p))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-step2-medio-pago"]],inputs:{montoTotalPago:"montoTotalPago"},decls:51,vars:14,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","33.33","fxFlex","100"],[1,"bg-purple","fijo"],[1,"stats","text-center"],[1,"text-white","m-0"],[1,"m-t-10"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100"],["color","warn","fxLayout","column","fxLayoutAlign","center start","fxLayout.gt-xs","row","fxLayoutAlign.gt-sm","space-evenly center","formControlName","medioPagoSelected","name","medios",1,"radio-group"],["class","radio-button",3,"value",4,"ngFor","ngForOf"],[1,"p-30"],[3,"medioPago","movimientoCajaBancoInfo",4,"ngIf"],[4,"ngIf"],[1,"radio-button",3,"value"],[3,"medioPago","movimientoCajaBancoInfo"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"mat-card",2),c.Pc(5,"\n      "),c.Vb(6,"mat-card-content"),c.Pc(7,"\n        "),c.Vb(8,"div",3),c.Pc(9,"\n          "),c.Vb(10,"h5",4),c.Pc(11,"Total a Pagar"),c.Ub(),c.Pc(12,"\n          "),c.Vb(13,"h2",4),c.Pc(14),c.lc(15,"currency"),c.Ub(),c.Pc(16,"\n        "),c.Ub(),c.Pc(17,"\n      "),c.Ub(),c.Pc(18,"\n    "),c.Ub(),c.Pc(19,"\n  "),c.Ub(),c.Pc(20,"\n"),c.Ub(),c.Pc(21,"\n\n"),c.Vb(22,"div",5),c.Pc(23,"\n  "),c.Vb(24,"form",6),c.Pc(25,"\n    "),c.Vb(26,"div",7),c.Pc(27,"\n      "),c.Vb(28,"div",8),c.Pc(29,"\n        "),c.Vb(30,"mat-radio-group",9),c.Pc(31,"\n          "),c.Nc(32,Mt,2,2,"mat-radio-button",10),c.Pc(33,"\n        "),c.Ub(),c.Pc(34,"\n      "),c.Ub(),c.Pc(35,"\n    "),c.Ub(),c.Pc(36,"\n\n    "),c.Vb(37,"div",11),c.Pc(38,"\n      "),c.Qb(39,"hr"),c.Pc(40,"\n    "),c.Ub(),c.Pc(41,"\n\n    "),c.Nc(42,Ht,1,1,"jhi-efectivo",12),c.Pc(43,"\n    "),c.Nc(44,Gt,1,0,"jhi-cheque",13),c.Pc(45,"\n    "),c.Nc(46,Jt,1,0,"jhi-transferencia",13),c.Pc(47,"\n  "),c.Ub(),c.Pc(48,"\n"),c.Ub(),c.Pc(49),c.lc(50,"json")),2&t&&(c.Cb(14),c.Qc(c.pc(15,7,e.montoTotalPago,"ARS","symbol","1.0-0")),c.Cb(10),c.sc("formGroup",e.medioPagoForm),c.Cb(8),c.sc("ngForOf",e.allMediosPago),c.Cb(10),c.sc("ngIf",e.medioPagoSelected.value),c.Cb(2),c.sc("ngIf",2===e.medioPagoForm.controls.medioPagoSelected.value.id),c.Cb(2),c.sc("ngIf",3===e.medioPagoForm.controls.medioPagoSelected.value.id),c.Cb(3),c.Rc("\n\n",c.mc(50,12,e.medioPagoForm.value),"\n"))},directives:[k.d,k.c,k.a,L.a,L.c,o.w,o.o,o.h,Nt.b,o.n,o.g,z.p,z.q,Nt.a,qt,Bt,zt],pipes:[z.d,z.j],styles:[""]}),t})();function Wt(t,e){1&t&&c.Pc(0,"Tipo de Orden de Pago")}const Yt=[{path:"ordenesPago",component:Ft,data:{pageTitle:"Ordenes de Pago",queryOperation:y.a.GET_PAGO,stateType:E.a.ORDEN_PAGO,createPermission:["Accion Crear Orden de Pago a Lote","Accion Crear Orden de Pago a Cuenta Corriente","Accion Crear Orden de Pago Directo"],printPermission:"Accion Reimprimir Orden de Pago",deletePermission:"Accion Anular Orden de Pagoe"}},{path:"generarOrdenPago",component:(()=>{class t{constructor(t){this.route=t,this.titleForm="",this.isSaving=!1}ngOnInit(){this.route.data.subscribe(t=>{this.titleForm=t.pageTitle,this.urlData=t})}totalPagoSelected(t){this.totalPago=t}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(S.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-stepper-pay"]],decls:64,vars:6,consts:[["fxLayoutAlign","space-between start"],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"totalPagoInfo"],["form1",""],[1,"text-right","p-t-20"],["mat-stroked-button","","color","primary","matStepperNext",""],["label","Medio de Pago",3,"stepControl"],[3,"montoTotalPago"],["form2",""],["mat-stroked-button","","color","warn","matStepperPrevious",""],["label","Confirmar"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){if(1&t&&(c.Vb(0,"mat-card"),c.Pc(1,"\n  "),c.Vb(2,"mat-card-header",0),c.Pc(3,"\n    "),c.Vb(4,"mat-card-title"),c.Pc(5),c.Ub(),c.Pc(6,"\n  "),c.Ub(),c.Pc(7,"\n  "),c.Qb(8,"hr"),c.Pc(9,"\n  "),c.Vb(10,"mat-card-content"),c.Pc(11,"\n    "),c.Qb(12,"jhi-alert-error"),c.Pc(13,"\n\n    "),c.Vb(14,"mat-horizontal-stepper",1,2),c.Pc(16,"\n      "),c.Vb(17,"mat-step",3),c.Pc(18,"\n        "),c.Nc(19,Wt,1,0,"ng-template",4),c.Pc(20,"\n        "),c.Vb(21,"jhi-step1-tipo-orden",5,6),c.gc("totalPagoInfo",function(t){return e.totalPagoSelected(t)}),c.Ub(),c.Pc(23,"\n        "),c.Pc(24,"\n        "),c.Vb(25,"div",7),c.Pc(26,"\n          "),c.Vb(27,"button",8),c.Pc(28,"Siguiente"),c.Ub(),c.Pc(29,"\n        "),c.Ub(),c.Pc(30,"\n      "),c.Ub(),c.Pc(31,"\n\n      "),c.Vb(32,"mat-step",9),c.Pc(33,"\n        "),c.Vb(34,"jhi-step2-medio-pago",10,11),c.Pc(36," "),c.Ub(),c.Pc(37,"\n\n        "),c.Vb(38,"div",7),c.Pc(39,"\n          "),c.Vb(40,"button",12),c.Pc(41,"Atras"),c.Ub(),c.Pc(42,"\n          "),c.Vb(43,"button",8),c.Pc(44,"Siguiente"),c.Ub(),c.Pc(45,"\n        "),c.Ub(),c.Pc(46,"\n      "),c.Ub(),c.Pc(47,"\n\n      "),c.Vb(48,"mat-step",13),c.Pc(49,"\n        "),c.Pc(50,"\n        "),c.Vb(51,"div",7),c.Pc(52,"\n          "),c.Vb(53,"button",12),c.Pc(54,"Atras"),c.Ub(),c.Pc(55,"\n          "),c.Vb(56,"button",14),c.Pc(57,"Confirmar"),c.Ub(),c.Pc(58,"\n        "),c.Ub(),c.Pc(59,"\n      "),c.Ub(),c.Pc(60,"\n    "),c.Ub(),c.Pc(61,"\n  "),c.Ub(),c.Pc(62,"\n"),c.Ub(),c.Pc(63,"\n")),2&t){const t=c.Cc(22),n=c.Cc(35);c.Cb(5),c.Qc(e.titleForm),c.Cb(9),c.sc("linear",!0),c.Cb(3),c.sc("stepControl",t.tipoPagoForm),c.Cb(15),c.sc("stepControl",n.medioPagoForm),c.Cb(2),c.sc("montoTotalPago",e.totalPago),c.Cb(22),c.sc("disabled",e.isSaving)}},directives:[L.a,L.e,k.c,L.g,L.c,wt.a,xt.a,xt.b,xt.c,V,J.a,xt.e,_t,xt.f],styles:[""]}),t})(),data:{pageTitle:"Nueva Orden de Pago"}}];var Xt=n("ksCG"),Kt=n("lJxs"),Zt=n("pLZG"),te=n("eIep"),ee=n("nYR2"),ne=n("/1cH"),ce=n("bSwM");const oe=["sort1"];function ae(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Qc(t.mensajeErrorEnte())}}function ie(t,e){1&t&&(c.Vb(0,"mat-option",33),c.Pc(1,"\n          "),c.Qb(2,"mat-spinner",34),c.Pc(3,"\n        "),c.Ub())}function re(t,e){if(1&t&&(c.Vb(0,"mat-option",36),c.Pc(1,"\n            "),c.Vb(2,"span"),c.Vb(3,"small"),c.Pc(4),c.Ub(),c.Ub(),c.Pc(5,"\n          "),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t),c.Cb(4),c.Qc(t.persona?t.persona.apellido:t.personaJuridica?t.personaJuridica.nombreFantasia:"")}}function se(t,e){if(1&t&&(c.Tb(0),c.Pc(1,"\n          "),c.Nc(2,re,6,2,"mat-option",35),c.Pc(3,"\n        "),c.Sb()),2&t){const t=c.kc();c.Cb(2),c.sc("ngForOf",t.resultEnte)}}function le(t,e){if(1&t){const t=c.Wb();c.Vb(0,"mat-header-cell",37),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",38),c.gc("change",function(e){c.Ec(t);const n=c.kc();return e?n.masterToggle():null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&t){const t=c.kc();c.Cb(2),c.sc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function be(t,e){if(1&t){const t=c.Wb();c.Vb(0,"mat-cell",37),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",39),c.gc("click",function(t){return t.stopPropagation()})("change",function(n){c.Ec(t);const o=e.$implicit,a=c.kc();return n?a.selection.toggle(o):null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&t){const t=e.$implicit,n=c.kc();c.Cb(2),c.sc("checked",n.selection.isSelected(t))}}function me(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Cbte"),c.Ub())}function ue(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Cbte:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.tipoComprobante.nombre)}}function de(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Nro"),c.Ub())}function pe(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Nro:"),c.Ub(),c.Pc(4),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n          ",t.nroComprobante,"\n        ")}}function Pe(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"F.Emision"),c.Ub())}function he(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"F.Emision:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.fechaComprobanteString)}}function fe(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"F.Vencimiento"),c.Ub())}function ge(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.fechaVtoString)}}function Ce(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Periodo"),c.Ub())}function ve(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.periodo)}}function Ve(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Total"),c.Ub())}function Ue(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n        ")}}function Se(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Saldo"),c.Ub())}function ye(t,e){if(1&t&&(c.Vb(0,"mat-cell",42),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,t.saldo,"ARS","symbol","1.0-0"),"\n        ")}}function Ee(t,e){1&t&&(c.Vb(0,"mat-header-cell",40),c.Pc(1,"Estado"),c.Ub())}function Ie(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",41),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit,n=c.kc();c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(t.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n            ",t.estadoComprobante.nombre,"\n          ")}}function Fe(t,e){1&t&&c.Qb(0,"mat-header-row")}function we(t,e){1&t&&c.Qb(0,"mat-row")}function xe(t,e){1&t&&(c.Vb(0,"div"),c.Pc(1,"\n      "),c.Vb(2,"strong"),c.Pc(3,"No se encontraron registros"),c.Ub(),c.Pc(4,"\n    "),c.Ub())}function Ne(t,e){1&t&&(c.Vb(0,"div"),c.Pc(1,"Cargando..."),c.Ub())}function Ae(t,e){1&t&&c.Qb(0,"mat-spinner",43),2&t&&c.sc("diameter",20)}function Oe(t,e){if(1&t&&(c.Vb(0,"div"),c.Pc(1,"\n    "),c.Vb(2,"div",44),c.Pc(3,"\n      "),c.Vb(4,"div",2),c.Pc(5,"\n        "),c.Vb(6,"mat-form-field",45),c.Pc(7,"\n          "),c.Vb(8,"mat-label"),c.Pc(9,"Total Seleccionados"),c.Ub(),c.Pc(10,"\n          "),c.Qb(11,"input",46),c.lc(12,"currency"),c.Pc(13,"\n        "),c.Ub(),c.Pc(14,"\n      "),c.Ub(),c.Pc(15,"\n      "),c.Vb(16,"div",2),c.Pc(17,"\n        "),c.Vb(18,"mat-form-field",3),c.Pc(19,"\n          "),c.Vb(20,"mat-label"),c.Pc(21,"Total a Pagar"),c.Ub(),c.Pc(22,"\n          "),c.Qb(23,"input",47),c.Pc(24,"\n          "),c.Vb(25,"span",48),c.Pc(26," $\xa0 "),c.Ub(),c.Pc(27,"\n        "),c.Ub(),c.Pc(28,"\n      "),c.Ub(),c.Pc(29,"\n    "),c.Ub(),c.Pc(30,"\n  "),c.Ub()),2&t){const t=c.kc();c.Cb(11),c.sc("value",c.oc(12,1,t.enteDeudaForm.controls.montoSeleccionado.value,"ARS","symbol"))}}const je=function(){return[3,5,10]};let De=(()=>{class t{constructor(t,e,n,a,i){this.fb=t,this.enteService=e,this.comprobanteService=n,this.cdk=a,this.eventManager=i,this.enteDeudaForm=this.fb.group({ente:["",[o.v.required,Ot.a.RequireMatch]],totalComprobante:[0,o.v.min(1)],montoSeleccionado:[{value:0,disabled:!0}],comprobanteRef:this.fb.array([])}),this.cuentaCorrienteResult=[],this.comprobantesRef=[],this.displayedColumns=["Select","Cbte","Nro","F.Emision","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.selection=new I.c(!0,[],!0),this.isSaving=!1,this.resultEnte=[],this.loadingAutocomplete=!1,this.subscriptions=[],this.totalInfo=new c.o,this.formInfo=new c.o}ngOnInit(){var t;const e=null===(t=this.sort)||void 0===t?void 0:t.sortChange.subscribe(()=>this.paginator.pageIndex=0);e&&this.subscriptions.push(e);const n=Object(N.a)(this.sort.sortChange,this.paginator.page).pipe(Object(O.a)(()=>this.loadCreditoEnteList())).subscribe();this.subscriptions.push(n),this.subscriptions.push(this.selection.changed.subscribe(t=>{this.diferencia=0,t.removed.length>0&&(this.enteDeudaForm.controls.totalComprobante.reset(),t.removed.forEach(t=>this.removeComprobanteRef(t))),t.added.length>0&&this.addComprobanteRef(t.added[0]),this.calcularImporte(),this.cargarDatosItem()})),this.subscriptions.push(this.totalComprobante.valueChanges.pipe(Object(i.a)(500),Object(O.a)(()=>this.calcularDiferencia())).subscribe());const c=this.enteDeudaForm.statusChanges.pipe(Object(i.a)(250)).subscribe(t=>{"VALID"===t?(this.totalInfo.emit(this.totalComprobante.value),this.formInfo.emit(this.enteDeudaForm.getRawValue())):(this.totalInfo.emit(null),this.formInfo.emit(null))});this.subscriptions.push(c),this.dataSource=new x.a(this.comprobanteService)}ngAfterViewInit(){const t=this.ente.valueChanges.pipe(Object(Kt.a)(t=>"string"==typeof t?this.noWhiteSpace(t):t),Object(i.a)(150),Object(j.a)(),Object(Zt.a)(t=>!!t&&t.length>2),Object(O.a)(()=>this.loadingAutocomplete=!0),Object(te.a)(t=>this.enteService.findAutocompleteEnte(t).pipe(Object(ee.a)(()=>this.loadingAutocomplete=!1)))).subscribe(t=>{this.resultEnte=t,this.cdk.markForCheck()});this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}selectedEnte(t){t&&(this.enteSelected=t,this.loadCreditoEnteList())}loadCreditoEnteList(){this.limpiarOptions();const t=new w.a(this.filterConfiguration(),this.sort.direction,this.sort.active,this.paginator.pageIndex+1,this.paginator.pageSize);this.dataSource.loadComprobantes(t,y.a.GET_ENTE_DEUDA),this.subscriptions.push(this.dataSource.entitySubject.subscribe(t=>this.cuentaCorrienteResult=t))}filterConfiguration(){const t={};return t.id=this.enteSelected.id?this.enteSelected.id:0,t}limpiarOptions(){var t;null===(t=this.enteDeudaForm.get("selectedOptions"))||void 0===t||t.reset(),this.dataSource.entitySubject.next([]),this.selection.clear()}addComprobanteRef(t){this.comprobantesRef.push(t)}removeComprobanteRef(t){this.comprobantesRef.forEach((e,n)=>{e===t&&this.comprobantesRef.splice(n,1)})}calcularImporte(){let t=0;this.comprobantesRef.forEach(e=>{t+=e.saldo}),this.enteDeudaForm.controls.montoSeleccionado.setValue(t),this.enteDeudaForm.controls.totalComprobante.setValue(t)}calcularDiferencia(){this.diferencia=this.enteDeudaForm.controls.montoSeleccionado.value-this.enteDeudaForm.controls.totalComprobante.value,this.diferencia<0&&this.eventManager.broadcast(new Xt.b("erpSepApp.error",{message:"Ud. va a pagar un valor mayor al Total Seleccionado.",type:"danger"})),this.diferencia>0&&this.eventManager.broadcast(new Xt.b("erpSepApp.error",{message:`Existe una diferencia entre el Total Seleccionado y el Total a Pagar de $: ${this.diferencia}`,type:"warning"})),this.cdk.markForCheck()}cargarDatosItem(){const t=this.selection.selected.map(t=>this.fb.group(t)),e=this.fb.array(t);this.enteDeudaForm.setControl("comprobanteRef",e)}isAllSelected(){return this.selection.selected.length===this.cuentaCorrienteResult.length}masterToggle(){this.selection.selected.length===this.cuentaCorrienteResult.length?this.selection.clear():this.cuentaCorrienteResult.forEach(t=>this.selection.select(t))}get ente(){return this.enteDeudaForm.get("ente")}mensajeErrorEnte(){return this.ente.hasError("required")?"El Ente es requerido":this.ente.hasError("incorrect")?"Seleccione un Ente v\xe1lido":""}get totalComprobante(){return this.enteDeudaForm.get("totalComprobante")}displayFn(t){if(null!=t)return t.persona?t.persona.apellido:t.personaJuridica?t.personaJuridica.nombreFantasia:void 0}noWhiteSpace(t){return t.trimLeft()}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(o.e),c.Pb(l.a),c.Pb(D.a),c.Pb(c.h),c.Pb(Xt.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-cuenta-corriente"]],viewQuery:function(t,e){if(1&t&&(c.Uc(F.a,3),c.Uc(oe,3)),2&t){let t;c.Bc(t=c.hc())&&(e.paginator=t.first),c.Bc(t=c.hc())&&(e.sort=t.first)}},outputs:{totalInfo:"totalInfo",formInfo:"formInfo"},decls:127,vars:25,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","outline"],["matInput","","id","ente",3,"formControl","matAutocomplete"],["align","start"],[4,"ngIf"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],["class","mat-column-checkbox",4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Cbte"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nro"],["matColumnDef","F.Emision"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium","text-center","p-10"],["fxLayoutAlign","end center"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","length","showFirstLastButtons"],[1,"is-loading"],["diameter","20"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-column-checkbox"],["color","primary",3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[3,"diameter"],["fxLayout","column","fxLayoutAlign","end end"],["appearance","fill"],["matInput","","formControlName","montoSeleccionado",2,"font-size","20px",3,"value"],["matInput","","formControlName","totalComprobante",2,"font-size","20px","color","red"],["matPrefix","",2,"font-size","20px"]],template:function(t,e){if(1&t&&(c.Vb(0,"form",0),c.Pc(1,"\n  "),c.Vb(2,"div",1),c.Pc(3,"\n    "),c.Vb(4,"div",2),c.Pc(5,"\n      "),c.Vb(6,"mat-form-field",3),c.Pc(7,"\n        "),c.Vb(8,"mat-label"),c.Pc(9,"Ente:"),c.Ub(),c.Pc(10,"\n        "),c.Qb(11,"input",4),c.Pc(12,"\n        "),c.Vb(13,"mat-hint",5),c.Pc(14,"Escribir para buscar.."),c.Ub(),c.Pc(15,"\n        "),c.Nc(16,ae,2,1,"mat-error",6),c.Pc(17,"\n      "),c.Ub(),c.Pc(18,"\n      "),c.Vb(19,"mat-autocomplete",7,8),c.gc("optionSelected",function(t){return e.selectedEnte(t.option.value)}),c.Pc(21,"\n        "),c.Nc(22,ie,4,0,"mat-option",9),c.Pc(23,"\n        "),c.Nc(24,se,4,1,"ng-container",6),c.Pc(25,"\n      "),c.Ub(),c.Pc(26,"\n    "),c.Ub(),c.Pc(27,"\n  "),c.Ub(),c.Pc(28,"\n\n  "),c.Vb(29,"div",10),c.Pc(30,"\n    "),c.Vb(31,"mat-table",11,12),c.Pc(34,"\n      "),c.Tb(35,13),c.Pc(36,"\n        "),c.Nc(37,le,5,2,"mat-header-cell",14),c.Pc(38,"\n        "),c.Nc(39,be,5,1,"mat-cell",15),c.Pc(40,"\n      "),c.Sb(),c.Pc(41,"\n\n      "),c.Tb(42,16),c.Pc(43,"\n        "),c.Nc(44,me,2,0,"mat-header-cell",17),c.Pc(45,"\n        "),c.Nc(46,ue,8,1,"mat-cell",18),c.Pc(47,"\n      "),c.Sb(),c.Pc(48,"\n\n      "),c.Tb(49,19),c.Pc(50,"\n        "),c.Nc(51,de,2,0,"mat-header-cell",17),c.Pc(52,"\n        "),c.Nc(53,pe,5,1,"mat-cell",18),c.Pc(54,"\n      "),c.Sb(),c.Pc(55,"\n\n      "),c.Tb(56,20),c.Pc(57,"\n        "),c.Nc(58,Pe,2,0,"mat-header-cell",17),c.Pc(59,"\n        "),c.Nc(60,he,8,1,"mat-cell",18),c.Pc(61,"\n      "),c.Sb(),c.Pc(62,"\n\n      "),c.Tb(63,21),c.Pc(64,"\n        "),c.Nc(65,fe,2,0,"mat-header-cell",17),c.Pc(66,"\n        "),c.Nc(67,ge,8,1,"mat-cell",18),c.Pc(68,"\n      "),c.Sb(),c.Pc(69,"\n\n      "),c.Tb(70,22),c.Pc(71,"\n        "),c.Nc(72,Ce,2,0,"mat-header-cell",17),c.Pc(73,"\n        "),c.Nc(74,ve,8,1,"mat-cell",18),c.Pc(75,"\n      "),c.Sb(),c.Pc(76,"\n\n      "),c.Tb(77,23),c.Pc(78,"\n        "),c.Nc(79,Ve,2,0,"mat-header-cell",17),c.Pc(80,"\n        "),c.Nc(81,Ue,6,6,"mat-cell",18),c.Pc(82,"\n      "),c.Sb(),c.Pc(83,"\n\n      "),c.Tb(84,24),c.Pc(85,"\n        "),c.Nc(86,Se,2,0,"mat-header-cell",17),c.Pc(87,"\n        "),c.Nc(88,ye,6,6,"mat-cell",25),c.Pc(89,"\n      "),c.Sb(),c.Pc(90,"\n\n      "),c.Pc(91,"\n\n      "),c.Tb(92,26),c.Pc(93,"\n        "),c.Nc(94,Ee,2,0,"mat-header-cell",17),c.Pc(95,"\n        "),c.Nc(96,Ie,8,4,"mat-cell",18),c.Pc(97,"\n      "),c.Sb(),c.Pc(98,"\n\n      "),c.Nc(99,Fe,1,0,"mat-header-row",27),c.Pc(100,"\n      "),c.Nc(101,we,1,0,"mat-row",28),c.Pc(102,"\n    "),c.Ub(),c.Pc(103,"\n  "),c.Ub(),c.Pc(104,"\n\n  "),c.Pc(105,"\n  "),c.Vb(106,"div",29),c.Pc(107,"\n    "),c.Nc(108,xe,5,0,"div",6),c.Pc(109,"\n    "),c.Nc(110,Ne,2,0,"div",6),c.lc(111,"async"),c.Pc(112,"\n  "),c.Ub(),c.Pc(113,"\n\n  "),c.Vb(114,"div",30),c.Pc(115,"\n    "),c.Nc(116,Ae,1,1,"mat-spinner",31),c.lc(117,"async"),c.Pc(118,"\n    "),c.Vb(119,"mat-paginator",32),c.lc(120,"async"),c.Pc(121,"\n    "),c.Ub(),c.Pc(122,"\n  "),c.Ub(),c.Pc(123,"\n\n  "),c.Nc(124,Oe,31,5,"div",6),c.Pc(125,"\n"),c.Ub(),c.Pc(126,"\n")),2&t){const t=c.Cc(20);c.sc("formGroup",e.enteDeudaForm),c.Cb(11),c.sc("formControl",e.ente)("matAutocomplete",t),c.Cb(5),c.sc("ngIf",e.ente.invalid),c.Cb(3),c.sc("displayWith",e.displayFn.bind(e)),c.Cb(3),c.sc("ngIf",e.loadingAutocomplete),c.Cb(2),c.sc("ngIf",!e.loadingAutocomplete),c.Cb(7),c.sc("dataSource",e.dataSource),c.Cb(68),c.sc("matHeaderRowDef",e.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",e.displayedColumns),c.Cb(7),c.sc("ngIf",!e.dataSource.hasItems),c.Cb(2),c.sc("ngIf",c.mc(111,18,e.dataSource.isPreloadTextViewed$)),c.Cb(6),c.sc("ngIf",c.mc(117,20,e.dataSource.loading$)),c.Cb(3),c.sc("pageSize",10)("pageSizeOptions",c.wc(24,je))("length",c.mc(120,22,e.dataSource.paginatorTotal$))("showFirstLastButtons",!0),c.Cb(5),c.sc("ngIf",(null==e.selection?null:e.selection.selected.length)>0)}},directives:[o.w,o.o,o.h,k.d,k.c,k.a,$.c,$.g,Q.b,o.c,ne.c,o.n,o.f,$.f,z.q,ne.a,H.j,G.a,H.c,H.e,H.b,H.g,H.i,F.a,$.b,_.n,Y.b,z.p,H.d,ce.a,H.a,G.b,H.f,H.h,o.g,$.h],pipes:[z.b,z.d],styles:[""]}),t})();var Te=n("V7aC");function ke(t,e){if(1&t&&(c.Vb(0,"mat-option",20),c.Pc(1,"\n            "),c.Vb(2,"small"),c.Pc(3),c.Ub(),c.Pc(4,"\n          "),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t),c.Cb(3),c.Qc(t.nombre)}}function Le(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorTipoComprobante()," ")}}function Re(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorNroComprobante()," ")}}function $e(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc();c.Cb(1),c.Rc("",t.mensajeErrorfechaComprobanteString()," ")}}function Qe(t,e){if(1&t&&(c.Vb(0,"mat-option",20),c.Pc(1),c.Ub()),2&t){const t=e.$implicit;c.sc("value",t.id),c.Cb(1),c.Rc(" ",t.nombre," ")}}function qe(t,e){1&t&&(c.Vb(0,"mat-error"),c.Pc(1," Requerido"),c.Ub())}function Be(t,e){if(1&t&&(c.Vb(0,"mat-error"),c.Pc(1),c.Ub()),2&t){const t=c.kc().index,e=c.kc();c.Cb(1),c.Rc("\n                ",e.mensajeErrorImporte(t),"\n              ")}}function ze(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",30),c.gc("click",function(){c.Ec(t);const e=c.kc().index;return c.kc().borrarItem(e)}),c.Pc(1,"\n              "),c.Vb(2,"mat-icon"),c.Pc(3,"remove"),c.Ub(),c.Pc(4,"\n            "),c.Ub()}}function Me(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",31),c.gc("click",function(){return c.Ec(t),c.kc(2).agregarItem()}),c.Pc(1,"\n              "),c.Vb(2,"mat-icon"),c.Pc(3,"add"),c.Ub(),c.Pc(4,"\n            "),c.Ub()}}function He(t,e){if(1&t&&(c.Vb(0,"div"),c.Pc(1,"\n      "),c.Vb(2,"div",21),c.Pc(3,"\n        "),c.Vb(4,"div",1),c.Pc(5,"\n          "),c.Vb(6,"div",22),c.Pc(7,"\n            "),c.Vb(8,"mat-form-field",16),c.Pc(9,"\n              "),c.Vb(10,"mat-select",23),c.Pc(11,"\n                "),c.Nc(12,Qe,2,2,"mat-option",5),c.Pc(13,"\n              "),c.Ub(),c.Pc(14,"\n              "),c.Nc(15,qe,2,0,"mat-error",6),c.Pc(16,"\n            "),c.Ub(),c.Pc(17,"\n          "),c.Ub(),c.Pc(18,"\n\n          "),c.Vb(19,"div",24),c.Pc(20,"\n            "),c.Vb(21,"mat-form-field",16),c.Pc(22,"\n              "),c.Qb(23,"input",25),c.Pc(24,"\n              "),c.Vb(25,"span",26),c.Pc(26,"$\xa0"),c.Ub(),c.Pc(27,"\n              "),c.Nc(28,Be,2,1,"mat-error",6),c.Pc(29,"\n            "),c.Ub(),c.Pc(30,"\n          "),c.Ub(),c.Pc(31,"\n\n          "),c.Vb(32,"div",27),c.Pc(33,"\n            "),c.Nc(34,ze,5,0,"button",28),c.Pc(35,"\n            "),c.Nc(36,Me,5,0,"button",29),c.Pc(37,"\n          "),c.Ub(),c.Pc(38,"\n        "),c.Ub(),c.Pc(39,"\n      "),c.Ub(),c.Pc(40,"\n    "),c.Ub()),2&t){const t=e.$implicit,n=e.index,o=c.kc();let a=null,i=null;c.Cb(2),c.sc("formGroupName",n),c.Cb(8),c.sc("formControl",t.get("id")),c.Cb(2),c.sc("ngForOf",o.allConceptos),c.Cb(3),c.sc("ngIf",t.controls.id.invalid),c.Cb(8),c.uc("placeholder","SubTotal ",n+1,""),c.sc("formControl",t.get("importe")),c.Cb(5),c.sc("ngIf",t.get("importe").invalid),c.Cb(6),c.sc("ngIf",(null==(a=o.directoForm.get("item"))?null:a.controls.length)>1),c.Cb(2),c.sc("ngIf",(null==(i=o.directoForm.get("item"))?null:i.controls.length)===n+1)}}let Ge=(()=>{class t{constructor(t,e){this.fb=t,this.comprobanteService=e,this.now=jt().format("DD/MM/YYYY"),this.nroPattern="[0-9]{5}-[0-9]{8}",this.allConceptos=[],this.allTipoComprobantes=[],this.subscriptions=[],this.directoForm=this.fb.group({tipoComprobante:["",[o.v.required]],nroComprobante:["",[o.v.required,o.v.pattern(this.nroPattern)]],fechaComprobanteString:["",[o.v.required,Ot.a.isValidDate]],totalComprobante:[{value:"",disabled:!0}],item:this.fb.array([])}),this.totalInfo=new c.o,this.formInfo=new c.o}ngOnInit(){this.subscriptions.push(this.comprobanteService.getAllTiposComprobante(E.a.DEUDA).subscribe({next:t=>this.allTipoComprobantes=t})),this.subscriptions.push(this.comprobanteService.getItemsEnte(0,Te.a.DEBE,Te.b.CONCEPTOS_PAGOS).subscribe({next:t=>this.allConceptos=t}));const t=this.item.valueChanges.subscribe(t=>this.actualizarTotalComprobante(t));this.subscriptions.push(t);const e=this.directoForm.statusChanges.pipe(Object(i.a)(250)).subscribe(t=>{"VALID"===t?(this.totalInfo.emit(this.totalComprobante.value),this.formInfo.emit(this.directoForm.getRawValue())):(this.totalInfo.emit(null),this.formInfo.emit(null))});this.subscriptions.push(e),this.fechaComprobanteString.patchValue(this.now),this.agregarItem()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}crearItem(){return this.fb.group({id:["",o.v.required],importe:["",[o.v.required,Ot.a.maxNumber]]})}agregarItem(){this.item.push(this.crearItem())}borrarItem(t){this.item.removeAt(t)}actualizarTotalComprobante(t){let e=0;for(const n in t)t&&(e+=t[n].importe,this.directoForm.controls.totalComprobante.patchValue(e))}rellenarCeros(t){if(t.value.includes("-")){const e=t.value.split("-");for(;8-e[1].length!=0;)e[1]="0"+e[1].valueOf(),this.nroComprobante.patchValue(e[0]+"-"+e[1])}else{for(;5-t.value.length!=0;)t.value="0"+t.value;this.nroComprobante.patchValue(t.value+"-")}}comparar(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)&&(null==t?void 0:t.id)===(null==e?void 0:e.id)}get item(){return this.directoForm.get("item")}get tipoComprobante(){return this.directoForm.get("tipoComprobante")}get totalComprobante(){return this.directoForm.get("totalComprobante")}get fechaComprobanteString(){return this.directoForm.get("fechaComprobanteString")}get nroComprobante(){return this.directoForm.get("nroComprobante")}mensajeErrorTipoComprobante(){return this.tipoComprobante.hasError("required")?"El Comprobante es requerido":""}mensajeErrorfechaComprobanteString(){return this.fechaComprobanteString.hasError("required")?"La Fecha es requerida":this.fechaComprobanteString.hasError("isValidDate")?"Ingrese una fecha Valida dd/mm/yyyy":""}mensajeErrorNroComprobante(){return this.nroComprobante.hasError("required")?"El Nro de Comprobante es requerido":this.nroComprobante.hasError("pattern")?"El Nro debe ser (00000-00000000)":""}mensajeErrorImporte(t){return this.item.controls[t].get("importe").hasError("required")?"El importe es requerido":this.item.controls[t].get("importe").hasError("excedido")?"Supero el limite":""}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(o.e),c.Pb(D.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-directo"]],outputs:{totalInfo:"totalInfo",formInfo:"formInfo"},decls:87,vars:10,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex","100","fxFlex.gt-sm","30",1,"m-t-15"],["appearance","outline"],["formControlName","tipoComprobante",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","mask","00000-00000000",3,"formControl","keyup.enter"],["matInput","","mask","00/00/0000",3,"dropSpecialCharacters","formControl"],["matSuffix",""],["align","start"],[1,"text-center","font-medium"],["formArrayName","item"],[4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","end space-between"],["fxFlex","100","fxFlex.gt-sm","20",1,"text-left"],["appearance","fill"],["matInput","","formControlName","totalComprobante","id","totalComprobante",2,"font-size","20px","color","red"],["matPrefix","",1,"font-medium",2,"font-size","20px"],["fxFlex","100","fxFlex.gt-sm","20",1,"text-end"],[3,"value"],[3,"formGroupName"],["fxFlex","100","fxFlex.gt-sm","40"],["placeholder","Concepto",3,"formControl"],["fxFlex","100","fxFlex.gt-sm","30"],["type","number","matInput","",3,"placeholder","formControl"],["matPrefix",""],["fxFlex","100","fxFlex.gt-sm","10",1,"text-end"],["type","button","mat-mini-fab","","color","warn","matTooltip","Quitar",3,"click",4,"ngIf"],["type","button","mat-mini-fab","","color","primary","matTooltip","Agregar",3,"click",4,"ngIf"],["type","button","mat-mini-fab","","color","warn","matTooltip","Quitar",3,"click"],["type","button","mat-mini-fab","","color","primary","matTooltip","Agregar",3,"click"]],template:function(t,e){1&t&&(c.Pc(0,"\n"),c.Vb(1,"form",0),c.Pc(2,"\n  "),c.Vb(3,"div",1),c.Pc(4,"\n    "),c.Vb(5,"div",2),c.Pc(6,"\n      "),c.Vb(7,"mat-form-field",3),c.Pc(8,"\n        "),c.Vb(9,"mat-label"),c.Pc(10,"Tipo Comprobante:"),c.Ub(),c.Pc(11,"\n        "),c.Vb(12,"mat-select",4),c.Pc(13,"\n          "),c.Nc(14,ke,5,2,"mat-option",5),c.Pc(15,"\n        "),c.Ub(),c.Pc(16,"\n        "),c.Nc(17,Le,2,1,"mat-error",6),c.Pc(18,"\n      "),c.Ub(),c.Pc(19,"\n    "),c.Ub(),c.Pc(20,"\n\n    "),c.Vb(21,"div",2),c.Pc(22,"\n      "),c.Vb(23,"mat-form-field",3),c.Pc(24,"\n        "),c.Vb(25,"mat-label"),c.Pc(26,"Nro Comprobante:"),c.Ub(),c.Pc(27,"\n        "),c.Vb(28,"input",7),c.gc("keyup.enter",function(t){return e.rellenarCeros(t.target)}),c.Ub(),c.Pc(29,"\n        "),c.Pc(30,"\n        "),c.Nc(31,Re,2,1,"mat-error",6),c.Pc(32,"\n      "),c.Ub(),c.Pc(33,"\n    "),c.Ub(),c.Pc(34,"\n\n    "),c.Vb(35,"div",2),c.Pc(36,"\n      "),c.Vb(37,"mat-form-field",3),c.Pc(38,"\n        "),c.Vb(39,"mat-label"),c.Pc(40,"Fecha del Comprobante:"),c.Ub(),c.Pc(41,"\n        "),c.Qb(42,"input",8),c.Pc(43,"\n        "),c.Vb(44,"mat-icon",9),c.Pc(45,"date_range"),c.Ub(),c.Pc(46,"\n        "),c.Vb(47,"mat-hint",10),c.Pc(48,"'dd/mm/yyyy'"),c.Ub(),c.Pc(49,"\n        "),c.Nc(50,$e,2,1,"mat-error",6),c.Pc(51,"\n      "),c.Ub(),c.Pc(52,"\n    "),c.Ub(),c.Pc(53,"\n  "),c.Ub(),c.Pc(54,"\n\n  \xa0\n  "),c.Vb(55,"div",11),c.Pc(56,"Detalles"),c.Ub(),c.Pc(57,"\n  "),c.Qb(58,"hr"),c.Pc(59,"\n  \xa0\n\n  "),c.Vb(60,"div",12),c.Pc(61,"\n    "),c.Nc(62,He,41,9,"div",13),c.Pc(63,"\n  "),c.Ub(),c.Pc(64,"\n\n  "),c.Vb(65,"div",14),c.Pc(66,"\n    "),c.Vb(67,"div",15),c.Pc(68,"\n      "),c.Pc(69,"\n      "),c.Vb(70,"mat-form-field",16),c.Pc(71,"\n        "),c.Vb(72,"mat-label"),c.Pc(73," Total a Pagar "),c.Ub(),c.Pc(74,"\n        "),c.Qb(75,"input",17),c.Pc(76,"\n        "),c.Vb(77,"span",18),c.Pc(78,"$\xa0"),c.Ub(),c.Pc(79,"\n      "),c.Ub(),c.Pc(80,"\n    "),c.Ub(),c.Pc(81,"\n\n    "),c.Qb(82,"div",19),c.Pc(83,"\n  "),c.Ub(),c.Pc(84,"\n"),c.Ub(),c.Pc(85,"\n"),c.Pc(86,"\n")),2&t&&(c.Cb(1),c.sc("formGroup",e.directoForm),c.Cb(11),c.sc("compareWith",e.comparar),c.Cb(2),c.sc("ngForOf",e.allTipoComprobantes),c.Cb(3),c.sc("ngIf",e.tipoComprobante.invalid),c.Cb(11),c.sc("formControl",e.nroComprobante),c.Cb(3),c.sc("ngIf",e.nroComprobante.invalid),c.Cb(11),c.sc("dropSpecialCharacters",!1)("formControl",e.fechaComprobanteString),c.Cb(8),c.sc("ngIf",e.fechaComprobanteString.invalid),c.Cb(12),c.sc("ngForOf",null==e.item?null:e.item.controls))},directives:[o.w,o.o,o.h,k.d,k.c,k.a,$.c,$.g,B.a,o.n,o.g,z.p,z.q,Q.b,Tt.a,o.c,o.f,W.a,$.i,$.f,o.d,$.h,_.n,$.b,o.i,o.s,J.a,q.a],styles:[""]}),t})();var Je=n("Ytql"),_e=n("7EHt"),We=n("MutI"),Ye=n("f0Cb");function Xe(t,e){if(1&t){const t=c.Wb();c.Vb(0,"mat-list-item"),c.Pc(1,"\n          "),c.Vb(2,"mat-radio-button",6),c.gc("change",function(e){return c.Ec(t),c.kc(2).loteChange(e.value)}),c.Pc(3,"\n            "),c.Vb(4,"strong"),c.Pc(5,"Nombre:"),c.Ub(),c.Pc(6),c.Vb(7,"strong"),c.Pc(8,"Nro Lote:"),c.Ub(),c.Pc(9),c.Vb(10,"strong"),c.Pc(11,"Fecha Vencimiento:"),c.Ub(),c.Pc(12),c.Ub(),c.Pc(13,"\n          "),c.Qb(14,"mat-divider"),c.Pc(15,"\n        "),c.Ub()}if(2&t){const t=e.$implicit;c.Cb(2),c.sc("value",t),c.Cb(4),c.Rc(" ",t.lote.nombre," \xa0 "),c.Cb(3),c.Rc(" ",t.nroLote,"\n            \xa0\n            "),c.Cb(3),c.Rc(" ",t.fechaVtoString,"\n          ")}}function Ke(t,e){if(1&t&&(c.Vb(0,"mat-list"),c.Pc(1,"\n        "),c.Nc(2,Xe,16,4,"mat-list-item",5),c.Pc(3,"\n      "),c.Ub()),2&t){const t=c.kc();c.Cb(2),c.sc("ngForOf",t.allLotes)}}function Ze(t,e){1&t&&(c.Pc(0,"\n        "),c.Vb(1,"mat-list",7),c.Pc(2,"\n          "),c.Vb(3,"mat-list-item"),c.Pc(4,"\n            "),c.Vb(5,"p",8),c.Vb(6,"strong"),c.Pc(7," No hay lotes pendientes"),c.Ub(),c.Ub(),c.Pc(8,"\n          "),c.Ub(),c.Pc(9,"\n        "),c.Ub(),c.Pc(10,"\n      "))}function tn(t,e){if(1&t){const t=c.Wb();c.Vb(0,"mat-header-cell",26),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",27),c.gc("change",function(e){c.Ec(t);const n=c.kc(2);return e?n.masterToggle():null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&t){const t=c.kc(2);c.Cb(2),c.sc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function en(t,e){if(1&t){const t=c.Wb();c.Vb(0,"mat-cell",26),c.Pc(1,"\n          "),c.Vb(2,"mat-checkbox",28),c.gc("click",function(t){return t.stopPropagation()})("change",function(n){c.Ec(t);const o=e.$implicit,a=c.kc(2);return n?a.selection.toggle(o):null}),c.Pc(3,"\n          "),c.Ub(),c.Pc(4,"\n        "),c.Ub()}if(2&t){const t=e.$implicit,n=c.kc(2);c.Cb(2),c.sc("checked",n.selection.isSelected(t))}}function nn(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Ente"),c.Ub())}function cn(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Ente:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Rc("\n            ",t.ente.persona?t.ente.persona.apellido:null==t.ente.personaJuridica?null:t.ente.personaJuridica.nombreFantasia,"")}}function on(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"F.Vencimiento"),c.Ub())}function an(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"F.Vto:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.fechaVtoString)}}function rn(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Periodo"),c.Ub())}function sn(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Periodo:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"small"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit;c.Cb(6),c.Qc(t.periodo)}}function ln(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Total"),c.Ub())}function bn(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Total:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,t.totalComprobante,"ARS","symbol","1.0-0"),"\n        ")}}function mn(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Saldo"),c.Ub())}function un(t,e){if(1&t&&(c.Vb(0,"mat-cell",31),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Saldo:"),c.Ub(),c.Pc(4),c.lc(5,"currency"),c.Ub()),2&t){const t=e.$implicit;c.Cb(4),c.Rc("\n          ",c.pc(5,1,t.saldo,"ARS","symbol","1.0-0"),"\n        ")}}function dn(t,e){1&t&&(c.Vb(0,"mat-header-cell",29),c.Pc(1,"Estado"),c.Ub())}function pn(t,e){if(1&t&&(c.Vb(0,"mat-cell"),c.Pc(1,"\n          "),c.Vb(2,"span",30),c.Pc(3,"Estado:"),c.Ub(),c.Pc(4,"\n          "),c.Vb(5,"span"),c.Pc(6),c.Ub(),c.Pc(7,"\n        "),c.Ub()),2&t){const t=e.$implicit,n=c.kc(2);c.Cb(5),c.Fb("badge badge--",n.comprobanteService.getItemCssClassByStatus(t.estadoComprobante.nombre),""),c.Cb(1),c.Rc("\n            ",t.estadoComprobante.nombre,"\n          ")}}function Pn(t,e){1&t&&c.Qb(0,"mat-header-row")}function hn(t,e){1&t&&c.Qb(0,"mat-row")}function fn(t,e){if(1&t&&(c.Tb(0),c.Pc(1,"\n  "),c.Vb(2,"div",9),c.Pc(3,"\n    "),c.Vb(4,"mat-table",10,11),c.Pc(7,"\n      "),c.Tb(8,12),c.Pc(9,"\n        "),c.Nc(10,tn,5,2,"mat-header-cell",13),c.Pc(11,"\n        "),c.Nc(12,en,5,1,"mat-cell",14),c.Pc(13,"\n      "),c.Sb(),c.Pc(14,"\n\n      "),c.Tb(15,15),c.Pc(16,"\n        "),c.Nc(17,nn,2,0,"mat-header-cell",16),c.Pc(18,"\n        "),c.Nc(19,cn,8,1,"mat-cell",17),c.Pc(20,"\n      "),c.Sb(),c.Pc(21,"\n\n      "),c.Tb(22,18),c.Pc(23,"\n        "),c.Nc(24,on,2,0,"mat-header-cell",16),c.Pc(25,"\n        "),c.Nc(26,an,8,1,"mat-cell",17),c.Pc(27,"\n      "),c.Sb(),c.Pc(28,"\n\n      "),c.Tb(29,19),c.Pc(30,"\n        "),c.Nc(31,rn,2,0,"mat-header-cell",16),c.Pc(32,"\n        "),c.Nc(33,sn,8,1,"mat-cell",17),c.Pc(34,"\n      "),c.Sb(),c.Pc(35,"\n\n      "),c.Tb(36,20),c.Pc(37,"\n        "),c.Nc(38,ln,2,0,"mat-header-cell",16),c.Pc(39,"\n        "),c.Nc(40,bn,6,6,"mat-cell",17),c.Pc(41,"\n      "),c.Sb(),c.Pc(42,"\n\n      "),c.Tb(43,21),c.Pc(44,"\n        "),c.Nc(45,mn,2,0,"mat-header-cell",16),c.Pc(46,"\n        "),c.Nc(47,un,6,6,"mat-cell",22),c.Pc(48,"\n      "),c.Sb(),c.Pc(49,"\n\n      "),c.Tb(50,23),c.Pc(51,"\n        "),c.Nc(52,dn,2,0,"mat-header-cell",16),c.Pc(53,"\n        "),c.Nc(54,pn,8,4,"mat-cell",17),c.Pc(55,"\n      "),c.Sb(),c.Pc(56,"\n\n      "),c.Nc(57,Pn,1,0,"mat-header-row",24),c.Pc(58,"\n      "),c.Nc(59,hn,1,0,"mat-row",25),c.Pc(60,"\n    "),c.Ub(),c.Pc(61,"\n  "),c.Ub(),c.Pc(62,"\n"),c.Sb()),2&t){const t=c.kc();c.Cb(4),c.sc("dataSource",t.dataSource),c.Cb(53),c.sc("matHeaderRowDef",t.displayedColumns),c.Cb(2),c.sc("matRowDefColumns",t.displayedColumns)}}function gn(t,e){1&t&&(c.Pc(0,"\n  "),c.Vb(1,"div",32),c.Pc(2,"\n    "),c.Vb(3,"div"),c.Pc(4,"Cargando..."),c.Ub(),c.Pc(5,"\n  "),c.Ub(),c.Pc(6,"\n"))}function Cn(t,e){if(1&t&&(c.Vb(0,"div"),c.Pc(1,"\n  "),c.Vb(2,"div",33),c.Pc(3,"\n    "),c.Vb(4,"div",34),c.Pc(5,"\n      "),c.Vb(6,"mat-form-field",35),c.Pc(7,"\n        "),c.Vb(8,"mat-label"),c.Pc(9,"Total a Pagar"),c.Ub(),c.Pc(10,"\n        "),c.Qb(11,"input",36),c.lc(12,"currency"),c.Pc(13,"\n      "),c.Ub(),c.Pc(14,"\n    "),c.Ub(),c.Pc(15,"\n  "),c.Ub(),c.Pc(16,"\n"),c.Ub()),2&t){const t=c.kc();c.Cb(11),c.sc("value",c.oc(12,1,t.totalComprobante,"ARS","symbol"))}}let vn=(()=>{class t{constructor(t,e){this.loteService=t,this.comprobanteService=e,this.displayedColumns=["Select","Ente","F.Vencimiento","Periodo","Total","Saldo","Estado"],this.subscriptions=[],this.selection=new I.c(!0,[]),this.detalleResult=[],this.allLotes=[],this.loading=!1,this.totalInfo=new c.o,this.formInfo=new c.o}ngOnInit(){this.loadLoteList(),this.subscriptions.push(this.selection.changed.subscribe(()=>{if(this.totalComprobante=0,this.selection.selected.length>0){let t=0;this.selection.selected.forEach(e=>{t+=e.saldo,this.totalComprobante=t});const e={comprobanteRef:this.selection.selected,totalComprobante:t};this.totalInfo.emit(t),this.formInfo.emit(e)}else this.totalInfo.emit(null),this.formInfo.emit(null)}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadLoteList(){this.loteService.getAllLotesPendientes().subscribe(t=>{this.allLotes=t})}loteChange(t){this.loading=!0,this.dataSource=null,this.loteService.getDetalleLote(t.nroLote).subscribe(t=>{this.detalleResult=t,this.dataSource=t,this.loading=!1}),this.selection.clear()}isAllSelected(){return this.selection.selected.length===this.detalleResult.length}masterToggle(){this.selection.selected.length===this.detalleResult.length?this.selection.clear():this.detalleResult.forEach(t=>this.selection.select(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(Je.a),c.Pb(D.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["jhi-lote"]],outputs:{totalInfo:"totalInfo",formInfo:"formInfo"},decls:34,vars:6,consts:[[3,"expanded"],[4,"ngIf","ngIfElse"],["noregistros",""],["elseTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","primary",3,"value","change"],["dense",""],["mat-line",""],[1,"responsive-table","m-t-15","mat-elevation-z2"],["matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"table-items-list",3,"dataSource"],["table","","sort1","matSort"],["matColumnDef","Select"],["class","mat-column-checkbox",4,"matHeaderCellDef"],["class","mat-column-checkbox",4,"matCellDef"],["matColumnDef","Ente"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","F.Vencimiento"],["matColumnDef","Periodo"],["matColumnDef","Total"],["matColumnDef","Saldo"],["style","color: blue","class","font-medium",4,"matCellDef"],["matColumnDef","Estado"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"mat-column-checkbox"],["color","primary",3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"header-label"],[1,"font-medium",2,"color","blue"],[1,"font-medium","text-center","p-10"],["fxLayout","column","fxLayoutAlign","end end"],["fxFlex","100","fxFlex.gt-sm","50"],["appearance","fill"],["matInput","","disabled","",2,"font-size","20px","color","red",3,"value"]],template:function(t,e){if(1&t&&(c.Vb(0,"div"),c.Pc(1,"\n  "),c.Vb(2,"mat-accordion"),c.Pc(3,"\n    "),c.Vb(4,"mat-expansion-panel",0),c.Pc(5,"\n      "),c.Vb(6,"mat-expansion-panel-header"),c.Pc(7,"\n        "),c.Vb(8,"mat-panel-title"),c.Pc(9,"\n          "),c.Vb(10,"mat-icon"),c.Pc(11,"view_list"),c.Ub(),c.Pc(12,"\n          Lotes Pendientes\n        "),c.Ub(),c.Pc(13,"\n      "),c.Ub(),c.Pc(14,"\n\n      "),c.Nc(15,Ke,4,1,"mat-list",1),c.Pc(16,"\n\n      "),c.Nc(17,Ze,11,0,"ng-template",null,2,c.Oc),c.Pc(19,"\n    "),c.Ub(),c.Pc(20,"\n  "),c.Ub(),c.Pc(21,"\n"),c.Ub(),c.Pc(22,"\n"),c.Qb(23,"br"),c.Pc(24,"\n\n"),c.Nc(25,fn,63,3,"ng-container",1),c.Pc(26,"\n\n"),c.Nc(27,gn,7,0,"ng-template",null,3,c.Oc),c.Pc(29,"\n\n"),c.Qb(30,"br"),c.Pc(31,"\n"),c.Nc(32,Cn,17,5,"div",4),c.Pc(33,"\n")),2&t){const t=c.Cc(18),n=c.Cc(28);c.Cb(4),c.sc("expanded",!0),c.Cb(11),c.sc("ngIf",e.allLotes.length>0)("ngIfElse",t),c.Cb(10),c.sc("ngIf",!e.loading)("ngIfElse",n),c.Cb(7),c.sc("ngIf",(null==e.selection?null:e.selection.selected.length)>0)}},directives:[_e.a,_e.c,_e.d,_e.e,W.a,z.q,We.a,z.p,We.c,Nt.a,Ye.a,_.k,H.j,G.a,H.c,H.e,H.b,H.g,H.i,H.d,ce.a,H.a,G.b,H.f,H.h,k.d,k.c,k.a,$.c,$.g,Q.b],pipes:[z.d],styles:[""]}),t})(),Vn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({imports:[[U.a,S.i.forChild(Yt),Tt.b.forChild()]]}),t})();c.Ic(V,[o.w,o.o,o.h,k.d,k.a,Nt.b,k.c,o.n,o.g,R.a,Nt.a,z.q,Ge,De,vn],[])}}]);